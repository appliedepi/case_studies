<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>multidisease_surveillance.fr – Applied Epi Open Case Study Repository</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-8ea72dc5fed832574809a9c94082fbbb.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-aa61d32c583bf1dfab972411f0652ea9.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-f69cc4c4d15ad532714b0a0037dc36d7.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-YBNGPHQ4MK"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-YBNGPHQ4MK', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script> 
  
<link href="../site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">

<script src="../site_libs/tabwid-1.1.3/tabwid.js"></script>



<link rel="stylesheet" href="webex.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Applied Epi Open Case Study Repository</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../pages/instructions.html"> 
<span class="menu-text">How-to Guide</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://appliedepi.org/"> 
<span class="menu-text">About Applied Epi</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://twitter.com/appliedepi" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://www.linkedin.com/company/appliedepi/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/logos/Applied_Epi_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#multidisease_surveillance" id="toc-multidisease_surveillance" class="nav-link active" data-scroll-target="#multidisease_surveillance">Jonction et analyse des données de notification et des données de laboratoire dans R</a>
  <ul class="collapse">
  <li><a href="#scénario" id="toc-scénario" class="nav-link" data-scroll-target="#scénario">Scénario</a></li>
  <li><a href="#les-objectifs" id="toc-les-objectifs" class="nav-link" data-scroll-target="#les-objectifs">Les objectifs</a></li>
  <li><a href="#étape-1.-mise-en-place" id="toc-étape-1.-mise-en-place" class="nav-link" data-scroll-target="#étape-1.-mise-en-place">Étape 1. Mise en place</a>
  <ul class="collapse">
  <li><a href="#démarrer-dans-rstudio" id="toc-démarrer-dans-rstudio" class="nav-link" data-scroll-target="#démarrer-dans-rstudio">1.1 Démarrer dans RStudio</a></li>
  <li><a href="#installercharger-des-packages" id="toc-installercharger-des-packages" class="nav-link" data-scroll-target="#installercharger-des-packages">1.2 Installer/charger des packages</a></li>
  </ul></li>
  <li><a href="#étape-2.-télécharger-et-importer-les-données" id="toc-étape-2.-télécharger-et-importer-les-données" class="nav-link" data-scroll-target="#étape-2.-télécharger-et-importer-les-données">Étape 2. Télécharger et importer les données</a>
  <ul class="collapse">
  <li><a href="#télécharger-les-données" id="toc-télécharger-les-données" class="nav-link" data-scroll-target="#télécharger-les-données">2.1 : Télécharger les données</a></li>
  <li><a href="#importer-les-données" id="toc-importer-les-données" class="nav-link" data-scroll-target="#importer-les-données">2.2 Importer les données</a></li>
  </ul></li>
  <li><a href="#étape-3.-inspecter-les-données" id="toc-étape-3.-inspecter-les-données" class="nav-link" data-scroll-target="#étape-3.-inspecter-les-données">Étape 3. Inspecter les données</a>
  <ul class="collapse">
  <li><a href="#étape-3.1-inspecter-les-données-de-surveillance" id="toc-étape-3.1-inspecter-les-données-de-surveillance" class="nav-link" data-scroll-target="#étape-3.1-inspecter-les-données-de-surveillance">Étape 3.1 Inspecter les données de surveillance</a></li>
  <li><a href="#étape-3.2-inspecter-les-données-de-laboratoire" id="toc-étape-3.2-inspecter-les-données-de-laboratoire" class="nav-link" data-scroll-target="#étape-3.2-inspecter-les-données-de-laboratoire">Étape 3.2 Inspecter les données de laboratoire</a></li>
  </ul></li>
  <li><a href="#étape-4.-nettoyer-et-décrire-les-données-de-notification" id="toc-étape-4.-nettoyer-et-décrire-les-données-de-notification" class="nav-link" data-scroll-target="#étape-4.-nettoyer-et-décrire-les-données-de-notification">Étape 4. Nettoyer et décrire les données de notification</a>
  <ul class="collapse">
  <li><a href="#étape-4.1-nettoyer-les-données" id="toc-étape-4.1-nettoyer-les-données" class="nav-link" data-scroll-target="#étape-4.1-nettoyer-les-données">Étape 4.1 Nettoyer les données</a></li>
  <li><a href="#étape-4.2-analyse-descriptive-simple" id="toc-étape-4.2-analyse-descriptive-simple" class="nav-link" data-scroll-target="#étape-4.2-analyse-descriptive-simple">Étape 4.2 Analyse descriptive simple</a></li>
  </ul></li>
  <li><a href="#étape-5.-nettoyer-consolider-et-décrire-les-données-de-laboratoire" id="toc-étape-5.-nettoyer-consolider-et-décrire-les-données-de-laboratoire" class="nav-link" data-scroll-target="#étape-5.-nettoyer-consolider-et-décrire-les-données-de-laboratoire">Étape 5. Nettoyer, consolider et décrire les données de laboratoire</a>
  <ul class="collapse">
  <li><a href="#étape-5.1-normaliser-les-résultats-des-tests" id="toc-étape-5.1-normaliser-les-résultats-des-tests" class="nav-link" data-scroll-target="#étape-5.1-normaliser-les-résultats-des-tests">Étape 5.1 Normaliser les résultats des tests</a></li>
  <li><a href="#étape-5.2-consolidation-pour-obtenir-une-ligne-par-test" id="toc-étape-5.2-consolidation-pour-obtenir-une-ligne-par-test" class="nav-link" data-scroll-target="#étape-5.2-consolidation-pour-obtenir-une-ligne-par-test">Étape 5.2 Consolidation pour obtenir une ligne par test</a></li>
  <li><a href="#étape-5.3-analyse-descriptive-simple" id="toc-étape-5.3-analyse-descriptive-simple" class="nav-link" data-scroll-target="#étape-5.3-analyse-descriptive-simple">Étape 5.3 Analyse descriptive simple</a></li>
  </ul></li>
  <li><a href="#étape-6.-jonction-et-traitement-final" id="toc-étape-6.-jonction-et-traitement-final" class="nav-link" data-scroll-target="#étape-6.-jonction-et-traitement-final">Étape 6. Jonction et traitement final</a>
  <ul class="collapse">
  <li><a href="#étape-6.1-joindre-les-données-de-notification-et-les-données-de-laboratoire" id="toc-étape-6.1-joindre-les-données-de-notification-et-les-données-de-laboratoire" class="nav-link" data-scroll-target="#étape-6.1-joindre-les-données-de-notification-et-les-données-de-laboratoire">Étape 6.1 Joindre les données de notification et les données de laboratoire</a></li>
  <li><a href="#étape-6.2-étiqueter-les-cas-confirmés-écartés-et-suspects" id="toc-étape-6.2-étiqueter-les-cas-confirmés-écartés-et-suspects" class="nav-link" data-scroll-target="#étape-6.2-étiqueter-les-cas-confirmés-écartés-et-suspects">Étape 6.2 Étiqueter les cas confirmés, écartés et suspects</a></li>
  <li><a href="#étape-6.3-examiner-la-distribution-des-résultats-de-laboratoire-entre-les-cas" id="toc-étape-6.3-examiner-la-distribution-des-résultats-de-laboratoire-entre-les-cas" class="nav-link" data-scroll-target="#étape-6.3-examiner-la-distribution-des-résultats-de-laboratoire-entre-les-cas">Étape 6.3 Examiner la distribution des résultats de laboratoire entre les cas</a></li>
  <li><a href="#étape-6.4-création-dune-liste-linéaire-contenant-uniquement-les-cas-confirmés" id="toc-étape-6.4-création-dune-liste-linéaire-contenant-uniquement-les-cas-confirmés" class="nav-link" data-scroll-target="#étape-6.4-création-dune-liste-linéaire-contenant-uniquement-les-cas-confirmés">Étape 6.4 Création d’une liste linéaire contenant uniquement les cas confirmés</a></li>
  </ul></li>
  <li><a href="#étape-7.-analyse-descriptive-des-cas-confirmés" id="toc-étape-7.-analyse-descriptive-des-cas-confirmés" class="nav-link" data-scroll-target="#étape-7.-analyse-descriptive-des-cas-confirmés">Étape 7. Analyse descriptive des cas confirmés</a>
  <ul class="collapse">
  <li><a href="#étape-7.1-décrire-les-cas-par-district" id="toc-étape-7.1-décrire-les-cas-par-district" class="nav-link" data-scroll-target="#étape-7.1-décrire-les-cas-par-district">Étape 7.1 Décrire les cas par district</a></li>
  <li><a href="#étape-7.2-décrire-les-cas-au-cours-le-temps" id="toc-étape-7.2-décrire-les-cas-au-cours-le-temps" class="nav-link" data-scroll-target="#étape-7.2-décrire-les-cas-au-cours-le-temps">Étape 7.2 Décrire les cas au cours le temps</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#code-de-nettoyage-et-danalyse-des-données" id="toc-code-de-nettoyage-et-danalyse-des-données" class="nav-link" data-scroll-target="#code-de-nettoyage-et-danalyse-des-données">Code de nettoyage et d’analyse des données</a></li>
  <li><a href="#informations-sur-létude-de-cas" id="toc-informations-sur-létude-de-cas" class="nav-link" data-scroll-target="#informations-sur-létude-de-cas">Informations sur l’étude de cas</a></li>
  <li><a href="#conditions-dutilisation" id="toc-conditions-dutilisation" class="nav-link" data-scroll-target="#conditions-dutilisation">Conditions d’utilisation</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="multidisease_surveillance" class="level1">
<h1>Jonction et analyse des données de notification et des données de laboratoire dans R</h1>
<div class="callout callout-style-simple callout-note no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><strong>Outil:</strong> R <strong>Complexité technique:</strong> Intermédiaire <strong>Complexité méthodologique:</strong> Basique</p>
<p><strong>Connaissances préalables requises:</strong> <a href="https://epirhandbook.com/fr/basics.fr.html">bases de R</a> (Utilisation de Rstudio ; packages R, fonctions et arguments, utilisation de l’opérateur pipe) ainsi que les fonctions clés de tidyverse et de ggplots.</p>
<p><strong>Source:</strong> Applied Epi, avec le soutien technique du CDC Global Surveillance, Laboratory, and Data Systems Branch en collaboration avec TEPHINET.</p>
</div>
</div>
</div>
<p>Pour savoir comment utiliser nos études de cas, consultez notre site web <a href="instructions.html">Guide Pratique</a>. Nous vous invitons à nous faire part de vos commentaires et suggestions à l’adresse <a href="mailto:contact@appliedepi.org">contact@appliedepi.org</a>. Vous pouvez également discuter de l’étude de cas ou de sujets associés sur le <a href="https://community.appliedepi.org/">Forum communautaire d’Applied Epi</a>.</p>
<section id="scénario" class="level2">
<h2 class="anchored" data-anchor-id="scénario">Scénario</h2>
<p>Vous êtes un épidémiologiste travaillant au bureau national de surveillance de Feveria, un tout petit pays tropical. Le pays compte trois districts :</p>
<ul>
<li><strong>Feveria Central</strong>: une zone urbaine surpeuplée, avec des infrastructures d’eau et d’assainissement parfois peu fiables.</li>
<li><strong>Lac Minara</strong>: une région lacustre dotée de bonnes infrastructures, mais avec une forte présence de moustiques pendant les mois les plus chauds de l’année.</li>
<li><strong>Kasara</strong>: une zone suburbaine de l’autre côté de Feveria Central.</li>
</ul>
<p><strong>Carte des districts du pays Feveria</strong></p>
<p><img src="..\images/multidisease_surveillance/map_fr.png" class="img-fluid" style="width:70.0%"></p>
<p>Nous sommes en janvier 2025, et votre supérieure hiérarchique souhaite que vous transfériez le traitement de routine des données sur les maladies à déclaration obligatoire d’Excel à R, et d’effectuer quelques analyses sur ces données. Elle souhaite connaître au minimum:</p>
<ul>
<li>Combien de cas suspects des différentes maladies à déclaration obligatoire ont été signalés en 2024, et quelle était la plus représentée ?</li>
<li>Parmi eux, quel était le pourcentage de cas confirmés ?</li>
<li>Combien de cas confirmés des différentes maladies à déclaration obligatoire ont été signalés en 2024, et quelle était la plus représentée ?</li>
<li>Comment se répartissaient géographiquement et temporellement les cas confirmés dans la région de Feveria ?</li>
</ul>
<p>Elle vous demande d’écrire le code pour importer, nettoyer, joindre et analyser les listes linéaires suivantes :</p>
<ul>
<li><strong>Données de surveillance 2024 des maladies à déclaration obligatoire :</strong> Appelées également “données de notification”, il s’agit de données de surveillance sur cinq maladies à déclaration obligatoire signalées par les cliniques de Feveria : la dengue, le paludisme, le choléra, la fièvre typhoïde et la fièvre jaune. Il s’agit de cas suspects, basés sur les symptômes des patients. Les cliniciens saisissent chaque notification dans un système en ligne tous les jours de la semaine.</li>
<li><strong>Données 2024 sur les résultats des tests de laboratoire :</strong> Ces données sont issues des résultats des tests de laboratoire effectués par trois grands laboratoires de Feveria. Ces résultats concernent des échantillons prélevés sur les cas suspects de maladies à déclaration obligatoire enregistrés dans la première base de données ci-dessus.</li>
</ul>
<p>Allons-y !</p>
</section>
<section id="les-objectifs" class="level2">
<h2 class="anchored" data-anchor-id="les-objectifs">Les objectifs</h2>
<p>Dans cette étude de cas, vous allez :</p>
<ol type="1">
<li>Utiliser des fonctions essentielles de R pour nettoyer des données, remodeler des bases de données, fusionner différentes sources de données et créer de nouvelles colonnes à l’aide de conditions logiques pour préparer les données pour l’analyse.</li>
<li>Passer en revue les données et effectuer des contrôles de leur qualité à plusieurs étapes du projet et comprendre l’importance de ces actions pour une analyse fiable.</li>
<li>Conduire des analyses descriptives de base pour comparer les tendances des maladies à partir de différentes sources de données, avant et après la jointure.</li>
<li>Interpréter les différences de résultats selon les sources de données et comprendre comment elles reflètent la structure et la conception du système de surveillance dans son ensemble.</li>
</ol>
</section>
<section id="étape-1.-mise-en-place" class="level2">
<h2 class="anchored" data-anchor-id="étape-1.-mise-en-place">Étape 1. Mise en place</h2>
<section id="démarrer-dans-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="démarrer-dans-rstudio">1.1 Démarrer dans RStudio</h3>
<p>Commencez par la mise en place d’un flux de travail reproductible et bien organisé. Ce processus facilitera le renouvellement de votre analyse chaque fois que cela sera nécessaire.</p>
<p><strong>Tâches :</strong></p>
<ul>
<li>Création d’un un projet RStudio</li>
<li>Création d’une structure claire de sous-dossiers dans lesquels vous placerez votre code, vos données et vos résultats / sorties.</li>
<li>Création d’un script R, ou d’un fichier R Markdown si vous préférez. Assurez-vous que que le but du script, la date et l’auteur sont écrits sous forme de commentaires en haut du script.</li>
<li>Additionnel : Assurez-vous que votre langue de travail dans RStudio est appropriée (par ex. le français pour cet exercice)</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour lire un indice
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><p>Créez un dossier dans lequel vous placerez tous les travaux de cette étude de cas. Par exemple, créez un dossier “Analyse_multi_maladies” sur le bureau de votre ordinateur. Créez votre projet RStudio dans ce dossier.</p></li>
<li><p>Nous suggérons de créer les sous-dossiers suivants : <code>scripts</code> (pour votre code), <code>donnees</code> (pour vos données), et <code>resultats</code> (pour vos résultats d’analyse).</p></li>
</ul>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Créez un dossier (par exemple “Analyse_multi_maladies” sur votre bureau) pour cet exercice. Pour créer un projet Rstudio dans votre nouveau dossier, cliquez sur l’icône <code>New Project</code> en haut à gauche de votre fenêtre R Studio (ou sur <code>File</code> puis <code>New Project</code>), puis sur<code>Existing Directory</code> puis <code>Browse</code> pour sélectionner votre nouveau dossier. Pour plus d’informations, consultez la section <a href="https://epirhandbook.com/fr/r_projects.fr.html">Projets R</a> du Epi R Handbook.</p>
<p>Ouvrez un nouveau script R en cliquant sur l’icône <code>New File</code> en haut à gauche de votre écran R Studio (ou sur <code>File</code> puis <code>New File</code>), puis <code>R Script</code>. Sauvegardez-le immédiatement à un endroit approprié, par exemple, dans le sous-dossier <code>scripts</code> de votre dossier de projet R.</p>
<p>Au début de votre nouveau script R, écrivez sous forme de commentaires quelques informations essentielles telles que votre nom, le but du fichier et la date.</p>
<p>Les paramètres R “locale” déterminent la langue et les paramètres régionaux utilisés pour les scripts R comme les formats de date et les traductions. Si vos paramètres régionaux sont différents de la langue que vous souhaitez utiliser pour votre rapport (par exemple, les paramètres anglophones au lieu des paramètres francophones), vous pouvez les remplacer par les francophones en exécutant la commande <code>Sys.setlocale("LC_ALL", "French")</code>. Incluez cette commande dans votre script si nécessaire, ou ignorez-la si vos paramètres sont appropriés. Ceci est expliqué plus en détail dans le <a href="pages/instructions.qmd_">Guide pratique</a>.</p>
</div>
</div>
</div>
</section>
<section id="installercharger-des-packages" class="level3">
<h3 class="anchored" data-anchor-id="installercharger-des-packages">1.2 Installer/charger des packages</h3>
<p>Dans votre script R, vous devez maintenant installer et charger les packages R nécessaires. Cela permet de s’assurer que les fonctions nécessaires sont disponibles pour votre analyse.</p>
<p>Vous aurez besoin des packages suivants : <code>{rio}</code> (pour l’importation des données),<code>{skimr}</code> (pour l’examen des données), <code>{janitor}</code> (pour le nettoyage des données), <code>{lubridate}</code> (pour le nettoyage des dates), <code>{epikit}</code> (pour des tâches liées à l’épidémiologie), <code>{gtsummary}</code> (pour les statistiques descriptives / les tests et régressions), <code>{apyramid}</code> (pour les pyramides des âges et des sexes), <code>{flextable}</code> (pour des tableaux prêts à être présentés), <code>{naniar}</code> (pour l’analyse des données manquantes), et <code>{tidyverse}</code> (pour la manipulation générale des données et autres tâches scientifiques).</p>
<p>Vous aurez également besoin du package<code>{remotes}</code> pour télécharger les données - ce que nous expliquerons dans la section sur le téléchargement.</p>
<p>Alors que vous commencez, votre collègue expérimenté vous glisse : “J’ai entendu parler du package <code>{pacman}</code> pour facilement gérer l’instalation et le chargement des packages dans R”.</p>
<p>À vous de jouer !</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utilisez la fonction <code>p_load()</code> de <code>pacman</code> pour cette tâche. Vous fournissez à la fonction une liste de packages que vous souhaitez utiliser. La fonction effectuera deux étapes pour chaque package :</p>
<ol type="1">
<li><p>Vérifier si le package est installé sur votre ordinateur, et l’installer si nécessaire, puis</p></li>
<li><p>Charger le package pour qu’il pour qu’il puisse être utilisé pendant cette session R.</p></li>
</ol>
<p>Si vous n’avez pas encore installé <code>pacman</code>, vous devrez d’abord l’installer de manière “traditionnelle”, à l’aide de la fonction <code>install.packages()</code>.</p>
<p>Notez que l’ordre des packages dans votre fonction <code>p_load</code> peut être important. Si deux packages possèdent une fonction avec un nom identique (par exemple <code>select()</code> dans le package <code>MASS</code> et <code>select()</code> dans <code>tidyverse</code> qui réalisent des tâches différentes), alors R utilisera la fonction du dernier package chargé. Pour donner la priorité aux fonctions de <code>tidyverse</code>, qui sont couramment utilisées pour la manipulation et la visualisation des données, chargez <code>tidyverse</code> en dernier.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pour s'assurer que le package "pacman" est installé</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) {</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">install.packages</span>(<span class="st">"pacman"</span>) }</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Installation (si nécessaire) depuis le CRAN et chargement des packages à utiliser</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  rio,        <span class="co"># importation de données  </span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  skimr,      <span class="co"># aperçu des données</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  janitor,    <span class="co"># nettoyage des données et tableaux descriptifs</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  lubridate,  <span class="co"># manipulation des dates</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  epikit,     <span class="co"># pour créer des catégories d'âge</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  gtsummary,  <span class="co"># statistiques descriptives, tests et régressions </span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  apyramid,   <span class="co"># tracé de pyramides des âges </span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  flextable,  <span class="co"># tableaux prêts à être présentés</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  naniar,     <span class="co"># analyse des données manquantes</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  remotes,    <span class="co"># pour installer le package permettant de télécharger les données</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  tidyverse   <span class="co"># gestion et visualisation des données</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="étape-2.-télécharger-et-importer-les-données" class="level2">
<h2 class="anchored" data-anchor-id="étape-2.-télécharger-et-importer-les-données">Étape 2. Télécharger et importer les données</h2>
<section id="télécharger-les-données" class="level3">
<h3 class="anchored" data-anchor-id="télécharger-les-données">2.1 : Télécharger les données</h3>
<p>Votre bureau vous fournit deux fichiers pour votre analyse, tous deux contenant des données pour 2024 et mises à jour au 15 janvier 2025 :</p>
<ul>
<li>un ensemble de données de notification des maladies (<em>“multi_maladies_notifications.xlsx”</em>) avec l’information sur les cas de 5 centres de santé.</li>
<li>Un ensemble de données au niveau des tests de laboratoire (<em>“multi_maladies_tests.csv”)</em> soumis par trois laboratoires effectuant des tests pour les cinq centres de santé.</li>
</ul>
<p>Pour cette étude de cas, vous pouvez télécharger les données via le répertoire de données d’Applied Epi, auquel vous pouvez accéder grâce au package <code>{appliedepidata}</code>. Suivez les étapes suivantes :</p>
<ol type="1">
<li>Installez le package <code>{appliedepidata}</code> depuis GitHub à l’aide de la fonction <code>install_github()</code> du package <code>{remotes}</code> (que vous avez installé précédemment)</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the install_github function from remotes to install appliedepidata</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"appliedepi/appliedepidata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Enregistrez les deux ensembles de données dans un dossier spécifique à l’aide de la fonction <code>save_data()</code> de <code>{appliedepidata}</code> en exécutant le code ci-dessous. Dans l’exemple ci-dessous, les données sont enregistrées dans un sous-dossier <code>donnees</code> du dossier de projet RStudio. Notez que si vous ne spécifiez pas d’emplacement spécifique avec l’argument <code>path</code> de la fonction, une fenêtre s’ouvrira pour vous demander de sélectionner manuellement un dossier.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Téléchargement des deux fichiers de données en utilisant la fonction save_data()de appliedepidata</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>appliedepidata<span class="sc">::</span><span class="fu">save_data</span>(<span class="st">"multi_maladies_tests"</span>,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">path =</span> <span class="st">"donnees"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>appliedepidata<span class="sc">::</span><span class="fu">save_data</span>(<span class="st">"multi_maladies_notifications"</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">path =</span> <span class="st">"donnees"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importer-les-données" class="level3">
<h3 class="anchored" data-anchor-id="importer-les-données">2.2 Importer les données</h3>
<p>Très bien ! Merci au bureau national et à Applied Epi ! Il est maintenant temps d’importer les données de ce dossier dans RStudio, afin de pouvoir les analyser.</p>
<section id="tâche-a-importer-les-deux-fichiers-de-données-téléchargés-dans-votre-environnement-r-studio" class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-importer-les-deux-fichiers-de-données-téléchargés-dans-votre-environnement-r-studio"><strong>Tâche A : Importer les deux fichiers de données téléchargés dans votre environnement R Studio</strong></h4>
<p>Idéalement, vous utiliserez la même fonction pour importer les deux ensembles de données, bien qu’un soit un fichier .csv et l’autre un fichier .xlsx. Notez qu’à l’avenir, nous dirons simplement “environnement” lorsque nous parlerons de la fenêtre environnement dans R Studio.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour lire un indice
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utiliser la fonction <code>import</code> du package <code>{rio}</code>, qui peut reconnaître et importer différents types de fichiers. Elle remplace les fonctions d’importation qui sont spécifiques à un type de fichier, telles que <code>read.csv()</code> de <code>{base}</code> pour les fichiers .csv et <code>read_excel()</code> de <code>{readxl}</code> pour importer des fichiers .xlsx.</p>
<p>Pour en savoir plus sur les fonctions d’importation, lisez le chapitre <a href="https://epirhandbook.com/fr/importing.fr.html">Importer et exporter des données</a> du Epi R Handbook.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Ci-dessous, nous utilisons la fonction d’importation pour importer les deux fichiers. Notez que nous assignons les données importées à deux objets, l’un appelé <em>data_notif_brut</em> et un autre appelé <em>data_lab_brut</em>. Nous ajoutons le suffixe “brut” pour distinguer ces données des versions nettoyées que nous créerons plus tard.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importation des données</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Données de notification</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>data_notif_brut <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"donnees/multi_maladies_notifications.xlsx"</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Données de labo</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>data_lab_brut <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"donnees/multi_maladies_tests.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="étape-3.-inspecter-les-données" class="level2">
<h2 class="anchored" data-anchor-id="étape-3.-inspecter-les-données">Étape 3. Inspecter les données</h2>
<p>Les données sont là, il est maintenant temps de voir ce qu’elles racontent. Jetez un premier coup d’oeil à vos deux ensembles de données brutes pour en vérifier le contenu et la qualité.</p>
<section id="étape-3.1-inspecter-les-données-de-surveillance" class="level3">
<h3 class="anchored" data-anchor-id="étape-3.1-inspecter-les-données-de-surveillance">Étape 3.1 Inspecter les données de surveillance</h3>
<section id="tâche-a-inspecter-tout-dabord-les-dimensions-et-le-contenu-global-des-données-de-notification" class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-inspecter-tout-dabord-les-dimensions-et-le-contenu-global-des-données-de-notification"><strong>Tâche A : Inspecter tout d’abord les <em>dimensions</em> et le contenu global des données de notification</strong></h4>
<p><strong>Utilisez <code>skim()</code> du package <code>{skimr}</code> package, ainsi que <code>names()</code>, <code>ncol()</code> et <code>nrow()</code> pour inspecter votre ensemble de données.</strong></p>
<p><code>skim()</code> vous donne de nombreuses informations sur la structure et le contenu des données, et <code>names()</code> vous fournira les différents noms de colonnes des données. Les fonctions <code>ncol()</code> et <code>nrow()</code> renvoient le nombre de colonnes ou de lignes dans les données. Savez-vous ce qu’il faut mettre entre les parenthèses ?</p>
<p>Le plus simple est de regarder dans l’environnement. Rappelez-vous que l’objet de votre environnement contenant les données de notification s’appelle <code>data_notif_brut</code>.</p>
<p>Cliquez sur la solution sous l’encart de questions si vous avez besoin d’aide.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Combien y a-t-il de colonnes dans les données de notification?
<div id="radio_EBYDJNGSSB" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_EBYDJNGSSB" value=""> <span>10</span></label><label><input type="radio" autocomplete="off" name="radio_EBYDJNGSSB" value=""> <span>11</span></label><label><input type="radio" autocomplete="off" name="radio_EBYDJNGSSB" value="answer"> <span>12</span></label><label><input type="radio" autocomplete="off" name="radio_EBYDJNGSSB" value=""> <span>13</span></label>
</div>
Laquelle de ces colonnes n’apparait PAS dans les données?
<div id="radio_PGRPLQKYKT" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_PGRPLQKYKT" value=""> <span>Date d'apparition</span></label><label><input type="radio" autocomplete="off" name="radio_PGRPLQKYKT" value=""> <span>Date signalée par l'établissement de santé/la communauté</span></label><label><input type="radio" autocomplete="off" name="radio_PGRPLQKYKT" value=""> <span>Date du résultat</span></label><label><input type="radio" autocomplete="off" name="radio_PGRPLQKYKT" value="answer"> <span>Date de test</span></label><label><input type="radio" autocomplete="off" name="radio_PGRPLQKYKT" value=""> <span>Date de naissance</span></label>
</div>
Quel est le nom de la / des colonne(s) permettant d’identifier chaque notification de cas?
<div id="radio_UBZKNBVYJW" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_UBZKNBVYJW" value="answer"> <span>ID de notification</span></label><label><input type="radio" autocomplete="off" name="radio_UBZKNBVYJW" value=""> <span>Test ID</span></label><label><input type="radio" autocomplete="off" name="radio_UBZKNBVYJW" value=""> <span>Code de l'établissement de santé</span></label><label><input type="radio" autocomplete="off" name="radio_UBZKNBVYJW" value=""> <span>Combinaison de ID de notification et Sexe</span></label>
</div>
Combien y a-t-il de lignes dans les données de notification?
<div id="radio_XZKSICYPKG" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XZKSICYPKG" value="answer"> <span>987</span></label><label><input type="radio" autocomplete="off" name="radio_XZKSICYPKG" value=""> <span>1314</span></label><label><input type="radio" autocomplete="off" name="radio_XZKSICYPKG" value=""> <span>950</span></label><label><input type="radio" autocomplete="off" name="radio_XZKSICYPKG" value=""> <span>778</span></label>
</div>
A quel type d’information n’avez vous PAS accès dans les données de notification?
<div id="radio_WFEYRSLTKM" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_WFEYRSLTKM" value="answer"> <span>Le résultat du test de laboratoire</span></label><label><input type="radio" autocomplete="off" name="radio_WFEYRSLTKM" value=""> <span>Le district de résidence</span></label><label><input type="radio" autocomplete="off" name="radio_WFEYRSLTKM" value=""> <span>La date de naissance et le sexe</span></label><label><input type="radio" autocomplete="off" name="radio_WFEYRSLTKM" value=""> <span>La structure de santé où a eu lieu la notification</span></label><label><input type="radio" autocomplete="off" name="radio_WFEYRSLTKM" value=""> <span>L'issue de la maladie</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utilisez <code>skim()</code> du package <code>{skimr}</code> pour obtenir un résumé de l’ensemble des données, et <code>View()</code> pour consulter directement l’ensemble de la base de données sous forme de tableur :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(data_notif_brut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vous pouvez également utiliser <code>names()</code> pour imprimer uniquement les noms des colonnes. Par l’intermédiaire de <code>skim()</code> et <code>names()</code> vous aurez accès à différents type d’information, notamment : l’établissement de santé du cas, la date de naissance, le sexe, un indicateur de grossesse, le district de résidence, la date d’apparition et la date rapportée par la clinique, ainsi que des informations sur l’issue de la maladie.</p>
<p>Il y a également <code>ID de notification</code> qui semble être un identifiant unique pour un cas, mais nous devrions vérifier les doublons avant d’en être sûrs.</p>
<p>Notez qu’il n’y a AUCUN résultat de test dans ces données, car ces notifications proviennent des cliniques qui notifient les maladies à déclaration obligatoire sur la base de définitions de cas cliniques.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(data_notif_brut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Nom de l'unite d'organisation"                           
 [2] "Code de l'etablissement de sante"                        
 [3] "ID de notification"                                      
 [4] "Date de naissance"                                       
 [5] "Sexe"                                                    
 [6] "Enceinte"                                                
 [7] "District residentiel"                                    
 [8] "Maladie notifiee"                                        
 [9] "Date d'apparition"                                       
[10] "Date signalee par l'etablissement de sante/la communaute"
[11] "Resultat"                                                
[12] "Date du resultat"                                        </code></pre>
</div>
</div>
<p>Utilisez <code>ncol()</code> et <code>nrow()</code> pour imprimer le nombre de colonnes et de lignes, comme ceci :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(data_notif_brut)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data_notif_brut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ceci imprimera le nombre de colonnes et de lignes dans votre console.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 987</code></pre>
</div>
</div>
<p>Par ailleurs, si l’on examine l’environnement, on constate que le nombre d’observations (qui sont les mêmes que les lignes) et de colonnes sont à côté du nom de la base de données.</p>
</div>
</div>
</div>
</section>
<section id="tâche-b-examinez-ensuite-les-classes-des-colonnes-de-votre-ensemble-de-données-de-notification-brut" class="level4">
<h4 class="anchored" data-anchor-id="tâche-b-examinez-ensuite-les-classes-des-colonnes-de-votre-ensemble-de-données-de-notification-brut"><strong>Tâche B : Examinez ensuite les classes des colonnes de votre ensemble de données de notification brut</strong></h4>
<p><strong>Utilisez <code>skim()</code> du package <code>{skimr}</code> ou <code>class()</code> pour explorer les classes des colonnes.</strong></p>
<p>Vous souvenez-vous de la façon de spécifier la colonne qui vous intéresse à l’intérieur de la fonction <code>class()</code> ? Vous pouvez également explorer les classes depuis l’environnement.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Combien de colonnes dans l’ensemble de données de notification sont reconnues par R comme étant de classe date ?
<div id="radio_ELTJHEMJDV" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ELTJHEMJDV" value="answer"> <span>0</span></label><label><input type="radio" autocomplete="off" name="radio_ELTJHEMJDV" value=""> <span>2</span></label><label><input type="radio" autocomplete="off" name="radio_ELTJHEMJDV" value=""> <span>4</span></label>
</div>
Quelle est la classe de la plupart des colonnes dans les données brutes de notification?
<div id="radio_DSPDBTFHAY" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_DSPDBTFHAY" value="answer"> <span>character</span></label><label><input type="radio" autocomplete="off" name="radio_DSPDBTFHAY" value=""> <span>numeric</span></label><label><input type="radio" autocomplete="off" name="radio_DSPDBTFHAY" value=""> <span>factor</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vous pouvez utiliser <code>class</code> comme dans l’exemple ci-dessous. Le <code>$</code> est un opérateur utilisé pour sélectionner une colonne spécifique de l’ensemble de données <code>data_notif_brut</code>.</p>
<p>Notez l’utilisation d’apostrophes inversées (<code>`</code>) autour de <code>Date de naissance</code> parce que le nom de la colonne contient des espaces.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(data_notif_brut<span class="sc">$</span><span class="st">`</span><span class="at">Date de naissance</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pour consulter la classe via l’environnement, cliquez sur la flèche bleue à côté du nom de l’ensemble de données. Les noms des colonnes apparaissent, avec la classe à côté (par exemple, “chr” indique la classe texte / caractères).</p>
<p>Vous pouvez voir qu’aucune des colonnes qui devraient être des dates n’est reconnue comme telle. Au lieu de cela, elles sont reconnues comme des valeurs texte.</p>
</div>
</div>
</div>
</section>
<section id="tâche-c-inspecter-les-valeurs-catégorielles-et-les-données-manquantes" class="level4">
<h4 class="anchored" data-anchor-id="tâche-c-inspecter-les-valeurs-catégorielles-et-les-données-manquantes"><strong>Tâche C : Inspecter les valeurs catégorielles et les données manquantes</strong></h4>
<p><strong>Utiliser la fonction <code>tabyl()</code> pour inspecter les valeurs dans les colonnes qualitatives/catégorielles</strong> en spécifiant le nom de la base de données comme premier argument, et le nom de la colonne comme second argument.</p>
<p>Par exemple, ce code renvoie le contenu de la colonne Sexe. La sortie montre que masculin et féminin sont sont orthographiés de manière incohérente dans les données. Cette colonne devra faire l’objet d’un nettoyage avant de pouvoir être analysée.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_notif_brut, Sexe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Sexe   n    percent valid_percent
        F  47 0.04761905    0.05452436
  FEMININ 146 0.14792300    0.16937355
        M  40 0.04052685    0.04640371
 MASCULIN 172 0.17426545    0.19953596
        f 154 0.15602837    0.17865429
  feminin  98 0.09929078    0.11368910
        m 119 0.12056738    0.13805104
 masculin  86 0.08713273    0.09976798
     &lt;NA&gt; 125 0.12664640            NA</code></pre>
</div>
</div>
<p>Pour analyser les données manquantes, vous pouvez utiliser la fonction <code>miss_var_summary()</code> du package <code>{naniar}</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">miss_var_summary</span>(data_notif_brut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
   variable                                                 n_miss pct_miss
   &lt;chr&gt;                                                     &lt;int&gt;    &lt;num&gt;
 1 Date d'apparition                                           691     70.0
 2 Enceinte                                                    510     51.7
 3 Resultat                                                    197     20.0
 4 Date du resultat                                            197     20.0
 5 Date de naissance                                           168     17.0
 6 Sexe                                                        125     12.7
 7 Nom de l'unite d'organisation                                 0      0  
 8 Code de l'etablissement de sante                              0      0  
 9 ID de notification                                            0      0  
10 District residentiel                                          0      0  
11 Maladie notifiee                                              0      0  
12 Date signalee par l'etablissement de sante/la communaute      0      0  </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Les valeurs dans la colonne <code>District résidentiel</code> sont-elles standardisées ?
<div id="radio_ZYMDBJBYIW" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ZYMDBJBYIW" value="answer"> <span>Non, elles doivent être nettoyées</span></label><label><input type="radio" autocomplete="off" name="radio_ZYMDBJBYIW" value=""> <span>Elles sont standardisées et prêtes à être utilisées dans l'analyse</span></label>
</div>
Les valeurs dans la colonne <code>Maladie notifiee</code> sont-elles normalisées ?
<div id="radio_WELQBFZNLW" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_WELQBFZNLW" value=""> <span>Non, elles doivent être nettoyées</span></label><label><input type="radio" autocomplete="off" name="radio_WELQBFZNLW" value="answer"> <span>Elles sont standardisées et prêtes à être utilisées dans l'analyse</span></label>
</div>
Qu’est-ce que R reconnait comme une valeur manquante?
<div id="radio_GNVUIQRIQL" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_GNVUIQRIQL" value=""> <span>Soit une absence de valeur, ou juste un espace ou un point</span></label><label><input type="radio" autocomplete="off" name="radio_GNVUIQRIQL" value="answer"> <span>Pas de valeur dans la cellule, représenté par NA</span></label><label><input type="radio" autocomplete="off" name="radio_GNVUIQRIQL" value=""> <span>Les mots Inconnu et Indéterminé</span></label>
</div>
Selon l’analyse des données manquantes, est-ce que la colonne <code>Date d'apparition</code> vous paraît exploitable et utile?
<div id="radio_NFRGLQQIGX" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NFRGLQQIGX" value=""> <span>Oui, il y a peu de données manquantes, elle est donc utile</span></label><label><input type="radio" autocomplete="off" name="radio_NFRGLQQIGX" value="answer"> <span>Assez peu, au vu de la proportion de données manquantes</span></label>
</div>
Pourquoi certaines colonnes des données de notification peuvent présenter des orthographes différentes et des catégories non standardisées ?
<div id="radio_QWYPEXOJCY" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_QWYPEXOJCY" value=""> <span>Un bot brouille les données afin qu'elles soient moins identifiables</span></label><label><input type="radio" autocomplete="off" name="radio_QWYPEXOJCY" value="answer"> <span>Chaque clinique peut utiliser un logiciel configuré de manière légèrement différente, ou utiliser des entrées en texte libre, ce qui entraîne des variations orthographiques</span></label><label><input type="radio" autocomplete="off" name="radio_QWYPEXOJCY" value=""> <span>Le logiciel du système de surveillance utilisé par les établissements cliniques comporte de nombreux bugs</span></label>
</div>
Why might some columns in the notification data have high missingness?
<div id="radio_GYRHJOAFAA" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_GYRHJOAFAA" value=""> <span>The clinician does not ask the patient the question during their consultation</span></label><label><input type="radio" autocomplete="off" name="radio_GYRHJOAFAA" value=""> <span>The patient might not know or want to share the answer</span></label><label><input type="radio" autocomplete="off" name="radio_GYRHJOAFAA" value=""> <span>The clinician might not have time to prioritise filling in that field in the data, even if they know the information</span></label><label><input type="radio" autocomplete="off" name="radio_GYRHJOAFAA" value="answer"> <span>All of the above, and many more reasons</span></label>
</div>
Pourquoi certaines colonnes de données de notification peuvent présenter une proportion élevée de données manquantes ?
<div id="radio_PGHWCJTPCD" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_PGHWCJTPCD" value=""> <span>Le clinicien ne pose pas la question au patient pendant la consultation</span></label><label><input type="radio" autocomplete="off" name="radio_PGHWCJTPCD" value=""> <span>Le patient peut ne pas connaître la réponse ou ne pas vouloir la partager</span></label><label><input type="radio" autocomplete="off" name="radio_PGHWCJTPCD" value=""> <span>Le clinicien peut ne pas avoir le temps de remplir ce champ dans les données, même s'il connaît l'information</span></label><label><input type="radio" autocomplete="off" name="radio_PGHWCJTPCD" value="answer"> <span>Toutes les raisons ci-dessus, et bien d'autres encore</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utilisez la fonction <code>tabyl()</code> le résumé des valeurs de la colonne <code>District residentiel</code>. Là encore, le premier argument est le nom de l’ensemble de données et le deuxième argument est le nom de la colonne.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_notif_brut, <span class="st">`</span><span class="at">District residentiel</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> District residentiel   n    percent
       Au bord du lac 125 0.12664640
            F Central  32 0.03242148
            FEVERIA C  23 0.02330294
      FEVERIA CENTRAL  85 0.08611955
            Feveria C  24 0.02431611
      Feveria Central  12 0.01215805
               KASARA  64 0.06484296
                  KSR  17 0.01722391
               Kasara 109 0.11043566
             L MINARA  50 0.05065856
             L Minara 193 0.19554205
           LAC MINARA 185 0.18743668
           Lac Minara  68 0.06889564</code></pre>
</div>
</div>
<p>Vous pouvez constater que chacun des trois emplacements (Feveria Central, Lac Minara et Kasara) sont orthographiés de différentes manières et en lettres majuscules ou minuscules. Il faudra faire le ménage si l’on veut analyser la distribution géographique des maladies à déclaration obligatoire.</p>
<p>De même, utilisez <code>tabyl()</code> résumer les valeurs contenues dans la colonne <code>Maladie notifiee</code>. Vous pouvez voir qu’elles sont écrites en toutes lettres de manière appropriée et cohérente, de sorte que vous pouvez déjà voir la distribution des maladie sans nettoyage supplémentaire.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_notif_brut, <span class="st">`</span><span class="at">Maladie notifiee</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Maladie notifiee   n    percent
          cholera  46 0.04660588
           dengue 273 0.27659574
     fievre jaune 100 0.10131712
        paludisme 533 0.54002026
         typhoide  35 0.03546099</code></pre>
</div>
</div>
<p>Une autre façon d’analyser les données manquantes est de résumer la sortie de la fonction <code>is.na()</code>. Dans l’exemple ci-dessous, la fonction <code>is.na()</code> évalue chaque cellule de la colonne <code>Date d'apparition</code> et renvoie TRUE pour pour les valeurs manquantes et FAUX pour les valeurs présentes.</p>
<p>Appliquer <code>tabyl()</code> à cette série de TRUE/FALSE vous permet d’obtenir rapidement les effectifs et proportions de données manquantes dans cette colonne. N’oubliez pas que les valeurs comme un espace ou les mots “Inconnu” ou “Manquant” ne seront pas reconnues par R comme manquantes. R ne reconnaîtra que les cellules vides comme données manquantes, représentées par <code>NA</code>.</p>
<p>Pour <code>Date d'apparition</code>, vous pouvez voir que 70 % des cas n’ont pas de valeur, ce qui suggère que cette colonne n’est pas particulièrement utile pour analyser des tendances de maladies au fil du temps.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(<span class="fu">is.na</span>(data_notif_brut<span class="sc">$</span><span class="st">`</span><span class="at">Date d'apparition</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> is.na(data_notif_brut$`Date d'apparition`)   n   percent
                                      FALSE 296 0.2998987
                                       TRUE 691 0.7001013</code></pre>
</div>
</div>
<p>Les données manquantes ou non standardisées peuvent être dues à de nombreuses raisons, notamment:</p>
<ul>
<li><p>la conception de l’outil de collecte de données (par exemple, si les questions sont obligatoires ou si elles utilisent du texte libre plutôt que des listes déroulantes),</p></li>
<li><p>les processus et les normes en place (par exemple, des champs que le personnel a pour instruction de prioriser), et</p></li>
<li><p>les facteurs contextuels (par exemple, si le personnel dispose de suffisamment de temps pour collecter les informations).</p></li>
</ul>
</div>
</div>
</div>
</section>
</section>
<section id="étape-3.2-inspecter-les-données-de-laboratoire" class="level3">
<h3 class="anchored" data-anchor-id="étape-3.2-inspecter-les-données-de-laboratoire">Étape 3.2 Inspecter les données de laboratoire</h3>
<section id="tâche-a-inspecter-les-dimensions-et-le-contenu-global-des-données-de-laboratoire" class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-inspecter-les-dimensions-et-le-contenu-global-des-données-de-laboratoire"><strong>Tâche A : Inspecter les <em>dimensions</em> et le contenu global des données de laboratoire</strong></h4>
<p>Comme pour les données de surveillance, <strong>utilisez <code>skim()</code>, <code>ncol()</code> et <code>nrow()</code>ou inspecter l’environnement pour inspecter les données de laboratoire.</strong></p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quelle liste linéaire comporte le plus de colonnes : les données de surveillance ou les données de laboratoire ?
<div id="radio_JCMVVUWWUM" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_JCMVVUWWUM" value=""> <span>Les données de laboratoire</span></label><label><input type="radio" autocomplete="off" name="radio_JCMVVUWWUM" value="answer"> <span>Les données de surveillance</span></label><label><input type="radio" autocomplete="off" name="radio_JCMVVUWWUM" value=""> <span>Elles ont le même nombre de colonnes</span></label>
</div>
Quelle liste linéaire comporte le plus de lignes ?
<div id="radio_XDSZQBWCQB" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XDSZQBWCQB" value="answer"> <span>Les données de laboratoire</span></label><label><input type="radio" autocomplete="off" name="radio_XDSZQBWCQB" value=""> <span>Les données de surveillance</span></label><label><input type="radio" autocomplete="off" name="radio_XDSZQBWCQB" value=""> <span>Elles ont le même nombre de lignes</span></label>
</div>
Inspectez les données de laboratoire avec <code>View()</code>. Pour quelle raison les données de laboratoire pourraient avoir plus d’enregistrements ?
<div id="radio_UJCJVGNGMI" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_UJCJVGNGMI" value="answer"> <span>Il peut y avoir plusieurs tests ou cibles analysées par échantillon</span></label><label><input type="radio" autocomplete="off" name="radio_UJCJVGNGMI" value=""> <span>Il y a de nombreux résultats de tests d'étalonnage dans les données</span></label><label><input type="radio" autocomplete="off" name="radio_UJCJVGNGMI" value=""> <span>Toutes les notifications n'ont pas encore reçu de résultats de tests</span></label>
</div>
Laquelle de ces informations ne figure PAS dans les données de laboratoire ?
<div id="radio_QGZUMYBEFF" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_QGZUMYBEFF" value=""> <span>ID de notification</span></label><label><input type="radio" autocomplete="off" name="radio_QGZUMYBEFF" value=""> <span>ID d'échantillon</span></label><label><input type="radio" autocomplete="off" name="radio_QGZUMYBEFF" value=""> <span>Type de test</span></label><label><input type="radio" autocomplete="off" name="radio_QGZUMYBEFF" value="answer"> <span>Date de naissance</span></label><label><input type="radio" autocomplete="off" name="radio_QGZUMYBEFF" value=""> <span>Résultat du test</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Comme dans la section 3.1, vous pouvez utiliser <code>skim()</code> du package <code>{skimr}</code> pour examiner l’ensemble de données de laboratoire avec les résultats des tests. Vous verrez également les différents noms de colonnes de données, montrant que les données de laboratoire ne contiennent que des informations sur le test et non sur le patient. Elles contiennent toutefois un identifiant de notification, comme les données de notification.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(data_lab_brut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Utiliser <code>ncol()</code> et <code>nrow()</code> pour imprimer le nombre de colonnes et de lignes, comme ceci :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(data_lab_brut)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data_lab_brut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Les nombres de colonnes et de lignes s’afficheront dans votre console, vous montrant que les données de laboratoire ont plus de lignes que les données de notification que vous avez inspectées plus tôt.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1314</code></pre>
</div>
</div>
<p>Il y a souvent plus d’enregistrements dans les données de laboratoire que dans les données cliniques. Si vous inspectez les données avec <code>View(data_lab_brut)</code> et que vous cliquez ensuite sur la flèche en haut de la colonne <code>id_notification</code> pour les trier par ordre alphabétique, vous verrez que plusieurs lignes partagent le même numéro de notification. Cela peut se produire lorsque plusieurs cibles sont testées à partir du même échantillon (même ID d’échantillon), ou lorsqu’un cas est retesté (ce qui donne un numéro d’identification d’échantillon différent).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(data_lab_brut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-177a0056{}.cl-176db800{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-17737100{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-17737114{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-17739e0a{width:2.077in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e14{width:1.219in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e1e{width:1.22in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e1f{width:1.067in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e28{width:1.746in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e32{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e33{width:0.701in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e3c{width:2.077in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e3d{width:1.219in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e46{width:1.22in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e47{width:1.067in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e50{width:1.746in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e51{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e5a{width:0.701in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e5b{width:2.077in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e64{width:1.219in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e6e{width:1.22in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e78{width:1.067in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e79{width:1.746in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e7a{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17739e82{width:0.701in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-177a0056"><thead><tr style="overflow-wrap:break-word;"><th class="cl-17739e0a"><p class="cl-17737100"><span class="cl-176db800">nom_laboratoire</span></p></th><th class="cl-17739e14"><p class="cl-17737100"><span class="cl-176db800">id_notification</span></p></th><th class="cl-17739e1e"><p class="cl-17737100"><span class="cl-176db800">id_echantillon</span></p></th><th class="cl-17739e1f"><p class="cl-17737114"><span class="cl-176db800">date_test</span></p></th><th class="cl-17739e28"><p class="cl-17737100"><span class="cl-176db800">test</span></p></th><th class="cl-17739e32"><p class="cl-17737100"><span class="cl-176db800">cible</span></p></th><th class="cl-17739e33"><p class="cl-17737100"><span class="cl-176db800">valeur</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-17739e3c"><p class="cl-17737100"><span class="cl-176db800">Hopital general de Feveria</span></p></td><td class="cl-17739e3d"><p class="cl-17737100"><span class="cl-176db800">f21708</span></p></td><td class="cl-17739e46"><p class="cl-17737100"><span class="cl-176db800">48b00313</span></p></td><td class="cl-17739e47"><p class="cl-17737114"><span class="cl-176db800">2024-06-07</span></p></td><td class="cl-17739e50"><p class="cl-17737100"><span class="cl-176db800">Dengue NS1/IgG/IgM</span></p></td><td class="cl-17739e51"><p class="cl-17737100"><span class="cl-176db800">Dengue NS.1</span></p></td><td class="cl-17739e5a"><p class="cl-17737100"><span class="cl-176db800">N</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17739e3c"><p class="cl-17737100"><span class="cl-176db800">Hopital general de Feveria</span></p></td><td class="cl-17739e3d"><p class="cl-17737100"><span class="cl-176db800">f21708</span></p></td><td class="cl-17739e46"><p class="cl-17737100"><span class="cl-176db800">48b00313</span></p></td><td class="cl-17739e47"><p class="cl-17737114"><span class="cl-176db800">2024-06-07</span></p></td><td class="cl-17739e50"><p class="cl-17737100"><span class="cl-176db800">Dengue NS1/IgG/IgM</span></p></td><td class="cl-17739e51"><p class="cl-17737100"><span class="cl-176db800">Dengue IgG</span></p></td><td class="cl-17739e5a"><p class="cl-17737100"><span class="cl-176db800">N</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17739e3c"><p class="cl-17737100"><span class="cl-176db800">Hopital general de Feveria</span></p></td><td class="cl-17739e3d"><p class="cl-17737100"><span class="cl-176db800">f21708</span></p></td><td class="cl-17739e46"><p class="cl-17737100"><span class="cl-176db800">48b00313</span></p></td><td class="cl-17739e47"><p class="cl-17737114"><span class="cl-176db800">2024-06-07</span></p></td><td class="cl-17739e50"><p class="cl-17737100"><span class="cl-176db800">Dengue NS1/IgG/IgM</span></p></td><td class="cl-17739e51"><p class="cl-17737100"><span class="cl-176db800">Dengue IgM</span></p></td><td class="cl-17739e5a"><p class="cl-17737100"><span class="cl-176db800">P</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17739e3c"><p class="cl-17737100"><span class="cl-176db800">Hopital general de Feveria</span></p></td><td class="cl-17739e3d"><p class="cl-17737100"><span class="cl-176db800">6a47a3</span></p></td><td class="cl-17739e46"><p class="cl-17737100"><span class="cl-176db800">ca5e865b</span></p></td><td class="cl-17739e47"><p class="cl-17737114"><span class="cl-176db800">2024-06-15</span></p></td><td class="cl-17739e50"><p class="cl-17737100"><span class="cl-176db800">Dengue NS1/IgG/IgM</span></p></td><td class="cl-17739e51"><p class="cl-17737100"><span class="cl-176db800">Dengue NS.1</span></p></td><td class="cl-17739e5a"><p class="cl-17737100"><span class="cl-176db800">N</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17739e3c"><p class="cl-17737100"><span class="cl-176db800">Hopital general de Feveria</span></p></td><td class="cl-17739e3d"><p class="cl-17737100"><span class="cl-176db800">6a47a3</span></p></td><td class="cl-17739e46"><p class="cl-17737100"><span class="cl-176db800">ca5e865b</span></p></td><td class="cl-17739e47"><p class="cl-17737114"><span class="cl-176db800">2024-06-15</span></p></td><td class="cl-17739e50"><p class="cl-17737100"><span class="cl-176db800">Dengue NS1/IgG/IgM</span></p></td><td class="cl-17739e51"><p class="cl-17737100"><span class="cl-176db800">Dengue IgG</span></p></td><td class="cl-17739e5a"><p class="cl-17737100"><span class="cl-176db800">N</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17739e5b"><p class="cl-17737100"><span class="cl-176db800">Hopital general de Feveria</span></p></td><td class="cl-17739e64"><p class="cl-17737100"><span class="cl-176db800">6a47a3</span></p></td><td class="cl-17739e6e"><p class="cl-17737100"><span class="cl-176db800">ca5e865b</span></p></td><td class="cl-17739e78"><p class="cl-17737114"><span class="cl-176db800">2024-06-15</span></p></td><td class="cl-17739e79"><p class="cl-17737100"><span class="cl-176db800">Dengue NS1/IgG/IgM</span></p></td><td class="cl-17739e7a"><p class="cl-17737100"><span class="cl-176db800">Dengue IgM</span></p></td><td class="cl-17739e82"><p class="cl-17737100"><span class="cl-176db800">P</span></p></td></tr></tbody></table></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tâche-b-examiner-les-classes-les-valeurs-catégorielles-et-les-données-manquantes" class="level4">
<h4 class="anchored" data-anchor-id="tâche-b-examiner-les-classes-les-valeurs-catégorielles-et-les-données-manquantes"><strong>Tâche B : Examiner les classes, les valeurs catégorielles et les données manquantes</strong></h4>
<p>Comme ci-dessus, <strong>utilisez les fonctionc <code>class()</code>, <code>skim()</code> ou <code>tabyl()</code>, ou explorer l’environnement, pour examiner vos colonnes en détail.</strong></p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Combien de colonnes dans les données de laboratoire sont reconnues par R comme étant des colonnes de date ?
<div id="radio_QMNBOOCTMN" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_QMNBOOCTMN" value=""> <span>0</span></label><label><input type="radio" autocomplete="off" name="radio_QMNBOOCTMN" value="answer"> <span>1</span></label><label><input type="radio" autocomplete="off" name="radio_QMNBOOCTMN" value=""> <span>2</span></label>
</div>
Combien de colonnes des données de laboratoire n’ont aucune donnée manquante ?
<div id="radio_MEBFHQKWRO" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_MEBFHQKWRO" value=""> <span>1</span></label><label><input type="radio" autocomplete="off" name="radio_MEBFHQKWRO" value=""> <span>3</span></label><label><input type="radio" autocomplete="off" name="radio_MEBFHQKWRO" value="answer"> <span>7 (toutes!)</span></label>
</div>
Quel test détecte plusieurs cibles (et comporte donc plusieurs lignes par échantillon) ?
<div id="radio_WGATRFQECN" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_WGATRFQECN" value=""> <span>Paludisme</span></label><label><input type="radio" autocomplete="off" name="radio_WGATRFQECN" value="answer"> <span>Dengue</span></label><label><input type="radio" autocomplete="off" name="radio_WGATRFQECN" value=""> <span>Fièvre jaune</span></label><label><input type="radio" autocomplete="off" name="radio_WGATRFQECN" value=""> <span>Choléra</span></label><label><input type="radio" autocomplete="off" name="radio_WGATRFQECN" value=""> <span>Fièvre typhoïde</span></label>
</div>
Combien de valeurs de résultats de test possibles y a-t-il dans la colonne <code>valeur</code> ?
<div id="radio_MWNEJAJKJT" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_MWNEJAJKJT" value="answer"> <span>5</span></label><label><input type="radio" autocomplete="off" name="radio_MWNEJAJKJT" value=""> <span>3</span></label><label><input type="radio" autocomplete="off" name="radio_MWNEJAJKJT" value=""> <span>4</span></label>
</div>
Quel résultat ne semble PAS être possible pour le test de culture des selles qui détecte la bactérie V.cholerae ?
<div id="radio_SWJYEXFOVH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_SWJYEXFOVH" value="answer"> <span>P</span></label><label><input type="radio" autocomplete="off" name="radio_SWJYEXFOVH" value=""> <span>P01</span></label><label><input type="radio" autocomplete="off" name="radio_SWJYEXFOVH" value=""> <span>P0139</span></label><label><input type="radio" autocomplete="off" name="radio_SWJYEXFOVH" value=""> <span>N</span></label><label><input type="radio" autocomplete="off" name="radio_SWJYEXFOVH" value=""> <span>I</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Les données du laboratoire ont une colonne de date, reconnue par R comme une classe “IDate”. Il s’agit d’une classe de date utilisée par <code>import()</code> de <code>{rio}</code> lors de l’importation de fichiers csv. Comme la classe Date native de R, elle permet de trier par date et d’analyser les tendances dans le temps.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(data_lab_brut<span class="sc">$</span>date_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "IDate" "Date" </code></pre>
</div>
</div>
<p>En utilisant la fonction <code>miss_var_summary()</code> du package <code>{naniar}</code>, on réalise que toutes les colonnes des données de laboratoire sont complètes. Cela peut s’expliquer par le fait que les laboratoires utilisent des processus automatisés et qu’il y a donc beaucoup moins de risques d’erreur humaine.</p>
<p>(<strong>Point important</strong> : Notez que dans la vie réelle, les données de laboratoire présenteraient probablement des problèmes aussi !)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">miss_var_summary</span>(data_lab_brut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 3
  variable        n_miss pct_miss
  &lt;chr&gt;            &lt;int&gt;    &lt;num&gt;
1 nom_laboratoire      0        0
2 id_notification      0        0
3 id_echantillon       0        0
4 date_test            0        0
5 test                 0        0
6 cible                0        0
7 valeur               0        0</code></pre>
</div>
</div>
<p>Pour connaître le nombre de cibles détectées par chaque test, vous pouvez croiser les colonnes <code>test</code> et <code>cible</code> avec <code>tabyl()</code>. Ecrivez les noms des colonnes dans la fonction comme deux arguments distincts (et donc séparés par une virgule). Le résultat montre que chaque test correspond clairement à une ou plusieurs cibles, et que seul le test de la dengue détecte plus d’une cible (IgG, IgM et NS.1).</p>
<p><strong>Conseil :</strong> Essayez de modifier l’ordre des noms de colonnes dans <code>tabyl()</code> pour voir l’impact sur le tableau.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_lab_brut, cible, test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 cible Culture de selles Dengue NS1/IgG/IgM Hemoculture
    Bacteries S. Typhi                 0                  0          33
 Bacteries V. cholerae                45                  0           0
            Dengue IgG                 0                215           0
            Dengue IgM                 0                215           0
           Dengue NS.1                 0                215           0
      Fievre jaune IgM                 0                  0           0
            Plasmodium                 0                  0           0
 IgM ELISA Microscopie du sang total
         0                         0
         0                         0
         0                         0
         0                         0
         0                         0
        88                         0
         0                       503</code></pre>
</div>
</div>
<p>Enfin, vous pouvez examiner les différentes valeurs des résultats du test dans la colonne <code>valeur</code> toujours à l’aide de la fonction <code>tabyl()</code>. Vous pouvez voir qu’il y a six résultats possibles, dont N pour négatif, P pour positif et I pour indéterminé. Seul le choléra ne présente aucun P, mais est le seul à présenter P01 et P0139, ce qui correspond à un résultat positif pour les sérogroupes O1 ou O139.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_lab_brut, test, valeur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      test  I   N   P PO1 PO139
         Culture de selles  5   2   0  22    16
        Dengue NS1/IgG/IgM  0 354 291   0     0
               Hemoculture  2  24   7   0     0
                 IgM ELISA 10  45  33   0     0
 Microscopie du sang total 56 257 190   0     0</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="étape-4.-nettoyer-et-décrire-les-données-de-notification" class="level2">
<h2 class="anchored" data-anchor-id="étape-4.-nettoyer-et-décrire-les-données-de-notification">Étape 4. Nettoyer et décrire les données de notification</h2>
<p>Vous savez maintenant que les données de notification (<code>data_notif_brut</code>) contiennent des des informations sur les cas suspects, ainsi que des données démographiques de base (âge, sexe, grossesse, district de résidence), et des informations sur la date d’apparition des symptômes, la date de notification par l’établissement de santé, et l’issue. Certaines colonnes doivent être nettoyées avant de poursuivre l’analyse, en raison des variations dans l’orthographe des valeurs catégorielles et de certaines colonnes non reconnues comme des dates.</p>
<p>Vous allez maintenant commencer à écrire de plus longs morceaux de code pour nettoyer les données, à l’aide de plusieurs fonctions <code>{dplyr}</code> reliées à l’aide d’opérateurs “pipe” (qui ressemblent à ceci : |&gt;).</p>
<p><strong>NOTE SUR LES ‘PIPES’ :</strong> Les “pipes” vous permettent d’effectuer plusieurs opérations en une seule commande fluide, en “enchaînant” différentes fonctions. La sortie d’une fonction devient l’entrée de la suivante. Si vous avez besoin de plus d’informations sur les pipes, veuillez vous référer au chapitre du <a href="https://epirhandbook.com/fr/cleaning.fr.html#méthodologie-de-nettoyage">Epi R Handbook</a>.</p>
<p>Notez que cet exercice utilise le <strong>pipe de base</strong> (<code>|&gt;</code>) plutôt que le <strong>pipe magrittr</strong> (<code>%&gt;%</code>), car il est plus rapide et ne nécessite pas l’installation de packages. Utilisez le pipe magrittr si vous préférez.</p>
<section id="étape-4.1-nettoyer-les-données" class="level3">
<h3 class="anchored" data-anchor-id="étape-4.1-nettoyer-les-données">Étape 4.1 Nettoyer les données</h3>
<section id="tâche-a-nettoyez-les-noms-de-colonnes-et-sélectionnez-les-colonnes-à-analyser" class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-nettoyez-les-noms-de-colonnes-et-sélectionnez-les-colonnes-à-analyser"><strong>Tâche A : Nettoyez les noms de colonnes et sélectionnez les colonnes à analyser</strong></h4>
<p>Pour des raisons de qualité et de stockage des données, votre équipe vous recommande de créer une liste linéaire propre qui ne contienne que des informations sur l’identifiant unique, la localisation du cas, la maladie et la date de notification au système de surveillance.</p>
<p><strong>Écrivez une commande R pour produire une nouvelle base de données propre appelée <code>data_notif</code></strong>, en appliquant les étapes de nettoyage suivantes:</p>
<ul>
<li>Renommer les colonnes pour qu’elles soient plus facilement lisibles par la machine (supprimer les espaces et les majuscules) en utilisant <code>clean_names()</code> du package <code>{janitor}</code>.</li>
<li>Utiliser la fonction <code>rename()</code> de <code>{dplyr}</code> pour que:
<ul>
<li>le nom de la colonne avec la date à laquelle le cas a été signalé soit remplacé par un nom plus concis <code>date_notif</code>.</li>
<li>le nom de la colonne d’identifiant de la notification soit plus concis (<code>id_notification</code>).</li>
</ul></li>
<li>Sélectionnez les colonnes pertinentes pour l’analyse à l’aide de la fonction <code>select()</code> du package <code>{dplyr}</code>.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour lire un indice
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Commencez votre code par le nom du nouvel ensemble de données, l’opérateur d’assignation et le nom de l’objet contenant les données brutes. Ainsi le résultat du traitement des données brutes sera assigné à un nouvel objet appelé <code>data_notif</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>data_notif <span class="ot">&lt;-</span> data_notif_brut</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Il faudra ensuite construire la commande de nettoyage en ajoutant des fonctions supplémentaires, liées à l’aide d’un pipe. Cela vous permet d’effectuer plusieurs opérations en une seule commande fluide. Tout d’abord, vous utiliserez <code>clean_names()</code> pour normaliser tous les noms de colonnes. Il remplace automatiquement les espaces et les caractères spéciaux par des traits de soulignement (underscore), supprime les accents et les apostrophes, et convertit tous les caractères en minuscules, ce qui rend les noms de colonnes plus facile à utiliser. Vous pouvez ensuite utiliser <code>rename()</code> pour donner à une colonne un nouveau nom. Rappelez-vous que lorsque vous utilisez <code>rename()</code>, la colonne aura déjà reçu le nom issu de <code>clean_names()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>data_notif <span class="ot">&lt;-</span> data_notif_brut <span class="sc">|&gt;</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">NOUVEAU_NOM =</span> ANCIEN_NOM) <span class="sc">|&gt;</span> </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(VAR_NAMES)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Voici le code permettant de nettoyer les noms de colonnes et de sélectionner les bonnes colonnes pour l’analyse :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Données propres</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>data_notif <span class="ot">&lt;-</span> data_notif_brut <span class="sc">|&gt;</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date_notif =</span> date_signalee_par_letablissement_de_sante_la_communaute,</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">id_notification =</span> id_de_notification) <span class="sc">|&gt;</span> </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id_notification, district_residentiel, maladie_notifiee, date_notif)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="tâche-b-normaliser-les-valeurs-catégorielles" class="level4">
<h4 class="anchored" data-anchor-id="tâche-b-normaliser-les-valeurs-catégorielles"><strong>Tâche B : Normaliser les valeurs catégorielles</strong></h4>
<p>Vous savez déjà, grâce à l’inspection des données, que les valeurs de district ne sont pas normalisées.</p>
<p><strong>Ajouter un <code>mutate()</code> pour nettoyer la colonne <code>district_residentiel</code></strong>, afin de:</p>
<ul>
<li>Normaliser l’utilisation d’écriture minuscule / majuscule dans la colonne</li>
<li>Remplacer la colonne <code>district_residentiel</code> existante par une colonne qui ne contient que les valeurs pour les districts : “Lac Minara”, “Feveria Central” et “Kasara”.</li>
</ul>
<p>Consultez l’indice pour savoir quelles fonctions vous pourriez utiliser.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour lire un indice
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Essayez d’utiliser <code>str_to_title()</code> du package <code>{stringr}</code> de façon à ce que la première lettre de chaque mot soit en majuscule et que toutes les autres lettres soient en minuscule. Vous pouvez également utiliser <code>case_match()</code> pour spécifier différentes fautes de frappe spécifiques. Comme pour l’utilisation de <code>rename()</code> après <code>clean_names()</code>, prenez en compte que la fonction <code>str_to_title()</code> a modifié les valeurs des données fournies à la fonction<code>case_match()</code>.</p>
<p>Utilisez le panneau d’aide (“Help”) de RStudio pour savoir comment utiliser ces fonctions. Par exemple, tapez <code>?case_match</code> dans votre console pour obtenir la page d’aide. <strong>NOTE</strong> sur <code>case_match()</code> : il s’agit d’une fonction très utile pour remplacer ou corriger des valeurs, qui remplace la fonction <code>recode()</code>.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Votre code de nettoyage devrait maintenant ressembler à ceci :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Données propres</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>data_notif <span class="ot">&lt;-</span> data_notif_brut <span class="sc">|&gt;</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date_notif =</span> date_signalee_par_letablissement_de_sante_la_communaute,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">id_notification =</span> id_de_notification) <span class="sc">|&gt;</span> </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id_notification, district_residentiel, maladie_notifiee, date_notif) <span class="sc">|&gt;</span> </span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">district_residentiel =</span> <span class="fu">str_to_title</span>(district_residentiel)) <span class="sc">|&gt;</span> </span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">district_residentiel =</span> <span class="fu">case_match</span>(district_residentiel,</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"F Central"</span>, <span class="st">"Feveria C"</span>, <span class="st">"Feveria Central"</span>) <span class="sc">~</span> <span class="st">"Feveria Central"</span>,</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"Kasara"</span>, <span class="st">"Ksr"</span>) <span class="sc">~</span> <span class="st">"Kasara"</span>,</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"L Minara"</span>, <span class="st">"Lac Minara"</span>, <span class="st">"Au Bord Du Lac"</span>) <span class="sc">~</span> <span class="st">"Lac Minara"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vous pouvez également directement insérer la fonction <code>str_to_title()</code> dans la fonction <code>case_match()</code> pour un code plus court, comme suit :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Données propres</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>data_notif <span class="ot">&lt;-</span> data_notif_brut <span class="sc">|&gt;</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date_notif =</span> date_signalee_par_letablissement_de_sante_la_communaute,</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">id_notification =</span> id_de_notification) <span class="sc">|&gt;</span> </span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id_notification, district_residentiel, maladie_notifiee, date_notif) <span class="sc">|&gt;</span> </span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">district_residentiel =</span> <span class="fu">case_match</span>(<span class="fu">str_to_title</span>(district_residentiel),</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"F Central"</span>, <span class="st">"Feveria C"</span>, <span class="st">"Feveria Central"</span>) <span class="sc">~</span> <span class="st">"Feveria Central"</span>,</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"Kasara"</span>, <span class="st">"Ksr"</span>) <span class="sc">~</span> <span class="st">"Kasara"</span>,</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"L Minara"</span>, <span class="st">"Lac Minara"</span>, <span class="st">"Au Bord Du Lac"</span>) <span class="sc">~</span> <span class="st">"Lac Minara"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="tâche-c-gérer-les-dates" class="level4">
<h4 class="anchored" data-anchor-id="tâche-c-gérer-les-dates"><strong>Tâche C : Gérer les dates</strong></h4>
<p>La colonne de la date de notification doit être transformée de manière à ce qu’elle soit reconnue comme une date dans R. Cela vous permettra d’analyser les tendances au fil du temps, y compris en utilisant un décompte par semaine ou par mois.</p>
<p><strong>Examinez les valeurs de la colonne <code>date_notif</code>. Ajoutez ensuite une ligne à votre code de nettoyage pour modifier <code>date_notif</code> en une classe de date.</strong></p>
<p>Connaître le format de date d’origine vous permettra d’utiliser la bonne fonction pour convertir la colonne en classe de date. Nous vous recommandons d’utiliser l’une des fonctions du package <code>{lubridate}</code> : soit <code>ymd()</code> (pour convertir les dates écrites sous la forme année-mois-jour), <code>mdy()</code> (pour les dates mois-jour-année), ou <code>dmy()</code> (pour les dates jour-mois-année). Ces fonctions reconnaîtront n’importe quelle façon d’écrire la date, à condition qu’elle soit organisée dans cet ordre. Par exemple “21 août 2025” (oui! oui! même en français) et “21-08-2024” seraient toutes deux reconnues par <code>dmy()</code>.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Comment les dates sont-elles actuellement formatées ?
<div id="radio_LWRWVOFKOV" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_LWRWVOFKOV" value=""> <span>jour-mois-année</span></label><label><input type="radio" autocomplete="off" name="radio_LWRWVOFKOV" value="answer"> <span>année-mois-jour</span></label><label><input type="radio" autocomplete="off" name="radio_LWRWVOFKOV" value=""> <span>mois-jour-année</span></label><label><input type="radio" autocomplete="off" name="radio_LWRWVOFKOV" value=""> <span>année-jour-mois</span></label>
</div>
Quelle fonction <code>mutate()</code> devez-vous utiliser pour convertir la colonne date_notif en une classe de date ?
<div id="radio_EZJMBCUTUK" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_EZJMBCUTUK" value="answer"> <span>mutate(date_notif = ymd(date_notif))</span></label><label><input type="radio" autocomplete="off" name="radio_EZJMBCUTUK" value=""> <span>mutate(date_notif = dmy(date_notif))</span></label><label><input type="radio" autocomplete="off" name="radio_EZJMBCUTUK" value=""> <span>mutate(date_notif = mdy(date_notif))</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vous pouvez utiliser la fonction <code>head()</code> pour afficher les six premières lignes de données de la colonne <code>date_notif</code>. Vous pouvez voir qu’elles sont écrites avec d’abord l’année, puis le mois, puis le jour.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data_notif<span class="sc">$</span>date_notif)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-03-08" "2024-03-11" "2024-03-11" "2024-03-18" "2024-03-14"
[6] "2024-03-12"</code></pre>
</div>
</div>
<p>Vous pouvez utiliser la fonction <code>ymd()</code> à l’intérieur de <code>mutate()</code> pour convertir la classe de la colonne <code>date_notif</code>. Vous pouvez vérifier que la classe est correcte en utilisant la fonction <code>class()</code> par la suite.</p>
<p>Votre code de nettoyage devrait maintenant ressembler à ceci :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Données propres</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>data_notif <span class="ot">&lt;-</span> data_notif_brut <span class="sc">|&gt;</span> </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date_notif =</span> date_signalee_par_letablissement_de_sante_la_communaute,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">id_notification =</span> id_de_notification) <span class="sc">|&gt;</span> </span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id_notification, district_residentiel, maladie_notifiee, date_notif) <span class="sc">|&gt;</span> </span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">district_residentiel =</span> <span class="fu">case_match</span>(<span class="fu">str_to_title</span>(district_residentiel),</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"F Central"</span>, <span class="st">"Feveria C"</span>, <span class="st">"Feveria Central"</span>) <span class="sc">~</span> <span class="st">"Feveria Central"</span>,</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"Kasara"</span>, <span class="st">"Ksr"</span>) <span class="sc">~</span> <span class="st">"Kasara"</span>,</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"L Minara"</span>, <span class="st">"Lac Minara"</span>, <span class="st">"Au Bord Du Lac"</span>) <span class="sc">~</span> <span class="st">"Lac Minara"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date_notif =</span> <span class="fu">ymd</span>(date_notif)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Et vous pouvez vérifier la classe comme ceci :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(data_notif<span class="sc">$</span>date_notif)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tâche-d-rechercher-les-doublons" class="level4">
<h4 class="anchored" data-anchor-id="tâche-d-rechercher-les-doublons"><strong>Tâche D : Rechercher les doublons</strong></h4>
<p>Vos collègues vous disent que chaque <code>id_notification</code> représente un cas suspect unique. Vous souhaitez maintenant <strong>créer une table pour vérifier s’il existe des doublons de <code>id_notification</code> sur plusieurs lignes de vos données</strong>.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Une ligne dans les données de notification correspond-elle à un cas ?
<div id="radio_ZZTWRYBLSH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ZZTWRYBLSH" value="answer"> <span>Oui</span></label><label><input type="radio" autocomplete="off" name="radio_ZZTWRYBLSH" value=""> <span>Non</span></label>
</div>
Avez-vous besoin de dédupliquer vos données pour l’analyse épidémiologique des cas ?
<div id="radio_NJHUCEDHHD" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NJHUCEDHHD" value=""> <span>Oui</span></label><label><input type="radio" autocomplete="off" name="radio_NJHUCEDHHD" value="answer"> <span>Non</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour lire un indice
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Il existe de nombreuses façons de procéder, mais essayez d’utiliser la fonction <code>count()</code> de <code>{dplyr}</code>. Elle créera un tableau qui comptera le nombre de lignes par valeur unique de la colonne que vous spécifiez dans la fonction. Ensuite, utiliser <code>tabyl()</code> pour examiner la distribution de ces effectifs.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-24-contents" aria-controls="callout-24" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-24-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Tout d’abord, il faut faire passer les données de surveillance dans la fonction <code>count()</code> en spécifiant à la fonction <code>id_notification</code> comme seul argument. Cela crée un tableau qui compte le nombre de lignes par valeur unique de <code>id_notification</code>, dans une nouvelle colonne <code>n</code>. Vous pouvez voir par exemple dans les premières lignes qu’il n’y a qu’une seule ligne pour chacune de ces 6 <code>id_notification</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>data_notif <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_notification) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  id_notification n
1          00399b 1
2          005c85 1
3          006f52 1
4          00cbbb 1
5          01830d 1
6          019045 1</code></pre>
</div>
</div>
<p>Ensuite décrivez la nouvelle colonne <code>n</code> avec <code>tabyl()</code>, qui montrera qu’il n’y a qu’une ligne par <code>id_notification</code>. Cela signifie qu’une ligne correspond à un cas, et qu’aucune autre déduplication n’est nécessaire.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>data_notif <span class="sc">|&gt;</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_notification) <span class="sc">|&gt;</span> </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> n n_n percent
 1 987       1</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="étape-4.2-analyse-descriptive-simple" class="level3">
<h3 class="anchored" data-anchor-id="étape-4.2-analyse-descriptive-simple">Étape 4.2 Analyse descriptive simple</h3>
<p>Vous pouvez maintenant procéder à une analyse descriptive des cas, puisque vos données sont propres et que vous savez qu’une ligne équivaut à un cas. Utilisez la fonction <code>tabyl()</code> pour réaliser les tâches suivantes.</p>
<section id="tâche-a-compter-le-nombre-de-cas-suspects-de-chaque-maladie-diagnostiquée-à-feveria-en-2024" class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-compter-le-nombre-de-cas-suspects-de-chaque-maladie-diagnostiquée-à-feveria-en-2024"><strong>Tâche A : Compter le nombre de cas suspects de chaque maladie diagnostiquée à Feveria en 2024</strong></h4>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quelle maladie a été la plus fréquemment diagnostiquée par les cliniques de Feveria en 2024 ?
<div id="radio_HVLGYRRRCK" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_HVLGYRRRCK" value=""> <span>Choléra</span></label><label><input type="radio" autocomplete="off" name="radio_HVLGYRRRCK" value="answer"> <span>Paludisme</span></label><label><input type="radio" autocomplete="off" name="radio_HVLGYRRRCK" value=""> <span>Dengue</span></label><label><input type="radio" autocomplete="off" name="radio_HVLGYRRRCK" value=""> <span>Fièvre typhoïde</span></label><label><input type="radio" autocomplete="off" name="radio_HVLGYRRRCK" value=""> <span>Fièvre jaune</span></label>
</div>
Quelle maladie a été la moins fréquemment diagnostiquée par les cliniques de Feveria en 2024 ?
<div id="radio_ERYJUMRVDD" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ERYJUMRVDD" value=""> <span>Choléra</span></label><label><input type="radio" autocomplete="off" name="radio_ERYJUMRVDD" value=""> <span>Paludisme</span></label><label><input type="radio" autocomplete="off" name="radio_ERYJUMRVDD" value=""> <span>Dengue</span></label><label><input type="radio" autocomplete="off" name="radio_ERYJUMRVDD" value="answer"> <span>Fièvre typhoïde</span></label><label><input type="radio" autocomplete="off" name="radio_ERYJUMRVDD" value=""> <span>Fièvre jaune</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-26-contents" aria-controls="callout-26" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-26" class="callout-26-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>En utilisant <code>tabyl()</code> nous pouvons voir qu’il y a eu 533 cas suspects de paludisme à Feveria en 2024, et seulement 35 cas suspects de fièvre typhoïde.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_notif, maladie_notifiee)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> maladie_notifiee   n    percent
          cholera  46 0.04660588
           dengue 273 0.27659574
     fievre jaune 100 0.10131712
        paludisme 533 0.54002026
         typhoide  35 0.03546099</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tâche-b-compter-le-nombre-de-cas-suspects-par-maladie-et-par-district-de-résidence" class="level4">
<h4 class="anchored" data-anchor-id="tâche-b-compter-le-nombre-de-cas-suspects-par-maladie-et-par-district-de-résidence"><strong>Tâche B : Compter le nombre de cas suspects par maladie et par district de résidence</strong></h4>
<p><strong>Utilisez <code>tabyl()</code> pour croiser les colonnes maladie et district de résidence.</strong></p>
<p>Complétez votre tableau en ajoutant diverses fonctions <code>adorn</code> du package <code>{janitor}</code>, pour afficher la distribution en pourcentage. Par exemple <code>adorn_percentages()</code>, <code>adorn_pct_formatting()</code> et <code>adorn_ns()</code>.</p>
<p>Tapez le nom de la fonction après un ? dans votre console (par ex. <code>?adorn_ns</code>) pour afficher les pages d’aide correspondantes. Vous pouvez également consulter la section <a href="hhttps://epirhandbook.com/fr/tables_descriptive.fr.html#tbl_janitor">à propos de {janitor} dans le Epi R Handbook</a> pour plus d’explications sur les fonctions <code>adorn_xxx()</code>.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quel district a signalé le plus grand nombre de maladies vectorielles en 2024 (paludisme, dengue, fièvre jaune) ?
<div id="radio_JOQPVVOZCH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_JOQPVVOZCH" value="answer"> <span>Lac Minara</span></label><label><input type="radio" autocomplete="off" name="radio_JOQPVVOZCH" value=""> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_JOQPVVOZCH" value=""> <span>Kasara</span></label>
</div>
Quel district a signalé le plus grand nombre de maladies diarrhéiques en 2024 (choléra, fièvre typhoïde) ?
<div id="radio_PKQYYSLCJW" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_PKQYYSLCJW" value=""> <span>Lac Minara</span></label><label><input type="radio" autocomplete="off" name="radio_PKQYYSLCJW" value="answer"> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_PKQYYSLCJW" value=""> <span>Kasara</span></label>
</div>
Quels facteurs contribuent à l’augmentation des maladies diarrhéiques dans ce district spécifique (sélectionné dans la question précédente) ?
<div id="radio_DHDJWHUSIH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_DHDJWHUSIH" value="answer"> <span>Infrastructures d'approvisionnement en eau et d'assainissement peu fiables</span></label><label><input type="radio" autocomplete="off" name="radio_DHDJWHUSIH" value=""> <span>Surpopulation de moustiques</span></label><label><input type="radio" autocomplete="off" name="radio_DHDJWHUSIH" value=""> <span>Nous ne savons pas</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-28-contents" aria-controls="callout-28" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour lire un indice
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-28" class="callout-28-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Voici du code pour vous aider à démarrer. Il croise <code>maladie_notifiee</code> et <code>district_residentiel</code> avec <code>tabyl()</code>, puis en ajoutant <code>adorn_percentages()</code> convertit ces nombres en proportions avec de nombreuses décimales. Vous devrez ensuite rajouter <code>adorn_pct_formatting()</code> avec un autre pipe, pour convertir les proportions en pourcentages, et enfin <code>adorn_ns()</code> pour ajouter à nouveau les effectifs entre parenthèses. Notez que les fonctions <code>adorn_xxx()</code> doivent être appliquées dans un ordre spécifique !</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_notif, maladie_notifiee, district_residentiel) <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pour les facteurs contribuant à l’augmentation des maladies diarrhéiques, revenez au début de l’étude de cas, à la partie présentant les districts!</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-29-contents" aria-controls="callout-29" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-29" class="callout-29-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>En utlisant <code>tabyl()</code>, nous pouvons constater que la plupart des cas suspects de dengue, de paludisme et de fièvre jaune étaient localisés dans le district de Lac Minara - la zone lacustre avec une forte densité de moustiques et donc de maladies à transmission vectorielle. Dans le même temps, la majorité des cas de choléra et de fièvre typhoïde se trouvait à Feveria Central, la zone urbaine surpeuplée souffrant de problèmes d’infrastructures d’approvisionnement en eau et d’assainissement entraînant un risque accru d’inondation et de contamination de l’eau potable par temps de pluie.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_notif, maladie_notifiee, district_residentiel) <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> maladie_notifiee Feveria Central      Kasara  Lac Minara
          cholera      91.3% (42)  8.7%   (4)  0.0%   (0)
           dengue       9.5% (26) 17.6%  (48) 72.9% (199)
     fievre jaune      11.0% (11) 21.0%  (21) 68.0%  (68)
        paludisme      13.7% (73) 19.9% (106) 66.4% (354)
         typhoide      68.6% (24) 31.4%  (11)  0.0%   (0)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="étape-5.-nettoyer-consolider-et-décrire-les-données-de-laboratoire" class="level2">
<h2 class="anchored" data-anchor-id="étape-5.-nettoyer-consolider-et-décrire-les-données-de-laboratoire">Étape 5. Nettoyer, consolider et décrire les données de laboratoire</h2>
<p>Le travail effectué à l’étape 3 vous a permis de constater que les données de laboratoire ne contiennent que des données sur les tests et aucune information sur les patients. Les données sont déjà très propres, nous n’avons à standardiser qu’une seule colonne. Nous voudrons également traiter l’ensemble de données du laboratoire de manière à ce qu’il y ait une ligne par notification, afin de pouvoir le lier proprement à l’ensemble de données de notification.</p>
<section id="étape-5.1-normaliser-les-résultats-des-tests" class="level3">
<h3 class="anchored" data-anchor-id="étape-5.1-normaliser-les-résultats-des-tests">Étape 5.1 Normaliser les résultats des tests</h3>
<section id="tâche-a-convertissez-toute-valeur-contenant-p-en-positif-n-en-négatif-et-i-en-indéterminé." class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-convertissez-toute-valeur-contenant-p-en-positif-n-en-négatif-et-i-en-indéterminé."><strong>Tâche A : Convertissez toute valeur contenant “P” en “Positif”, “N” en “Négatif” et “I” en “Indéterminé”.</strong></h4>
<p>Créez un nouvel objet <code>data_lab</code>. Cela permettra une analyse et une interprétation des résultats plus simples.</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-30-contents" aria-controls="callout-30" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-30" class="callout-30-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utilisez <code>case_match()</code> pour transformer les différentes valeurs originales en “Positif”, “Négatif” ou “Indéterminé” :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>data_lab <span class="ot">&lt;-</span> data_lab_brut <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">valeur =</span> <span class="fu">case_match</span>(valeur, </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">c</span>(<span class="st">"P"</span>, <span class="st">"PO1"</span>, <span class="st">"PO139"</span>) <span class="sc">~</span> <span class="st">"Positif"</span>,</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"N"</span> <span class="sc">~</span> <span class="st">"Négatif"</span>,</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"Indéterminé"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vous pouvez ensuite vérifier que les nouvelles valeurs sont correctes en résumant et en comparant les valeurs de la base de données originale et de la base de données nettoyée. Assurez-vous d’avoir utilisé la lettre “O” et non le chiffre “0”!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_lab_brut, valeur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> valeur   n    percent
      I  73 0.05555556
      N 682 0.51902588
      P 521 0.39649924
    PO1  22 0.01674277
  PO139  16 0.01217656</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_lab, valeur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      valeur   n    percent
 Indéterminé  73 0.05555556
     Négatif 682 0.51902588
     Positif 559 0.42541857</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="étape-5.2-consolidation-pour-obtenir-une-ligne-par-test" class="level3">
<h3 class="anchored" data-anchor-id="étape-5.2-consolidation-pour-obtenir-une-ligne-par-test">Étape 5.2 Consolidation pour obtenir une ligne par test</h3>
<section id="tâche-a-idenfier-le-nombre-déchantillons-à-lignes-multiples" class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-idenfier-le-nombre-déchantillons-à-lignes-multiples"><strong>Tâche A : Idenfier le nombre d’échantillons à lignes multiples</strong></h4>
<p>Nous savons déjà que certains échantillons se retrouvent sur plusieurs lignes, et que c’est dû au test de la dengue qui a trois cibles, avec une ligne par pour le résultat de chaque cible.</p>
<p>Maintenant, <strong>trouvez le nombre d’échantillons présentant plusieurs lignes</strong>.</p>
<p>Procédez de la même manière que pour les données de notification, en utilisant l’objet <code>data_lab</code>: comptez d’abord le nombre de lignes par échantillon, puis créer un tableau montrant la distribution des nombres de lignes. Il faut garder à l’esprit que que chaque échantillon est identifié par un <code>id_echantillon</code>.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Combien d’échantillons (<code>id_echantillon</code> unique) sont répétés sur 3 lignes?
<div id="radio_SLUQCGZUZH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_SLUQCGZUZH" value=""> <span>200</span></label><label><input type="radio" autocomplete="off" name="radio_SLUQCGZUZH" value="answer"> <span>215</span></label><label><input type="radio" autocomplete="off" name="radio_SLUQCGZUZH" value=""> <span>230</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-32-contents" aria-controls="callout-32" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-32" class="callout-32-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Tout d’abord, il faut faire passer (avec un pipe) les données du laboratoire à la fonction <code>count()</code> en donnant à la fonction <code>id_echantillon</code> comme seul argument. Cela crée un tableau qui compte le nombre de lignes par valeur unique de <code>id_echantillon</code>, affichée dans une nouvelle colonne <code>n</code>. Vous pouvez voir par exemple que le <code>id_echantillon</code> “000e8eee” est présent sur trois lignes, alors que le <code>id_echantillon</code> “001e1878” n’apparaît que sur une seule ligne.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>data_lab <span class="sc">|&gt;</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_echantillon) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  id_echantillon n
1       000e8eee 3
2       001e1878 1
3       005f39af 1
4       00b30781 3
5       00b56d18 1
6       0110abcd 3</code></pre>
</div>
</div>
<p>Puis résumez la nouvelle colonne <code>n</code> avec <code>tabyl()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>data_lab <span class="sc">|&gt;</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_echantillon) <span class="sc">|&gt;</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> n n_n   percent
 1 669 0.7567873
 3 215 0.2432127</code></pre>
</div>
</div>
<p>Vous pouvez même vérifier que cela ne s’applique qu’au test de la dengue en en ajoutant la colonne <code>test</code> dans la commande. Vous pouvez voir que seul le test de la dengue comporte 3 lignes par échantillon.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>data_lab <span class="sc">|&gt;</span> </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(test, id_echantillon) <span class="sc">|&gt;</span> </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(test, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      test   1   3
         Culture de selles  45   0
        Dengue NS1/IgG/IgM   0 215
               Hemoculture  33   0
                 IgM ELISA  88   0
 Microscopie du sang total 503   0</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tâche-b-consolider-pour-obtenir-une-ligne-par-id_echantillon-en-donnant-la-priorité-aux-résultats-positifs" class="level4">
<h4 class="anchored" data-anchor-id="tâche-b-consolider-pour-obtenir-une-ligne-par-id_echantillon-en-donnant-la-priorité-aux-résultats-positifs"><strong>Tâche B : Consolider pour obtenir une ligne par <code>id_echantillon</code>, en donnant la priorité aux résultats positifs</strong></h4>
<p>Comme vous l’avez vu dans la section 3.2, votre test de dengue fournit des résultats pour trois cibles biologiques différentes : IgG, IgM et NS.1. Les résultats pour chacune de ces cibles peuvent être soit négatifs, soit positifs. Cependant, pour simplifier et consolider vos données, vous souhaitez attribuer une seule valeur “Négatif” ou “Positif” à chaque échantillon, pour indiquer si l’échantillon révélait une infection en cours.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-18fbb618{}.cl-18f1f574{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-18f5ffca{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-18f5ffde{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-18f622b6{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18f622c0{width:0.769in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18f622c1{width:0.701in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18f622ca{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18f622d4{width:0.769in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18f622de{width:0.701in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18f622df{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18f622e8{width:0.769in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18f622e9{width:0.701in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18f622ea{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18f622f2{width:0.769in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18f622fc{width:0.701in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-18fbb618"><thead><tr style="overflow-wrap:break-word;"><th class="cl-18f622b6"><p class="cl-18f5ffca"><span class="cl-18f1f574">cible</span></p></th><th class="cl-18f622c0"><p class="cl-18f5ffde"><span class="cl-18f1f574">Négatif</span></p></th><th class="cl-18f622c1"><p class="cl-18f5ffde"><span class="cl-18f1f574">Positif</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-18f622ca"><p class="cl-18f5ffca"><span class="cl-18f1f574">Dengue IgG</span></p></td><td class="cl-18f622d4"><p class="cl-18f5ffde"><span class="cl-18f1f574">110</span></p></td><td class="cl-18f622de"><p class="cl-18f5ffde"><span class="cl-18f1f574">105</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18f622df"><p class="cl-18f5ffca"><span class="cl-18f1f574">Dengue IgM</span></p></td><td class="cl-18f622e8"><p class="cl-18f5ffde"><span class="cl-18f1f574">105</span></p></td><td class="cl-18f622e9"><p class="cl-18f5ffde"><span class="cl-18f1f574">110</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18f622ea"><p class="cl-18f5ffca"><span class="cl-18f1f574">Dengue NS.1</span></p></td><td class="cl-18f622f2"><p class="cl-18f5ffde"><span class="cl-18f1f574">139</span></p></td><td class="cl-18f622fc"><p class="cl-18f5ffde"><span class="cl-18f1f574">76</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Votre collègue Ben, qui travaille au laboratoire, vous conseille ce qui suit :</p>
<ul>
<li>Un échantillon peut être considéré comme positif si le NS.1 ou les IgM sont positifs (les deux pouvant représenter une infection aiguë).</li>
<li>Vous pouvez ignorer les IgG (parce qu’un résultat positif en l’absence de NS.1 ou d’IgM positifs indique une immunité après une infection passée résolue).</li>
</ul>
<p>Vous devez maintenant <strong>consolider les résultats du test de la dengue en une ligne par test, avec une valeur unique de résultat</strong>. Utiliser <code>filter()</code>, <code>arrange()</code> et <code>slice()</code>, en veillant à ce que tout échantillon positif pour NS.1 ou IgM soit considéré comme positif pour la dengue. Créez un nouvel objet appelé <code>data_lab_tests</code></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-33-contents" aria-controls="callout-33" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour lire un indice
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-33" class="callout-33-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Essayez d’appliquer ce qui suit pour consolider selon la recommandation de Ben :</p>
<ol type="1">
<li>Supprimer les résultats IgG : filtrez les lignes où la cible est “IgG” à l’aide de <code>filter()</code> de <code>{dplyr}</code>.</li>
<li>Donner la priorité aux résultats positifs pour les IgM/NS1 : Regroupez par <code>id_echantillon</code> et réorganisez les lignes avec <code>arrange()</code> afin que tout résultat “Positif” apparaisse en premier.</li>
<li>Filtrer pour obtenir le résultat final : Ne conservez que la première ligne de chaque groupe en utilisant <code>slice(1)</code> pour obtenir le résultat global positif ou négatif de l’échantillon.</li>
</ol>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-34-contents" aria-controls="callout-34" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-34" class="callout-34-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Voici le code pour filtrer les résultats des IgG de la dengue, et ensuite consolider les résultats des tests à l’intérieur de chaque groupe de lignes ayant les mêmes <code>id_echantillon</code>, en donnant la priorité aux résultats positifs.</p>
<p>Vous devez utiliser <code>desc</code> à l’intérieur de <code>arrange()</code> car cela signifie que les résultats seront listés par ordre alphabétique DESCendant, ce qui signifie que “Positif” sera en haut pour chaque identifiant.</p>
<p>Ajoutez également la fonction <code>ungroup()</code> à la fin pour que les nouvelles données ne soient plus groupées, ce qui pourrait perturber les analyses ultérieures.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>data_lab_tests <span class="ot">&lt;-</span> data_lab <span class="sc">|&gt;</span> </span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cible <span class="sc">!=</span> <span class="st">"Dengue IgG"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id_echantillon) <span class="sc">|&gt;</span> </span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(valeur)) <span class="sc">|&gt;</span> </span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vous pouvez alors vérifier que le nouvel objet <code>data_lab_tests</code> ne présente qu’une seule ligne par test, en utilisant la combinaison de <code>count()</code> et <code>tabyl()</code> comme vous l’avez fait pour la tâche A.</p>
<p>Ce tableau vous montre que tous les ID d’échantillons uniques ne sont présents que dans une seule ligne chacun :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>data_lab_tests <span class="sc">|&gt;</span> </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_echantillon) <span class="sc">|&gt;</span> </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> n n_n percent
 1 884       1</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tâche-c-dédupliquer-à-une-ligne-par-id_notification-en-priorisant-les-résultats-positifs." class="level4">
<h4 class="anchored" data-anchor-id="tâche-c-dédupliquer-à-une-ligne-par-id_notification-en-priorisant-les-résultats-positifs."><strong>Tâche C : Dédupliquer à une ligne par <code>id_notification</code>, en priorisant les résultats positifs.</strong></h4>
<p>Maintenant, vérifiez le nombre de tests par identifiant de notification dans vos nouvelles données consolidées.</p>
<p>Vous pouvez voir qu’il y a 26 lignes avec le même <code>id_notification</code>, mais seulement parmi les cas testés par microscopie du sang total pour le paludisme.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>data_lab_tests <span class="sc">|&gt;</span> </span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(test, id_notification) <span class="sc">|&gt;</span> </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(test, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      test   1  2
         Culture de selles  45  0
        Dengue NS1/IgG/IgM 215  0
               Hemoculture  33  0
                 IgM ELISA  88  0
 Microscopie du sang total 451 26</code></pre>
</div>
</div>
<p>Vous poursuivez vos recherches en examinant un exemple de cas avec le <code>id_notification</code> “043228”. Cela vous apprend que ce cas a été testé deux fois, avec deux échantillons différents, à une semaine d’intervalle. Le premier résultat était positif, et le second résultat était négatif.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>data_lab_tests <span class="sc">|&gt;</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id_notification <span class="sc">==</span> <span class="st">"043228"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 7
  nom_laboratoire   id_notification id_echantillon date_test  test  cible valeur
  &lt;chr&gt;             &lt;chr&gt;           &lt;chr&gt;          &lt;IDate&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 
1 Hopital universi… 043228          27c37cd8       2024-06-18 Micr… Plas… Posit…
2 Hopital universi… 043228          d2271be0       2024-06-25 Micr… Plas… Négat…</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quelle affirmation concernant les données de laboratoire est correcte ?
<div id="radio_ZHCRLEFCCK" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ZHCRLEFCCK" value=""> <span>Tous les cas des différentes maladies sont retestés</span></label><label><input type="radio" autocomplete="off" name="radio_ZHCRLEFCCK" value="answer"> <span>Certains cas de paludisme sont retestés</span></label><label><input type="radio" autocomplete="off" name="radio_ZHCRLEFCCK" value=""> <span>Tous les cas de paludisme sont retestés</span></label>
</div>
Aurez-vous besoin de dédupliquer les données de laboratoire pour les relier aux données de notification ?
<div id="radio_IEEVWQQNUH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_IEEVWQQNUH" value="answer"> <span>Oui, nous avons besoin d'une unique ligne représentant le résultat de laboratoire par notification</span></label><label><input type="radio" autocomplete="off" name="radio_IEEVWQQNUH" value=""> <span>Non, les données sont suffisamment dédupliquées</span></label>
</div>
</div>
</div>
</div>
<p>Si vous avez répondu que vous devez dédupliquer, vous avez raison !</p>
<p><strong>Dédupliquez vos données afin d’avoir une ligne par <code>id_notification</code></strong>, en priorisant les résultats positifs, afin de pouvoir établir un lien avec les données de notification.</p>
<p>Pour ce faire, suivez un processus similaire à celui de la tâche B, en utilisant la base de données produite par la tâche B :</p>
<ul>
<li>Regrouper par <code>id_notification</code></li>
<li>Classer par valeur du résultat du test de manière à ce que les valeurs commençant par P soient listées dans la première ligne, suivies des N (Négatif), puis des I (Indéterminé).</li>
<li>Conservez ensuite la première ligne de chaque groupe de <code>id_notification</code>en utilisant <code>slice()</code>.</li>
<li>Pour finir, assignez le résultat à un nouvel objet appelé <code>data_lab_cas</code>.</li>
</ul>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-36-contents" aria-controls="callout-36" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-36" class="callout-36-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Voici le code pour dédupliquer les lignes à l’intérieur de chaque groupe de lignes avec un même <code>id_notification</code> en donnant la priorité aux résultats positifs. Une fois de plus, vous devez utiliser <code>desc</code> à l’intérieur de<code>arrange()</code>. Cela fonctionne parfaitement car l’ordre de priorité souhaité pour les résultats - positifs, puis négatifs, puis indéterminés - correspond à l’ordre alphabétique inversé (P vient à avant N, qui vient avant I, dans l’ordre alphabétique inversé).</p>
<p>Si votre ordre de priorité était plus complexe ou ne correspondait pas à l’ordre alphabétique (par exemple, si “indéterminé” devait être placé avant “négatif”), vous devriez convertir la colonne de résultats en un facteur et fournir explicitement l’ordre souhaité de ses niveaux. N’oubliez pas de dégrouper à nouveau à la fin.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>data_lab_cas <span class="ot">&lt;-</span> data_lab_tests <span class="sc">|&gt;</span> </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id_notification) <span class="sc">|&gt;</span> </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(valeur)) <span class="sc">|&gt;</span> </span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vous pouvez alors vérifier que le nouvel objet <code>data_lab_cas</code> n’a qu’une seule ligne par identifiant de notification, en utilisant la combinaison de <code>count()</code> et <code>tabyl()</code> comme dans la tâche A. Ce tableau vous montre que tous <code>id_notification</code> uniques sont ne sont présents que dans une seule ligne chacun:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>data_lab_cas <span class="sc">|&gt;</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_notification) <span class="sc">|&gt;</span> </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> n n_n percent
 1 858       1</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="étape-5.3-analyse-descriptive-simple" class="level3">
<h3 class="anchored" data-anchor-id="étape-5.3-analyse-descriptive-simple">Étape 5.3 Analyse descriptive simple</h3>
<p>Nous disposons maintenant de deux objets que nous pouvons utiliser pour l’analyse des données de laboratoire : <code>data_lab_tests</code> et <code>data_lab_cas</code>.</p>
<section id="tâche-a-compter-le-nombre-de-tests-spécifiques-à-une-maladie-de-résultats-positifs-et-de-résultats-négatifs-dans-les-données-de-laboratoire-de-2024." class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-compter-le-nombre-de-tests-spécifiques-à-une-maladie-de-résultats-positifs-et-de-résultats-négatifs-dans-les-données-de-laboratoire-de-2024."><strong>Tâche A : Compter le nombre de tests spécifiques à une maladie, de résultats positifs et de résultats négatifs dans les données de laboratoire de 2024.</strong></h4>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quel objet devez-vous utiliser pour analyser les tests ?
<div id="radio_NGRZYFEWFV" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NGRZYFEWFV" value="answer"> <span>data_lab_tests</span></label><label><input type="radio" autocomplete="off" name="radio_NGRZYFEWFV" value=""> <span>data_lab_cas</span></label><label><input type="radio" autocomplete="off" name="radio_NGRZYFEWFV" value=""> <span>Aucun des deux</span></label>
</div>
Combien de tests ont été effectués pour dépister le paludisme (par microscopie du sang total) ?
<div id="radio_AGDDGCCBTM" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_AGDDGCCBTM" value=""> <span>215</span></label><label><input type="radio" autocomplete="off" name="radio_AGDDGCCBTM" value="answer"> <span>503</span></label><label><input type="radio" autocomplete="off" name="radio_AGDDGCCBTM" value=""> <span>88</span></label><label><input type="radio" autocomplete="off" name="radio_AGDDGCCBTM" value=""> <span>190</span></label>
</div>
Quel pourcentage de tests de dépistage du choléra (par culture de selles) s’est révélé positif ?
<div id="radio_ZUFDIQZSLN" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ZUFDIQZSLN" value=""> <span>21%</span></label><label><input type="radio" autocomplete="off" name="radio_ZUFDIQZSLN" value=""> <span>11%</span></label><label><input type="radio" autocomplete="off" name="radio_ZUFDIQZSLN" value="answer"> <span>84%</span></label><label><input type="radio" autocomplete="off" name="radio_ZUFDIQZSLN" value=""> <span>87%</span></label>
</div>
Quel test a donné le pourcentage le plus élevé de résultats indéterminés ?
<div id="radio_PVTAFPFKQR" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_PVTAFPFKQR" value="answer"> <span>IgM ELISA (pour la détection de la fièvre jaune)</span></label><label><input type="radio" autocomplete="off" name="radio_PVTAFPFKQR" value=""> <span>Culture de selles (pour la détection du choléra)</span></label><label><input type="radio" autocomplete="off" name="radio_PVTAFPFKQR" value=""> <span>Hémoculture (pour la détection de la fièvre typhoïde)</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-38-contents" aria-controls="callout-38" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-38" class="callout-38-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>En utilisant <code>tabyl()</code> nous pouvons voir le nombre de résultats positifs, négatifs et indéterminés par test. Vous pouvez ajouter une série de <code>adorn()</code> pour afficher les pourcentages et les totaux.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_lab_tests, test, valeur) <span class="sc">|&gt;</span> </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"col"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      test Indéterminé     Négatif     Positif        Total
         Culture de selles  11.1%  (5)  4.4%   (2) 84.4%  (38) 100.0%  (45)
        Dengue NS1/IgG/IgM   0.0%  (0) 13.5%  (29) 86.5% (186) 100.0% (215)
               Hemoculture   6.1%  (2) 72.7%  (24) 21.2%   (7) 100.0%  (33)
                 IgM ELISA  11.4% (10) 51.1%  (45) 37.5%  (33) 100.0%  (88)
 Microscopie du sang total  11.1% (56) 51.1% (257) 37.8% (190) 100.0% (503)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tâche-b-compter-le-nombre-de-cas-suspects-testés-dans-les-données-de-2024" class="level4">
<h4 class="anchored" data-anchor-id="tâche-b-compter-le-nombre-de-cas-suspects-testés-dans-les-données-de-2024"><strong>Tâche B : Compter le nombre de cas suspects testés dans les données de 2024</strong></h4>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quelle base de données de laboratoire devez-vous utiliser pour compter le nombre de cas suspects testés ?
<div id="radio_QTLCUZQYDT" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_QTLCUZQYDT" value=""> <span>data_lab_brut</span></label><label><input type="radio" autocomplete="off" name="radio_QTLCUZQYDT" value="answer"> <span>data_lab_cas</span></label><label><input type="radio" autocomplete="off" name="radio_QTLCUZQYDT" value=""> <span>data_lab_tests</span></label><label><input type="radio" autocomplete="off" name="radio_QTLCUZQYDT" value=""> <span>data_lab</span></label>
</div>
Combien de cas suspects ont été testés dans les données de laboratoire de 2024 ?
<div id="radio_VPZBAQHLVB" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_VPZBAQHLVB" value="answer"> <span>858</span></label><label><input type="radio" autocomplete="off" name="radio_VPZBAQHLVB" value=""> <span>1314</span></label><label><input type="radio" autocomplete="off" name="radio_VPZBAQHLVB" value=""> <span>884</span></label>
</div>
Y a-t-il plus de cas suspects dans les données de notification ou dans les données de laboratoire ?
<div id="radio_HFFVDITYGO" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_HFFVDITYGO" value="answer"> <span>Données de notification</span></label><label><input type="radio" autocomplete="off" name="radio_HFFVDITYGO" value=""> <span>Données de laboratoire</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-40-contents" aria-controls="callout-40" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-40" class="callout-40-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vous pouvez simplement regarder le nombre de lignes dans le fichier <code>data_lab_cas</code> pour connaître le nombre de cas suspects qui ont été testés.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data_lab_cas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 858</code></pre>
</div>
</div>
<p>Ce nombre est inférieur au nombre de cas suspects figurant dans la base de données des maladies à déclaration obligatoire (<code>data_notif</code>); ce qui suggère qu’une partie seulement des cas suspect notifié en 2024 avait été testée au moment où ces données étaient rendues disponibles.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data_notif)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 987</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="étape-6.-jonction-et-traitement-final" class="level2">
<h2 class="anchored" data-anchor-id="étape-6.-jonction-et-traitement-final">Étape 6. Jonction et traitement final</h2>
<p>Maintenant que les deux listes linéaires sont nettoyées et qu’elles comportent une ligne par cas suspect, vous pouvez les joindre pour permettre l’analyse complète demandée par votre patron.</p>
<section id="étape-6.1-joindre-les-données-de-notification-et-les-données-de-laboratoire" class="level3">
<h3 class="anchored" data-anchor-id="étape-6.1-joindre-les-données-de-notification-et-les-données-de-laboratoire">Étape 6.1 Joindre les données de notification et les données de laboratoire</h3>
<section id="tâche-a-effectuer-la-jointure" class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-effectuer-la-jointure"><strong>Tâche A : Effectuer la jointure</strong></h4>
<p>Créer un nouvel objet appelé <code>data_jointes</code> en utilisant une fonction <code>xxx_join()</code> de <code>{dplyr}</code>. Vous souhaitez conserver toutes les notifications, mais ajouter les résultats de tests lorsqu’ils sont disponibles pour chaque cas suspect.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quelle fonction permet la bonne approche si vous souhaitez conserver toutes les lignes de vos données de notification et intégrer les résultats de vos données de laboratoire ?
<div id="radio_AJEVTTFWII" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_AJEVTTFWII" value="answer"> <span>left_join(data_notif, data_lab_cas…</span></label><label><input type="radio" autocomplete="off" name="radio_AJEVTTFWII" value=""> <span>full_join(data_notif, data_lab_cas…</span></label><label><input type="radio" autocomplete="off" name="radio_AJEVTTFWII" value=""> <span>right_join(data_notif, data_lab_cas…</span></label>
</div>
Quel identifiant doit être utilisé pour joindre les deux listes linéaires ?
<div id="radio_VZDRTRIMCH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_VZDRTRIMCH" value=""> <span>id_echantillon</span></label><label><input type="radio" autocomplete="off" name="radio_VZDRTRIMCH" value="answer"> <span>id_notification</span></label><label><input type="radio" autocomplete="off" name="radio_VZDRTRIMCH" value=""> <span>id_echantillon et date_notif</span></label><label><input type="radio" autocomplete="off" name="radio_VZDRTRIMCH" value=""> <span>id_notification et date_notif</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-42-contents" aria-controls="callout-42" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-42" class="callout-42-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Reliez les données à l’aide de la fonction <code>left_join()</code> avec les données de notification comme ensemble de données principal à gauche. Toutes les lignes de cet ensemble de données seront conservées et seuls les résultats des tests provenant de l’ensemble de données de laboratoire renseigné à “droite” de la fonction seront ajoutés.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>data_jointes <span class="ot">&lt;-</span> <span class="fu">left_join</span>(data_notif, data_lab_cas, </span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">by =</span> <span class="st">"id_notification"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vous créez la jointure avec la colonne <code>id_notification</code> qui est présente, complète et propre dans les deux base de données.</p>
<p><strong>Note</strong>: Vous avez de la chance de travailler avec un exemple de jointure aussi simple ! D’habitude, il faut vraiment nettoyer et vérifier la colonne d’identifiant, ou établir un lien avec d’autres colonnes comme le nom et la date de naissance. À Feveria, le personnel de la clinique est <em>fantastique</em> pour attribuer systématiquement des identifiants de notification à chaque patient, et de les renseigner sur les formulaires d’échantillon envoyés au laboratoire, et le personnel du laboratoire est tout aussi <em>brillant</em> pour enregistrer l’identifiant de notification dans leur système informatique afin que les résultats puissent être reliés au cas.</p>
</div>
</div>
</div>
</section>
<section id="tâche-b-vérifier-que-la-jointure-a-fonctionné-comme-prévu" class="level4">
<h4 class="anchored" data-anchor-id="tâche-b-vérifier-que-la-jointure-a-fonctionné-comme-prévu"><strong>Tâche B : Vérifier que la jointure a fonctionné comme prévu</strong></h4>
<p>Vérifiez maintenant vos données et examinez quelques points.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Combien de lignes contient votre nouvelle base de données <code>data_jointes</code> ?
<div id="radio_GJQNCKHWST" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_GJQNCKHWST" value="answer"> <span>987</span></label><label><input type="radio" autocomplete="off" name="radio_GJQNCKHWST" value=""> <span>884</span></label><label><input type="radio" autocomplete="off" name="radio_GJQNCKHWST" value=""> <span>858</span></label>
</div>
Et par rapport à vos données de notification d’origine ?
<div id="radio_RUCAPBVUBA" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_RUCAPBVUBA" value=""> <span>plus de lignes que l'original</span></label><label><input type="radio" autocomplete="off" name="radio_RUCAPBVUBA" value="answer"> <span>même nombre de lignes</span></label><label><input type="radio" autocomplete="off" name="radio_RUCAPBVUBA" value=""> <span>moins de lignes</span></label>
</div>
Quel terme décrit le mieux la jointure que vous venez de réaliser?
<div id="radio_VAOHHPFRUH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_VAOHHPFRUH" value=""> <span>plusieurs-à-un</span></label><label><input type="radio" autocomplete="off" name="radio_VAOHHPFRUH" value="answer"> <span>un-à-un</span></label><label><input type="radio" autocomplete="off" name="radio_VAOHHPFRUH" value=""> <span>plusieurs-à-plusieurs</span></label>
</div>
Combien de résultats de laboratoire n’ont PAS été joints aux données de notification (indice : utilisez la fonction <code>anti_join()</code>) ?
<div id="radio_YSIBOYNFVY" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_YSIBOYNFVY" value=""> <span>30</span></label><label><input type="radio" autocomplete="off" name="radio_YSIBOYNFVY" value=""> <span>19</span></label><label><input type="radio" autocomplete="off" name="radio_YSIBOYNFVY" value="answer"> <span>0</span></label>
</div>
Avez-vous de la chance que votre jointure soit si réussi ?
<div id="radio_OCCBUMXTJO" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_OCCBUMXTJO" value=""> <span>Quoi ? Toutes les jointures ne sont-ils pas aussi simples que cela ?</span></label><label><input type="radio" autocomplete="off" name="radio_OCCBUMXTJO" value="answer"> <span>Tout à fait ! En général, certains enregistrements ne trouvent pas de correspondance</span></label>
</div>
Quelles sont les raisons typiques pour lesquelles il n’y a pas de correspondance trouvé pour des données de laboratoire et des données sur les maladies à déclaration obligatoire ?
<div id="radio_HZBVOAHMRP" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_HZBVOAHMRP" value=""> <span>Il y a des fautes de frappe dans les colonnes utilisées pour la correspondance, elles ne sont donc pas reconnues comme correspondant</span></label><label><input type="radio" autocomplete="off" name="radio_HZBVOAHMRP" value=""> <span>Les données de laboratoire peuvent contenir des cas supplémentaires provenant d'autres cliniques ou pays</span></label><label><input type="radio" autocomplete="off" name="radio_HZBVOAHMRP" value=""> <span>Les données de laboratoire peuvent inclure des échantillons de test</span></label><label><input type="radio" autocomplete="off" name="radio_HZBVOAHMRP" value=""> <span>Des notifications peuvent avoir été accidentellement omises dans les données de surveillance même si l'échantillon a été testé en laboratoire</span></label><label><input type="radio" autocomplete="off" name="radio_HZBVOAHMRP" value="answer"> <span>Toutes les réponses ci-dessus</span></label>
</div>
Combien de cas suspects n’ont pas de résultat ?
<div id="radio_VXSRZIGYRL" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_VXSRZIGYRL" value=""> <span>83</span></label><label><input type="radio" autocomplete="off" name="radio_VXSRZIGYRL" value=""> <span>100</span></label><label><input type="radio" autocomplete="off" name="radio_VXSRZIGYRL" value="answer"> <span>129</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-44-contents" aria-controls="callout-44" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-44" class="callout-44-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vérifiez le nombre de lignes dans chaque ensemble de données à l’aide de la fonction <code>nrow()</code> ou en vérifiant les informations relatives à l’objet dans votre environnement. Vous pouvez constater l’opération était une jointure un-à-un, car chaque ligne avait un <code>id_notification</code> unique, de sorte qu’une ligne dans les données de notification était directement liée à une ligne dans les données de laboratoire.</p>
<p><strong>Nombre de lignes dans les données de notification</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data_notif)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 987</code></pre>
</div>
</div>
<p><strong>Nombre de lignes dans les données jointes</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data_jointes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 987</code></pre>
</div>
</div>
<p>Pour vérifier si des résultats de laboratoire n’ont pas été reliés à des données de notification, vous pouvez utiliser la fonction <code>anti_join()</code>. Cette fois, <code>data_lab_cas</code> est à gauche, car la fonction évalue le nombre de lignes de l’objet de gauche qui n’ont pas été trouvées dans l’ensemble de données de droite, en les faisant correspondre par <code>id_notification</code>. Ici, il n’est pas nécessaire de créer un nouvel objet, vous pouvez simplement faire passer le résultat à <code>nrow()</code> avec un pipe pour compter le nombre de lignes. Le résultat est 0, ce qui montre qu’il n’y a pas eu de résultats de labo non reliés - incroyable !</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(data_lab_cas, data_notif, </span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">by =</span> <span class="st">"id_notification"</span>) <span class="sc">|&gt;</span> <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p>Enfin, pour vérifier le nombre de notifications sans résultat, vous pouvez soit réaliser un <code>anti_join()</code> en mettant <code>data_notif</code> d’abord :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(data_notif, data_lab_cas, </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">by =</span> <span class="st">"id_notification"</span>) <span class="sc">|&gt;</span> <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 129</code></pre>
</div>
</div>
<p>Ou vous pouvez aussi simplement évaluer le nombre de valeurs manquantes dans la colonne <code>valeur</code> dans <code>data_jointes</code> (puisque <code>valeur</code> provient des données de laboratoire).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(<span class="fu">is.na</span>(data_jointes<span class="sc">$</span>valeur)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> is.na(data_jointes$valeur)   n   percent
                      FALSE 858 0.8693009
                       TRUE 129 0.1306991</code></pre>
</div>
</div>
<p>Ces deux approches montrent que 129 cas suspects ne présentent pas de résultat de laboratoire.</p>
</div>
</div>
</div>
</section>
</section>
<section id="étape-6.2-étiqueter-les-cas-confirmés-écartés-et-suspects" class="level3">
<h3 class="anchored" data-anchor-id="étape-6.2-étiqueter-les-cas-confirmés-écartés-et-suspects">Étape 6.2 Étiqueter les cas confirmés, écartés et suspects</h3>
<section id="tâche-a-créer-une-dernière-colonne-de-catégorie-de-cas." class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-créer-une-dernière-colonne-de-catégorie-de-cas."><strong>Tâche A : Créer une dernière colonne de “catégorie de cas”.</strong></h4>
<p><strong>Utiliser <code>mutate()</code> pour créer une nouvelle colonne <code>cas_categorie</code></strong>, afin de mettre à jour le status de cas suspect en fonction de leurs résultats de laboratoire. Les catégories devraient être les suivantes :</p>
<ul>
<li>Si le résultat est positif : Confirmé</li>
<li>Si le résultat est négatif : Ecarté</li>
<li>Si le résultat est indéterminé ou manquant : Suspect</li>
</ul>
<p>Cela signifie que tous les cas figurant dans les données de notification sont d’abord “Suspect” lorsqu’ils sont déclarés, puis restent “Suspect” en l’absence d’un résultat de test concluant.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quelle est la fonction la plus appropriée pour créer cette nouvelle colonne?
<div id="radio_JOZLVLQKNC" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_JOZLVLQKNC" value="answer"> <span>case_when()</span></label><label><input type="radio" autocomplete="off" name="radio_JOZLVLQKNC" value=""> <span>if_else()</span></label><label><input type="radio" autocomplete="off" name="radio_JOZLVLQKNC" value=""> <span>case_match()</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-46-contents" aria-controls="callout-46" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-46" class="callout-46-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vous devez utiliser <code>case_when()</code> pour créer la nouvelle colonne. Cette fonction est idéale pour appliquer plusieurs conditions logiques afin d’attribuer de multiples valeurs différentes, alors que <code>case_match()</code> est plus adapté pour remplacer des valeurs spécifiques, et <code>if_else()</code> est préférable s’il n’y a que deux valeurs possibles.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>data_jointes <span class="ot">&lt;-</span> data_jointes <span class="sc">|&gt;</span> </span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cas_categorie =</span> <span class="fu">case_when</span>(valeur<span class="sc">==</span><span class="st">"Positif"</span> <span class="sc">~</span> <span class="st">"Confirmé"</span>,</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>                                   valeur<span class="sc">==</span><span class="st">"Négatif"</span> <span class="sc">~</span> <span class="st">"Ecarté"</span>,</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>                                   valeur<span class="sc">==</span><span class="st">"Indéterminé"</span> <span class="sc">|</span> <span class="fu">is.na</span>(valeur) <span class="sc">~</span> <span class="st">"Suspect"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="étape-6.3-examiner-la-distribution-des-résultats-de-laboratoire-entre-les-cas" class="level3">
<h3 class="anchored" data-anchor-id="étape-6.3-examiner-la-distribution-des-résultats-de-laboratoire-entre-les-cas">Étape 6.3 Examiner la distribution des résultats de laboratoire entre les cas</h3>
<section id="tâche-a-utiliser-tabyl-pour-établir-un-tableau-des-catégories-de-cas" class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-utiliser-tabyl-pour-établir-un-tableau-des-catégories-de-cas"><strong>Tâche A : Utiliser <code>tabyl()</code> pour établir un tableau des catégories de cas</strong></h4>
<p>Utilisez <code>tabyl()</code> directement, et aussi en croisant avec les maladies pour répondre aux questions ci-dessous.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Combien de cas dans les données de notification jointes n’ont pas de résultat positif ou négatif ?
<div id="radio_YXVCKCSVBZ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_YXVCKCSVBZ" value="answer"> <span>202</span></label><label><input type="radio" autocomplete="off" name="radio_YXVCKCSVBZ" value=""> <span>347</span></label><label><input type="radio" autocomplete="off" name="radio_YXVCKCSVBZ" value=""> <span>250</span></label>
</div>
Quel pourcentage de cas dans les données de notification ONT un résultat positif ou négatif ?
<div id="radio_KPPXTITKJG" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_KPPXTITKJG" value=""> <span>60,1 %</span></label><label><input type="radio" autocomplete="off" name="radio_KPPXTITKJG" value="answer"> <span>79,5 %</span></label><label><input type="radio" autocomplete="off" name="radio_KPPXTITKJG" value=""> <span>92,2 %</span></label>
</div>
Pourquoi y a-t-il plus de cas suspects restants que de notifications sans résultat de laboratoire relié?
<div id="radio_AHGLBCNQEP" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_AHGLBCNQEP" value="answer"> <span>Les cas suspects comprennent les notifications sans résultat de laboratoire et avec un résultat de laboratoire indéterminé</span></label><label><input type="radio" autocomplete="off" name="radio_AHGLBCNQEP" value=""> <span>Il y a des cas suspects supplémentaires provenant du laboratoire</span></label><label><input type="radio" autocomplete="off" name="radio_AHGLBCNQEP" value=""> <span>Il y a un problème avec les données</span></label>
</div>
Quelle maladie présentait le pourcentage le plus élevé de cas restés suspects après la jointure?
<div id="radio_LTAWOXWQGV" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_LTAWOXWQGV" value=""> <span>Choléra</span></label><label><input type="radio" autocomplete="off" name="radio_LTAWOXWQGV" value=""> <span>Paludisme</span></label><label><input type="radio" autocomplete="off" name="radio_LTAWOXWQGV" value=""> <span>Dengue</span></label><label><input type="radio" autocomplete="off" name="radio_LTAWOXWQGV" value="answer"> <span>Fièvre jaune</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-48-contents" aria-controls="callout-48" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-48" class="callout-48-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Une fois de plus, vous pouvez utiliser <code>tabyl()</code> pour voir la répartition des catégories de cas entre les notifications. Le nombre total de cas suspects, c’est-à-dire ceux pour lesquels aucun résultat de laboratoire n’a été obtenu ou pour lesquels le résultat est indéterminé, est de 202. Cela signifie que 785 cas, soit 79,5 %, ont obtenu un résultat de laboratoire définitif.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_jointes, cas_categorie) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> cas_categorie   n   percent
      Confirmé 438 0.4437690
        Ecarté 347 0.3515704
       Suspect 202 0.2046606</code></pre>
</div>
</div>
<p>Vous pouvez également croiser les résultats originaux (indéterminé/négatif/positif) de <code>valeur</code> avec la nouvelle colonne <code>cas_categorie</code>, pour vérifier que votre logique a fonctionné et pour voir comment les valeurs originales correspondent aux valeurs de la nouvelle colonne. Cela montre qu’en plus des 129 notifications qui n’ont pas été reliées à un résultat de test (avec <code>NA</code> dans la colonne <code>valeur</code>), 73 avaient des résultats indéterminés et ont donc été classées dans la catégorie des cas suspects.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_jointes, cas_categorie, valeur) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> cas_categorie Indéterminé Négatif Positif NA_
      Confirmé           0       0     438   0
        Ecarté           0     347       0   0
       Suspect          73       0       0 129</code></pre>
</div>
</div>
<p>Enfin, vous pouvez également croiser les catégories avec les noms de maladie pour voir les catégories de cas par maladie. Ajoutez des fonctions <code>adorn_xxx()</code> pour ajouter et mettre en forme des pourcentages. Le tableau montre ainsi que 22 % des cas de fièvre jaune sont restés suspects, ce qui représente le pourcentage le plus élevé par rapport aux autres maladies.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_jointes, maladie_notifiee, cas_categorie) <span class="sc">|&gt;</span> </span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> maladie_notifiee    Confirmé      Ecarté     Suspect        Total
          cholera 82.6%  (38)  4.3%   (2) 13.0%   (6) 100.0%  (46)
           dengue 68.1% (186) 10.6%  (29) 21.2%  (58) 100.0% (273)
     fievre jaune 33.0%  (33) 45.0%  (45) 22.0%  (22) 100.0% (100)
        paludisme 32.6% (174) 46.3% (247) 21.0% (112) 100.0% (533)
         typhoide 20.0%   (7) 68.6%  (24) 11.4%   (4) 100.0%  (35)
            Total 44.4% (438) 35.2% (347) 20.5% (202) 100.0% (987)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tâche-b-évaluer-le-pourcentage-de-cas-suspects-qui-sont-effectivement-des-cas-réels" class="level4">
<h4 class="anchored" data-anchor-id="tâche-b-évaluer-le-pourcentage-de-cas-suspects-qui-sont-effectivement-des-cas-réels"><strong>Tâche B : Évaluer le pourcentage de cas suspects qui sont effectivement des cas réels</strong></h4>
<p>Utilisez <code>tabyl()</code> à nouveau, en examinant les résultats par maladie. Réfléchissez au dénominateur adéquat !</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quel pourcentage de cas suspects notifié en 2024 étaient de vrais cas selon leurs résultats de test?
<div id="radio_KLTRKJRNFQ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_KLTRKJRNFQ" value=""> <span>44%</span></label><label><input type="radio" autocomplete="off" name="radio_KLTRKJRNFQ" value="answer"> <span>56%</span></label><label><input type="radio" autocomplete="off" name="radio_KLTRKJRNFQ" value=""> <span>59%</span></label>
</div>
Quel pourcentage de cas supects de paludisme étaient effectivement atteint de paludisme?
<div id="radio_DLSGCYSWYU" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_DLSGCYSWYU" value=""> <span>86%</span></label><label><input type="radio" autocomplete="off" name="radio_DLSGCYSWYU" value="answer"> <span>41%</span></label><label><input type="radio" autocomplete="off" name="radio_DLSGCYSWYU" value=""> <span>23%</span></label>
</div>
Quel pourcentage de cas supects de dengue étaient effectivement atteint de dengue?
<div id="radio_BOQHZOCRCM" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_BOQHZOCRCM" value="answer"> <span>87%</span></label><label><input type="radio" autocomplete="off" name="radio_BOQHZOCRCM" value=""> <span>41%</span></label><label><input type="radio" autocomplete="off" name="radio_BOQHZOCRCM" value=""> <span>23%</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-50-contents" aria-controls="callout-50" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour lire un indice
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-50" class="callout-50-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Diviser le nombre de cas confirmés (c’est-à-dire ceux dont le résultat est positif) par le nombre de cas confirmés plus les cas écartés (c’est-à-dire ceux dont le résultat est soit positif, soit négatif). On obtient ainsi un taux de positivité, qui correspond approximativement au pourcentage de cas suspects qui étaient réellement des cas. Les résultats indéterminés sont exclus du dénominateur car ils ne fournissent pas de résultat clair et fausseraient le taux de positivité.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-51-contents" aria-controls="callout-51" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-51" class="callout-51-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Filtrez les cas toujours suspects, puis réalisez un tableau croisé pour connaître le pourcentage de cas initialement suspectés qui ont été ou confirmés ou écartés, parmi ceux dont les résultats de test sont valides.</p>
<p>Avec la ligne de totaux, vous pouvez voir que 56 % des cas suspects ont été confirmés parmi ceux dont les résultats étaient valides. Vous pouvez également voir que 41 % et 87 % des cas de paludisme et de dengue, respectivement, ont été confirmés.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>data_jointes <span class="sc">|&gt;</span> </span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cas_categorie <span class="sc">!=</span> <span class="st">"Suspect"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(maladie_notifiee, cas_categorie) <span class="sc">|&gt;</span> </span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> maladie_notifiee    Confirmé      Ecarté        Total
          cholera 95.0%  (38)  5.0%   (2) 100.0%  (40)
           dengue 86.5% (186) 13.5%  (29) 100.0% (215)
     fievre jaune 42.3%  (33) 57.7%  (45) 100.0%  (78)
        paludisme 41.3% (174) 58.7% (247) 100.0% (421)
         typhoide 22.6%   (7) 77.4%  (24) 100.0%  (31)
            Total 55.8% (438) 44.2% (347) 100.0% (785)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="étape-6.4-création-dune-liste-linéaire-contenant-uniquement-les-cas-confirmés" class="level3">
<h3 class="anchored" data-anchor-id="étape-6.4-création-dune-liste-linéaire-contenant-uniquement-les-cas-confirmés">Étape 6.4 Création d’une liste linéaire contenant uniquement les cas confirmés</h3>
<p><strong>Tâche A : Créer une nouvelle liste linéaire appelée <code>data_jointes_confirme</code></strong>.</p>
<p>C’est ce que vous utiliserez dans les rapports de surveillance officiels.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Pourquoi choisissons-nous de ne signaler que les cas confirmés dans nos données de surveillance ?
<div id="radio_CXYPWMBUBL" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_CXYPWMBUBL" value="answer"> <span>La déclaration des cas confirmés peut être plus fiable et précise lorsque le pourcentage de tests positifs est faible et que les tests en laboratoire sont systématiques, ce qui permet d'éviter une surestimation de la morbidité</span></label><label><input type="radio" autocomplete="off" name="radio_CXYPWMBUBL" value=""> <span>La déclaration des cas confirmés est plus lente, ce qui nous donne plus de temps pour nous assurer de l'exactitude de nos déclarations</span></label><label><input type="radio" autocomplete="off" name="radio_CXYPWMBUBL" value=""> <span>Parce que nous voulons cacher le nombre réel de cas</span></label>
</div>
Quelle fonction est importante pour créer la nouvelle liste linéaire ?
<div id="radio_MTDGYAKHEG" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_MTDGYAKHEG" value="answer"> <span>filter()</span></label><label><input type="radio" autocomplete="off" name="radio_MTDGYAKHEG" value=""> <span>arrange()</span></label><label><input type="radio" autocomplete="off" name="radio_MTDGYAKHEG" value=""> <span>mutate()</span></label>
</div>
Combien de lignes contient ce nouvel ensemble de données ?
<div id="radio_CIPFCNDHPA" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_CIPFCNDHPA" value=""> <span>389</span></label><label><input type="radio" autocomplete="off" name="radio_CIPFCNDHPA" value="answer"> <span>438</span></label><label><input type="radio" autocomplete="off" name="radio_CIPFCNDHPA" value=""> <span>858</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-53-contents" aria-controls="callout-53" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-53" class="callout-53-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Votre équipe de surveillance souhaite se concentrer sur les cas confirmés dans ses rapports. En effet, les tests de laboratoire sont intégrés dans les activités de routine à Feveria, et la déclaration des cas suspects serait inutilement imprécise, un pourcentage élevé de cas suspects étant écartés.</p>
<p>La décision de publier les cas suspects peut être différente dans dans d’autres contextes. Par exemple, si le taux de positivité est élevé (la plupart des cas sont des cas réels s’ils sont testés) et que le test lui-même n’est pas courant, ou que le test prend beaucoup de temps et entraînerait un retard dans le rapportage, cela suggérerait que les tendances des cas suspects sont suffisamment précises et également plus opportunes que l’attente d’une confirmation en laboratoire.</p>
<p>Créez la nouvelle liste linéaire à l’aide de la fonction <code>filter()</code> :</p>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="ot">&lt;-</span> data_jointes <span class="sc">|&gt;</span> </span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cas_categorie<span class="sc">==</span><span class="st">"Confirmé"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Et vérifiez le nombre de lignes en consultant les informations dans votre environnement, ou avec <code>nrow()</code>:</p>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data_jointes_confirme)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>[1] 438</p>
</div>
</div>
</div>
</section>
</section>
<section id="étape-7.-analyse-descriptive-des-cas-confirmés" class="level2">
<h2 class="anchored" data-anchor-id="étape-7.-analyse-descriptive-des-cas-confirmés">Étape 7. Analyse descriptive des cas confirmés</h2>
<p>Maintenant que vous disposez de la liste des cas confirmés de maladies à déclaration obligatoire signalés à Feveria en 2024, vous êtes prêt à effectuer la dernière partie de votre analyse de surveillance ! Il s’agit de décrire les cinq maladies à déclaration obligatoire par zone géographique et par période.</p>
<p><strong>Conseil</strong>: L’analyse des données de surveillance comprend généralement une analyse par personne. Vous pourriez développer cette étude de cas en procédant à une analyse selon les variables démographiques.</p>
<section id="étape-7.1-décrire-les-cas-par-district" class="level3">
<h3 class="anchored" data-anchor-id="étape-7.1-décrire-les-cas-par-district">Étape 7.1 Décrire les cas par district</h3>
<section id="tâche-a-produire-un-tableau-des-cas-confirmés-par-district-à-laide-des-fonctions-tabyl-et-adorn_xxx-incluant-les-totaux" class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-produire-un-tableau-des-cas-confirmés-par-district-à-laide-des-fonctions-tabyl-et-adorn_xxx-incluant-les-totaux"><strong>Tâche A : Produire un tableau des cas confirmés par district à l’aide des fonctions <code>tabyl()</code> et <code>adorn_xxx()</code>, incluant les totaux</strong></h4>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quelle maladie à déclaration obligatoire a été la plus souvent notifiée en 2024, en se limitant aux seuls cas confirmés ?
<div id="radio_PPDZQFYFSW" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_PPDZQFYFSW" value="answer"> <span>Dengue</span></label><label><input type="radio" autocomplete="off" name="radio_PPDZQFYFSW" value=""> <span>Paludisme</span></label><label><input type="radio" autocomplete="off" name="radio_PPDZQFYFSW" value=""> <span>Fièvre jaune</span></label>
</div>
Pourquoi la maladie la plus fréquemment signalée diffère-t-elle entre les cas confirmés et les cas suspects ?
<div id="radio_SEYXPSCQHE" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_SEYXPSCQHE" value=""> <span>La sensibilité et la spécificité du diagnostic clinique peuvent varier selon la maladie</span></label><label><input type="radio" autocomplete="off" name="radio_SEYXPSCQHE" value=""> <span>Les performances des tests utilisés en laboratoire peuvent varier selon la maladie</span></label><label><input type="radio" autocomplete="off" name="radio_SEYXPSCQHE" value=""> <span>Il peut y avoir des biais de notification</span></label><label><input type="radio" autocomplete="off" name="radio_SEYXPSCQHE" value="answer"> <span>Toutes les réponses ci-dessus !</span></label>
</div>
Quel district a signalé le plus grand nombre de cas confirmés de choléra en 2024 ?
<div id="radio_NXFGLNEKLE" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NXFGLNEKLE" value=""> <span>Lac Minara</span></label><label><input type="radio" autocomplete="off" name="radio_NXFGLNEKLE" value="answer"> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_NXFGLNEKLE" value=""> <span>Kasara</span></label>
</div>
Combien de cas confirmés de choléra signalés en 2024 concernaient des résidents de Feveria Central ?
<div id="radio_GOHMETGHDP" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_GOHMETGHDP" value="answer"> <span>35</span></label><label><input type="radio" autocomplete="off" name="radio_GOHMETGHDP" value=""> <span>42</span></label><label><input type="radio" autocomplete="off" name="radio_GOHMETGHDP" value=""> <span>4</span></label>
</div>
Quel district a signalé le plus grand nombre de cas confirmés de paludisme en 2024 ?
<div id="radio_POZWDQFZSM" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_POZWDQFZSM" value="answer"> <span>Lac Minara</span></label><label><input type="radio" autocomplete="off" name="radio_POZWDQFZSM" value=""> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_POZWDQFZSM" value=""> <span>Kasara</span></label>
</div>
Ces données confirment-elles que la dengue est la maladie infectieuse la plus courante à Feveria ?
<div id="radio_MHQYULHXGO" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_MHQYULHXGO" value="answer"> <span>Non, une autre maladie peut être sous-déclarée et/ou non systématiquement notifiée</span></label><label><input type="radio" autocomplete="off" name="radio_MHQYULHXGO" value=""> <span>Oui, si c'est la maladie la plus notifiée, c'est qu'elle doit être la plus courante</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-55-contents" aria-controls="callout-55" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-55" class="callout-55-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>En utilisant <code>tabyl()</code> nous pouvons voir que la dengue était la maladie la plus fréquemment notifiée à Feveria en 2024, en se limitant aux cas confirmés, avec 186 cas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="sc">|&gt;</span> </span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(maladie_notifiee) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> maladie_notifiee   n    percent
          cholera  38 0.08675799
           dengue 186 0.42465753
     fievre jaune  33 0.07534247
        paludisme 174 0.39726027
         typhoide   7 0.01598174</code></pre>
</div>
</div>
<p>Notez que cela diffère des cas suspects, où le paludisme a été le plus notifié (avec 533 cas suspects) ! Il y avait déjà des indices, avec un taux de positivité pour les cas suspects de dengue plus élevé que pour les cas suspects de paludisme. Cela peut s’expliquer par différentes raisons, par exemple la méthode de diagnostic clinique utilisée pour le paludisme peut être moins spécifique (de nombreux cas suspects sont en fait d’autres maladies), ou le test utilisé pour la dengue peut être plus sensible.</p>
<p>Croisez les données avec celles du district résidentiel, puis ajoutez les fonctions <code>adorn_xxx()</code> pertinentes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="sc">|&gt;</span> </span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(maladie_notifiee, district_residentiel) <span class="sc">|&gt;</span> </span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> maladie_notifiee Feveria Central     Kasara  Lac Minara        Total
          cholera      92.1% (35)  7.9%  (3)  0.0%   (0) 100.0%  (38)
           dengue       8.6% (16) 17.2% (32) 74.2% (138) 100.0% (186)
     fievre jaune       0.0%  (0) 18.2%  (6) 81.8%  (27) 100.0%  (33)
        paludisme      14.9% (26) 22.4% (39) 62.6% (109) 100.0% (174)
         typhoide      71.4%  (5) 28.6%  (2)  0.0%   (0) 100.0%   (7)
            Total      18.7% (82) 18.7% (82) 62.6% (274) 100.0% (438)</code></pre>
</div>
</div>
<p>Comme pour les cas suspects, on constate que la plupart des cas confirmés de dengue, de paludisme et de fièvre jaune se situent à Lac Minara, zone lacustre où la densité de moustiques et donc de maladies à transmission vectorielle est la plus élevée. La majorité des cas confirmés de choléra et de fièvre typhoïde se trouvaient à Feveria Central, sujet à des problèmes d’eau et d’assainissement.</p>
<p>Les données suggèrent que les maladies à transmission vectorielle (dengue et paludisme) sont particulièrement préoccupantes dans ce pays tropical. Cependant, nous ne savons pas avec certitude quelle est la maladie la plus fréquente et quels sont les schémas sous-jacents - seules cinq maladies sont à déclaration obligatoire et les cas notifiés ne représentent généralement qu’une fraction des cas réels au sein de la communauté.</p>
</div>
</div>
</div>
</section>
</section>
<section id="étape-7.2-décrire-les-cas-au-cours-le-temps" class="level3">
<h3 class="anchored" data-anchor-id="étape-7.2-décrire-les-cas-au-cours-le-temps">Étape 7.2 Décrire les cas au cours le temps</h3>
<p>Vous allez travailler à la réalisation de cette courbe épidémique, à travers les tâches ci-dessous.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multidisease_surveillance.fr_files/figure-html/unnamed-chunk-91-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<section id="tâche-a-commencez-par-utiliser-ggplot-et-geom_histogram-pour-produire-une-courbe-épidémique-globale-pour-feveria-montrant-le-nombre-de-cas-par-semaine-de-notification-avec-des-barres-empilées-et-colorées-par-maladie." class="level4">
<h4 class="anchored" data-anchor-id="tâche-a-commencez-par-utiliser-ggplot-et-geom_histogram-pour-produire-une-courbe-épidémique-globale-pour-feveria-montrant-le-nombre-de-cas-par-semaine-de-notification-avec-des-barres-empilées-et-colorées-par-maladie."><strong>Tâche A : Commencez par utiliser <code>ggplot()</code> et <code>geom_histogram()</code> pour produire une courbe épidémique globale pour Feveria, montrant le nombre de cas par semaine de notification, avec des barres empilées et colorées par maladie.</strong></h4>
<p>Veillez à spécifier l’argument <code>binwidth=7</code> afin que chaque barre de l’histogramme représente le nombre de cas sur une période de 7 jours.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quand a été notifié le premier cas de fièvre typhoïde de 2024 à Feveria?
<div id="radio_AYPLVGMFLP" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_AYPLVGMFLP" value=""> <span>Janvier 2024</span></label><label><input type="radio" autocomplete="off" name="radio_AYPLVGMFLP" value="answer"> <span>Mai 2024</span></label><label><input type="radio" autocomplete="off" name="radio_AYPLVGMFLP" value=""> <span>Octobre 2024</span></label>
</div>
D’après ce graphique, quel a été le plus grand nombre de cas de dengue notifiés en une seule semaine en 2024?
<div id="radio_BVRMATDZHY" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_BVRMATDZHY" value=""> <span>10</span></label><label><input type="radio" autocomplete="off" name="radio_BVRMATDZHY" value=""> <span>20</span></label><label><input type="radio" autocomplete="off" name="radio_BVRMATDZHY" value=""> <span>30</span></label><label><input type="radio" autocomplete="off" name="radio_BVRMATDZHY" value="answer"> <span>Difficile à dire avec ce graphique empilé!</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-57-contents" aria-controls="callout-57" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-57" class="callout-57-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Voici un code simple pour produire la courbe épidémique. Notez que vous ne contrôlez pas encore les couleurs, ni ne spécifiez le jour de la semaine où commence chaque période de 7 jours.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="sc">|&gt;</span> </span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>((<span class="fu">aes</span>(<span class="at">x =</span> date_notif, <span class="at">fill =</span> maladie_notifiee)), <span class="at">binwidth=</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multidisease_surveillance.fr_files/figure-html/unnamed-chunk-93-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Reportez-vous au <a href="https://epirhandbook.com/fr/dates.fr.html">chapitre sur les dates du Epi R Handbook</a> si vous souhaitez réaliser un formatage plus spécifique des dates, par exemple pour que chaque barre représente une semaine du lundi au dimanche, ou que l’axe des x indique le numéro de la semaine épidémiologique (semaines 1 à 52).</p>
<p>Il est important de noter qu’il n’est pas facile de voir les tendances par maladie lorsqu’elles sont empilées de cette manière ! Pour analyser ces tendances temporelles, vous devez produire un histogramme par maladie.</p>
</div>
</div>
</div>
</section>
<section id="tâche-b-utiliser-ggplot-pour-produire-une-courbe-épidémique-montrant-le-nombre-de-cas-par-semaine-de-rapport-stratifiée-facettée-et-non-empilée-par-maladie." class="level4">
<h4 class="anchored" data-anchor-id="tâche-b-utiliser-ggplot-pour-produire-une-courbe-épidémique-montrant-le-nombre-de-cas-par-semaine-de-rapport-stratifiée-facettée-et-non-empilée-par-maladie."><strong>Tâche B : Utiliser <code>ggplot()</code> pour produire une courbe épidémique montrant le nombre de cas par semaine de rapport, stratifiée / facettée (et non empilée) par maladie.</strong></h4>
<p>Utilisez <code>facet_wrap()</code> pour créer facilement plusieurs mini-graphiques, un par maladie. Pour en savoir plus, vous pouvez consulter le <a href="https://epirhandbook.com/fr/ggplot_basics.fr.html#ggplot_basics_facet">chapitre sur les facettes avec ggplot2 du Epi R Handbook</a></p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
D’après ce graphique stratifié, quel a été le nombre le plus élevé de cas de dengue signalés en une seule semaine en 2024 ?
<div id="radio_HUBWBJPIMK" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_HUBWBJPIMK" value=""> <span>11</span></label><label><input type="radio" autocomplete="off" name="radio_HUBWBJPIMK" value="answer"> <span>15</span></label><label><input type="radio" autocomplete="off" name="radio_HUBWBJPIMK" value=""> <span>29</span></label><label><input type="radio" autocomplete="off" name="radio_HUBWBJPIMK" value=""> <span>Je ne peux toujours rien en dire!</span></label>
</div>
Parmi les cas de dengue signalés cette semaine-là, dans quels districts vivaient les personnes concernées ?
<div id="radio_THXVFFWDWY" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_THXVFFWDWY" value=""> <span>Les trois districts</span></label><label><input type="radio" autocomplete="off" name="radio_THXVFFWDWY" value=""> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_THXVFFWDWY" value=""> <span>Kasara</span></label><label><input type="radio" autocomplete="off" name="radio_THXVFFWDWY" value=""> <span>Lac Minara</span></label><label><input type="radio" autocomplete="off" name="radio_THXVFFWDWY" value="answer"> <span>Ce graphique ne montre pas cette information</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-59-contents" aria-controls="callout-59" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-59" class="callout-59-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vous pouvez maintenant admirer une courbe épidémique par maladie ! Et vous pouvez voir qu’au cours d’une semaine de juillet, 15 cas de dengue ont été signalés. Cependant, ce graphique ne contient pas encore d’informations géographiques.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="sc">|&gt;</span> </span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>((<span class="fu">aes</span>(<span class="at">x =</span> date_notif)), <span class="at">binwidth=</span><span class="dv">7</span>) <span class="sc">+</span> </span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(.<span class="sc">~</span>maladie_notifiee)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multidisease_surveillance.fr_files/figure-html/unnamed-chunk-95-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tâche-c-ajoutez-maintenant-une-couleur-de-remplissage-à-votre-graphique-à-facettes-selon-le-district-de-résidence-afin-davoir-des-barres-empilées-colorées-par-district." class="level4">
<h4 class="anchored" data-anchor-id="tâche-c-ajoutez-maintenant-une-couleur-de-remplissage-à-votre-graphique-à-facettes-selon-le-district-de-résidence-afin-davoir-des-barres-empilées-colorées-par-district."><strong>Tâche C : Ajoutez maintenant une couleur de remplissage à votre graphique à facettes selon le district de résidence afin d’avoir des barres empilées colorées par district.</strong></h4>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Dans quel(s) district(s) vivaient les 15 cas de dengue notifiés en une semaine en juillet 2024?
<div id="radio_YOIZUUMACJ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_YOIZUUMACJ" value="answer"> <span>Les trois districts</span></label><label><input type="radio" autocomplete="off" name="radio_YOIZUUMACJ" value=""> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_YOIZUUMACJ" value=""> <span>Kasara</span></label><label><input type="radio" autocomplete="off" name="radio_YOIZUUMACJ" value=""> <span>Lac Minara</span></label>
</div>
Dans quel district vivait le premier cas de fièvre typhoïde notifié en 2024?
<div id="radio_BTSNPBELUA" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_BTSNPBELUA" value=""> <span>Kasara</span></label><label><input type="radio" autocomplete="off" name="radio_BTSNPBELUA" value="answer"> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_BTSNPBELUA" value=""> <span>Lac Minara</span></label><label><input type="radio" autocomplete="off" name="radio_BTSNPBELUA" value=""> <span>Je ne peux pas encore le savoir!</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-61-contents" aria-controls="callout-61" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-61" class="callout-61-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vous pouvez maintenant observer une épicurve par maladie, avec des couleurs reflétant le district dans lequel le cas résidait.</p>
<p>Vous pouvez voir que les 15 cas de dengue signalés au cours d’une seule semaine résidaient dans trois districts différents. Vous pouvez également voir que le premier cas de typhoïde a été signalé à Feveria Central.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="sc">|&gt;</span> </span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>((<span class="fu">aes</span>(<span class="at">x =</span> date_notif, <span class="at">fill =</span> district_residentiel)), <span class="at">binwidth=</span><span class="dv">7</span>) <span class="sc">+</span> </span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(.<span class="sc">~</span>maladie_notifiee)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multidisease_surveillance.fr_files/figure-html/unnamed-chunk-97-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tâche-d-améliorer-lapparence-et-le-formatage-de-votre-graphique-à-facettes-pour-quil-soit-prêt-à-être-publié." class="level4">
<h4 class="anchored" data-anchor-id="tâche-d-améliorer-lapparence-et-le-formatage-de-votre-graphique-à-facettes-pour-quil-soit-prêt-à-être-publié."><strong>Tâche D : Améliorer l’apparence et le formatage de votre graphique à facettes pour qu’il soit prêt à être publié.</strong></h4>
<p>Vous pouvez ajouter, préciser ou modifier :</p>
<ul>
<li>Le thème/l’apparence de l’ensemble du graphique (par exemple, la couleur d’arrière-plan ou l’apparence des lignes de la grille)</li>
<li>Le titre, sous-titre… et les étiquettes des axes</li>
<li>Les couleurs des barres (avec <code>scale_fill_manual()</code>)</li>
<li>Le formatage et l’espacement des dates le long de l’axe des x (avec <code>scale_x_date</code>)</li>
<li>Beaucoup d’autres choses !</li>
</ul>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Le choléra et la fièvre typhoïde semblent-ils endémiques ?
<div id="radio_NJQORRQVSB" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NJQORRQVSB" value="answer"> <span>Non, les données suggèrent des épidémies occasionnelles de faible ampleur</span></label><label><input type="radio" autocomplete="off" name="radio_NJQORRQVSB" value=""> <span>Oui, ils sont tous deux endémiques</span></label>
</div>
Y a-t-il une période particulière de l’année où le paludisme a atteint un pic en 2024 ?
<div id="radio_HCIQFHCAFC" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_HCIQFHCAFC" value=""> <span>Oui, vers novembre/décembre</span></label><label><input type="radio" autocomplete="off" name="radio_HCIQFHCAFC" value="answer"> <span>Oui, vers juillet/août (été)</span></label><label><input type="radio" autocomplete="off" name="radio_HCIQFHCAFC" value=""> <span>Non, le nombre de cas est constamment élevée</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-63-contents" aria-controls="callout-63" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-63" class="callout-63-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Voici le code pour un formatage complet. Notez que d’autres changements ont été apportés, notamment la spécification que nous ne voulons que deux colonnes de mini-graphiques dans <code>facet_wrap()</code> et que l’étiquette de la date le long de l’axe des x ne doit indiquer que le jour et le mois (et non l’année, puisque tous les cas sont en 2024 de toute façon).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="sc">|&gt;</span> </span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>((<span class="fu">aes</span>(<span class="at">x =</span> date_notif, <span class="at">fill =</span> district_residentiel)), <span class="at">binwidth=</span><span class="dv">7</span>) <span class="sc">+</span></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(.<span class="sc">~</span>maladie_notifiee, <span class="at">ncol=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"District de résidence"</span>,</span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Date de notification par la clinique"</span>,</span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Nombre"</span>,</span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Nombres de cas confirmés de choléra, de dengue, de paludisme de fièvre typhoïde et de fièvre jaune par semaine à Feveria, 2024"</span>) <span class="sc">+</span></span>
<span id="cb110-10"><a href="#cb110-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"navy"</span>, <span class="st">"lightblue"</span>, <span class="st">"seagreen"</span>)) <span class="sc">+</span></span>
<span id="cb110-11"><a href="#cb110-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 month"</span>, </span>
<span id="cb110-12"><a href="#cb110-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">date_labels =</span> <span class="st">"%d %b"</span>) <span class="sc">+</span></span>
<span id="cb110-13"><a href="#cb110-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>,</span>
<span id="cb110-14"><a href="#cb110-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multidisease_surveillance.fr_files/figure-html/unnamed-chunk-99-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Les courbes épidémiques montrent également que le choléra et la typhoïde semblent se manifester sous la forme de flambées isolées, plutôt que de présenter un caractère endémique. Le paludisme et la dengue ont par contre présenté une circulation à Feveria tout au long de l’année, le paludisme atteignant un pic assez net pendant les mois d’été.</p>
</div>
</div>
</div>
</section>
<section id="tâche-e-produire-un-tableau-résumant-des-dates-clés" class="level4">
<h4 class="anchored" data-anchor-id="tâche-e-produire-un-tableau-résumant-des-dates-clés"><strong>Tâche E : Produire un tableau résumant des dates clés</strong></h4>
<p>Cette fois, utilisez <code>group_by()</code> et <code>summarize()</code> pour produire un tableau par district indiquant les dates de notifications les plus anciennes et les plus récentes.</p>
<p>A l’aide d’une fontion <code>filter()</code>, vous pourrez générer ce tableau pour un district à la fois.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Quand le premier cas de dengue a-t-il été signalé à <strong>Feveria</strong> en 2024 ?
<div id="radio_FVOQCIZDLO" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_FVOQCIZDLO" value=""> <span>18 janvier 2024</span></label><label><input type="radio" autocomplete="off" name="radio_FVOQCIZDLO" value="answer"> <span>17 janvier 2024</span></label><label><input type="radio" autocomplete="off" name="radio_FVOQCIZDLO" value=""> <span>12 février 2024</span></label>
</div>
Quand le dernier cas de dengue a-t-il été signalé à <strong>Feveria Central</strong> en 2024 ?
<div id="radio_ODOTIWOHMC" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ODOTIWOHMC" value="answer"> <span>22 août 2024</span></label><label><input type="radio" autocomplete="off" name="radio_ODOTIWOHMC" value=""> <span>18 novembre 2024</span></label><label><input type="radio" autocomplete="off" name="radio_ODOTIWOHMC" value=""> <span>25 décembre 2024</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-65-contents" aria-controls="callout-65" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cliquez pour voir la solution (essayez d’abord par vous-même !)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-65" class="callout-65-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Regroupez les données par maladie, puis, dans une fonction <code>summarize()</code>, définissez la première et la dernière date pour obtenir la chronologie globale de chaque maladie à Feveria.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="sc">|&gt;</span> </span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(maladie_notifiee) <span class="sc">|&gt;</span> </span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">prem_notif =</span> <span class="fu">min</span>(date_notif), </span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">der_notif =</span> <span class="fu">max</span>(date_notif)) <span class="sc">|&gt;</span></span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  maladie_notifiee prem_notif der_notif 
  &lt;chr&gt;            &lt;date&gt;     &lt;date&gt;    
1 cholera          2024-06-03 2024-09-23
2 dengue           2024-01-17 2024-11-18
3 fievre jaune     2024-03-08 2024-08-23
4 paludisme        2024-01-08 2024-12-25
5 typhoide         2024-05-02 2024-11-07</code></pre>
</div>
</div>
<p>Ajouter un <code>filter()</code> au code pour consulter les dates de la première notification et de la notification la plus récente pour le district qui vous intéresse.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="sc">|&gt;</span> </span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(district_residentiel <span class="sc">==</span> <span class="st">"Feveria Central"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(maladie_notifiee) <span class="sc">|&gt;</span> </span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">prem_notif =</span> <span class="fu">min</span>(date_notif), </span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">der_notif =</span> <span class="fu">max</span>(date_notif)) <span class="sc">|&gt;</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  maladie_notifiee prem_notif der_notif 
  &lt;chr&gt;            &lt;date&gt;     &lt;date&gt;    
1 cholera          2024-06-03 2024-09-23
2 dengue           2024-01-29 2024-08-22
3 paludisme        2024-01-29 2024-12-17
4 typhoide         2024-05-02 2024-11-07</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Superbe ! Conformément aux objectifs de cette étude de cas, vous avez fait ce qui suit :</p>
<ol type="1">
<li><p>Vous avez utilisé des fonctions clés de R pour nettoyer, remodeler et joindre des ensembles de données, et vous avez créé de nouvelles colonnes à l’aide de conditions logiques.</p></li>
<li><p>Pour obtenir des informations sur le traitement des données, vous avez procédé à des analyses exploratoires et à des vérifications des données tout au long du processus.</p></li>
<li><p>Vous avez effectué une analyse descriptive approfondie pour comprendre les données de laboratoire et de notification, avant et après la jointure. En réponse aux quatre questions initiales de votre superviseur, vous pouvez dire :</p>
<ul>
<li><strong>Combien de cas suspects des différentes maladies à déclaration obligatoire ont été signalés en 2024, et lesquels étaient les plus fréquents ?</strong> Le paludisme était la maladie à déclaration obligatoire la plus courante à Feveria en 2024. Selon le système de surveillance des maladies à déclaration obligatoire : Il y a eu 533 cas suspects de paludisme, 273 cas suspects de dengue, 100 cas de fièvre jaune, 46 cas de choléra et 35 cas de typhoïde.</li>
<li><strong>Quel pourcentage de ces cas a été confirmé ?</strong> Près de 80 % des cas à déclaration obligatoire signalés en 2024 avaient donné lieu à un résultat de test de laboratoire au moment de la jointure des données, avec quelques variations selon les maladies. Au total, 56 % des cas notifiés ont finalement été confirmés, mais ce pourcentage variait de 23 % seulement pour la fièvre typhoïde (7 cas confirmés sur 31 cas suspects avec résultats de tests) à 95 % pour le choléra (38 cas confirmés sur 40 cas suspects avec résultats de tests). En outre, le taux de positivité était plus élevé pour les cas présumés de dengue que pour les cas présumés de paludisme (87 % contre 41 %).</li>
<li><strong>Combien de cas confirmés de différentes maladies à déclaration obligatoire ont été signalés en 2024, et laquelle était la plus fréquente ?</strong> Les cas confirmés ont suivi une tendance légèrement différente de celle des cas suspects : l’infection la plus fréquemment signalée était la dengue avec 186 cas, suivie du paludisme (174), puis du choléra (38), de la fièvre jaune (33) et de la fièvre typhoïde (7).</li>
<li><strong>Comment les cas confirmés se répartissent-ils géographiquement et temporellement dans la région de Feveria ?</strong> Feveria a connu une transmission de la dengue et du paludisme tout au long de l’année, avec un pic en été, et concentrée dans le district de Lac Minara. Feveria a également connu de petites et rares épidémies de maladies diarrhéiques, telles que le choléra et la fièvre typhoïde, en particulier dans la zone urbaine de Feveria Central, où l’eau et l’assainissement peuvent poser problème.</li>
</ul></li>
<li><p>Enfin, vous avez pu réfléchir à la manière dont les processus des systèmes de surveillance des maladies à déclaration obligatoire et ceux des tests de diagnostique de laboratoire, par exemple le transfert des données entre les cliniques et les laboratoires, peuvent affecter la qualité et l’exhaustivité des données, et donc vos résultats.</p></li>
</ol>
<p>Il reste encore beaucoup de possibilités. Vous pouvez explorer les distributions des maladies par âge ou par sexe, calculer des taux d’incidence ou de prévalence des maladies à l’aide de données démographiques et même analyser les délais de déclaration en examinant les différentes dates de vos ensembles de données.</p>
<p>Vous avez acquis de solides bases et vous êtes bien équipé pour passer à l’étape suivante de votre analyse. Continuez, des découvertes passionnantes vous attendent !</p>
<p>Pour en savoir plus, consultez les autres études de cas ou plongez dans le <a href="https://epirhandbook.com/fr/index.fr.html">Epi R Handbook</a>.</p>
</section>
<section id="code-de-nettoyage-et-danalyse-des-données" class="level2">
<h2 class="anchored" data-anchor-id="code-de-nettoyage-et-danalyse-des-données">Code de nettoyage et d’analyse des données</h2>
<p>Vous trouverez ci-dessous un script de toutes les étapes de nettoyage des données et des analyses descriptives. Notez que les analyses sont combinées à la fin plutôt qu’intercalées entre les étapes de nettoyage. Il s’agit d’une façon plus ordonnée d’organiser votre script.</p>
<p>Par souci de concision, le code ci-dessous n’inclut pas toutes les inspections et vérifications effectuées en cours de route, mais vous pouvez décider de créer des sections avec de telles vérifications.</p>
<p>Le début de votre script doit également contenir des informations pour aider le lecteur à comprendre à quoi sert le script, ainsi que des commentaires tout au long du script. Vous vous remercierez plus tard d’avoir ajouté ces commentaires !</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-66-contents" aria-controls="callout-66" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Code pour nettoyer et analyser les données de notification et les données de laboratoire de Feveria, 2024
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-66" class="callout-66-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code pour nettoyer et analyser les données de notification et les données de laboratoire de Feveria, 2024</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Date:</span></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Author:</span></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Installation des packages --------------------------------</span></span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Pour s'assurer que le package "pacman" est installé</span></span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) {</span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>     <span class="fu">install.packages</span>(<span class="st">"pacman"</span>) }</span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Installation (si nécessaire) depuis le CRAN et chargement des packages à utiliser</span></span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb115-12"><a href="#cb115-12" aria-hidden="true" tabindex="-1"></a>  rio,        <span class="co"># importation de données  </span></span>
<span id="cb115-13"><a href="#cb115-13" aria-hidden="true" tabindex="-1"></a>  skimr,      <span class="co"># aperçu des données</span></span>
<span id="cb115-14"><a href="#cb115-14" aria-hidden="true" tabindex="-1"></a>  janitor,    <span class="co"># nettoyage des données et tableaux descriptifs</span></span>
<span id="cb115-15"><a href="#cb115-15" aria-hidden="true" tabindex="-1"></a>  lubridate,  <span class="co"># manipulation des dates</span></span>
<span id="cb115-16"><a href="#cb115-16" aria-hidden="true" tabindex="-1"></a>  epikit,     <span class="co"># pour créer des catégories d'âge</span></span>
<span id="cb115-17"><a href="#cb115-17" aria-hidden="true" tabindex="-1"></a>  gtsummary,  <span class="co"># statistiques descriptives, tests et régressions </span></span>
<span id="cb115-18"><a href="#cb115-18" aria-hidden="true" tabindex="-1"></a>  apyramid,   <span class="co"># tracé de pyramides des âges </span></span>
<span id="cb115-19"><a href="#cb115-19" aria-hidden="true" tabindex="-1"></a>  flextable,  <span class="co"># tableaux prêts à être présentés</span></span>
<span id="cb115-20"><a href="#cb115-20" aria-hidden="true" tabindex="-1"></a>  naniar,     <span class="co"># analyse des données manquantes</span></span>
<span id="cb115-21"><a href="#cb115-21" aria-hidden="true" tabindex="-1"></a>  remotes,    <span class="co"># pour installer le package permettant de télécharger les données</span></span>
<span id="cb115-22"><a href="#cb115-22" aria-hidden="true" tabindex="-1"></a>  tidyverse   <span class="co"># gestion et visualisation des données</span></span>
<span id="cb115-23"><a href="#cb115-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb115-24"><a href="#cb115-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-25"><a href="#cb115-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Importation des données --------------------------------------------</span></span>
<span id="cb115-26"><a href="#cb115-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-27"><a href="#cb115-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Données de notification</span></span>
<span id="cb115-28"><a href="#cb115-28" aria-hidden="true" tabindex="-1"></a>data_notif_brut <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"donnees/multi_maladies_notifications.xlsx"</span>)</span>
<span id="cb115-29"><a href="#cb115-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-30"><a href="#cb115-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Données de labo</span></span>
<span id="cb115-31"><a href="#cb115-31" aria-hidden="true" tabindex="-1"></a>data_lab_brut <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"donnees/multi_maladies_tests.csv"</span>)</span>
<span id="cb115-32"><a href="#cb115-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-33"><a href="#cb115-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Nettoyage des données de notification --------------------------------</span></span>
<span id="cb115-34"><a href="#cb115-34" aria-hidden="true" tabindex="-1"></a>data_notif <span class="ot">&lt;-</span> data_notif_brut <span class="sc">|&gt;</span> </span>
<span id="cb115-35"><a href="#cb115-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-36"><a href="#cb115-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date_notif =</span> date_signalee_par_letablissement_de_sante_la_communaute,</span>
<span id="cb115-37"><a href="#cb115-37" aria-hidden="true" tabindex="-1"></a>         <span class="at">id_notification =</span> id_de_notification) <span class="sc">|&gt;</span> </span>
<span id="cb115-38"><a href="#cb115-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id_notification, district_residentiel, maladie_notifiee, date_notif) <span class="sc">|&gt;</span> </span>
<span id="cb115-39"><a href="#cb115-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">district_residentiel =</span> <span class="fu">case_match</span>(<span class="fu">str_to_title</span>(district_residentiel),</span>
<span id="cb115-40"><a href="#cb115-40" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"F Central"</span>, <span class="st">"Feveria C"</span>, <span class="st">"Feveria Central"</span>) <span class="sc">~</span> <span class="st">"Feveria Central"</span>,</span>
<span id="cb115-41"><a href="#cb115-41" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"Kasara"</span>, <span class="st">"Ksr"</span>) <span class="sc">~</span> <span class="st">"Kasara"</span>,</span>
<span id="cb115-42"><a href="#cb115-42" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"L Minara"</span>, <span class="st">"Lac Minara"</span>, <span class="st">"Au Bord Du Lac"</span>) <span class="sc">~</span> <span class="st">"Lac Minara"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb115-43"><a href="#cb115-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date_notif =</span> <span class="fu">ymd</span>(date_notif)) </span>
<span id="cb115-44"><a href="#cb115-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-45"><a href="#cb115-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-46"><a href="#cb115-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Nettoyage et consolidation des données de labo -----------------------</span></span>
<span id="cb115-47"><a href="#cb115-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Nettoyage des valeurs</span></span>
<span id="cb115-48"><a href="#cb115-48" aria-hidden="true" tabindex="-1"></a>data_lab <span class="ot">&lt;-</span> data_lab_brut <span class="sc">|&gt;</span> </span>
<span id="cb115-49"><a href="#cb115-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">valeur =</span> <span class="fu">case_match</span>(valeur, </span>
<span id="cb115-50"><a href="#cb115-50" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">c</span>(<span class="st">"P"</span>, <span class="st">"PO1"</span>, <span class="st">"PO139"</span>) <span class="sc">~</span> <span class="st">"Positif"</span>,</span>
<span id="cb115-51"><a href="#cb115-51" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"N"</span> <span class="sc">~</span> <span class="st">"Négatif"</span>,</span>
<span id="cb115-52"><a href="#cb115-52" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"Indéterminé"</span>))</span>
<span id="cb115-53"><a href="#cb115-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-54"><a href="#cb115-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Création de la base de données de labo orientée tests</span></span>
<span id="cb115-55"><a href="#cb115-55" aria-hidden="true" tabindex="-1"></a>data_lab_tests <span class="ot">&lt;-</span> data_lab <span class="sc">|&gt;</span> </span>
<span id="cb115-56"><a href="#cb115-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cible <span class="sc">!=</span> <span class="st">"Dengue IgG"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-57"><a href="#cb115-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id_echantillon) <span class="sc">|&gt;</span> </span>
<span id="cb115-58"><a href="#cb115-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(valeur)) <span class="sc">|&gt;</span> </span>
<span id="cb115-59"><a href="#cb115-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-60"><a href="#cb115-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb115-61"><a href="#cb115-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-62"><a href="#cb115-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Création de la base de données de labo orientée cas</span></span>
<span id="cb115-63"><a href="#cb115-63" aria-hidden="true" tabindex="-1"></a>data_lab_cas <span class="ot">&lt;-</span> data_lab_tests <span class="sc">|&gt;</span> </span>
<span id="cb115-64"><a href="#cb115-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id_notification) <span class="sc">|&gt;</span> </span>
<span id="cb115-65"><a href="#cb115-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(valeur)) <span class="sc">|&gt;</span> </span>
<span id="cb115-66"><a href="#cb115-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-67"><a href="#cb115-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb115-68"><a href="#cb115-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-69"><a href="#cb115-69" aria-hidden="true" tabindex="-1"></a><span class="co"># Jointure des données de notification et de labo -----------------</span></span>
<span id="cb115-70"><a href="#cb115-70" aria-hidden="true" tabindex="-1"></a>data_jointes <span class="ot">&lt;-</span> <span class="fu">left_join</span>(data_notif, data_lab_cas, <span class="at">by =</span> <span class="st">"id_notification"</span>)</span>
<span id="cb115-71"><a href="#cb115-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-72"><a href="#cb115-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Nettoyage des données jointes -----------------------------------</span></span>
<span id="cb115-73"><a href="#cb115-73" aria-hidden="true" tabindex="-1"></a>data_jointes <span class="ot">&lt;-</span> data_jointes <span class="sc">|&gt;</span> </span>
<span id="cb115-74"><a href="#cb115-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cas_categorie =</span> <span class="fu">case_when</span>(valeur<span class="sc">==</span><span class="st">"Positif"</span> <span class="sc">~</span> <span class="st">"Confirmé"</span>,</span>
<span id="cb115-75"><a href="#cb115-75" aria-hidden="true" tabindex="-1"></a>                                   valeur<span class="sc">==</span><span class="st">"Négatif"</span> <span class="sc">~</span> <span class="st">"Ecarté"</span>,</span>
<span id="cb115-76"><a href="#cb115-76" aria-hidden="true" tabindex="-1"></a>                                   valeur<span class="sc">==</span><span class="st">"Indéterminé"</span> <span class="sc">|</span> <span class="fu">is.na</span>(valeur) <span class="sc">~</span> <span class="st">"Suspect"</span>))</span>
<span id="cb115-77"><a href="#cb115-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-78"><a href="#cb115-78" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="ot">&lt;-</span> data_jointes <span class="sc">|&gt;</span> </span>
<span id="cb115-79"><a href="#cb115-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cas_categorie<span class="sc">==</span><span class="st">"Confirmé"</span>)</span>
<span id="cb115-80"><a href="#cb115-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-81"><a href="#cb115-81" aria-hidden="true" tabindex="-1"></a><span class="co"># ANALYSE ---------------------------------------------------------</span></span>
<span id="cb115-82"><a href="#cb115-82" aria-hidden="true" tabindex="-1"></a><span class="co"># Nombre de cas suspects à Feveria</span></span>
<span id="cb115-83"><a href="#cb115-83" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_notif, maladie_notifiee)</span>
<span id="cb115-84"><a href="#cb115-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-85"><a href="#cb115-85" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribution des cas suspects par district</span></span>
<span id="cb115-86"><a href="#cb115-86" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_notif, maladie_notifiee, district_residentiel) <span class="sc">|&gt;</span></span>
<span id="cb115-87"><a href="#cb115-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span></span>
<span id="cb115-88"><a href="#cb115-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span></span>
<span id="cb115-89"><a href="#cb115-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span>
<span id="cb115-90"><a href="#cb115-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-91"><a href="#cb115-91" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribution des résultats de test par type de test</span></span>
<span id="cb115-92"><a href="#cb115-92" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_lab_tests, test, valeur) <span class="sc">|&gt;</span> </span>
<span id="cb115-93"><a href="#cb115-93" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"col"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-94"><a href="#cb115-94" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-95"><a href="#cb115-95" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-96"><a href="#cb115-96" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_ns</span>()</span>
<span id="cb115-97"><a href="#cb115-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-98"><a href="#cb115-98" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribution des catégories de cas dans les données jointes</span></span>
<span id="cb115-99"><a href="#cb115-99" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_jointes, cas_categorie) </span>
<span id="cb115-100"><a href="#cb115-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-101"><a href="#cb115-101" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribution des catégories de cas par maladie dans les données jointes</span></span>
<span id="cb115-102"><a href="#cb115-102" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(data_jointes, maladie_notifiee, cas_categorie) <span class="sc">|&gt;</span> </span>
<span id="cb115-103"><a href="#cb115-103" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-104"><a href="#cb115-104" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-105"><a href="#cb115-105" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-106"><a href="#cb115-106" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_ns</span>()</span>
<span id="cb115-107"><a href="#cb115-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-108"><a href="#cb115-108" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribution des catégories de cas par maladie dans les données jointes, uniquement pour les cas avec un résultat de test valide</span></span>
<span id="cb115-109"><a href="#cb115-109" aria-hidden="true" tabindex="-1"></a>data_jointes <span class="sc">|&gt;</span> </span>
<span id="cb115-110"><a href="#cb115-110" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(cas_categorie <span class="sc">!=</span> <span class="st">"Suspect"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-111"><a href="#cb115-111" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabyl</span>(maladie_notifiee, cas_categorie) <span class="sc">|&gt;</span> </span>
<span id="cb115-112"><a href="#cb115-112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-113"><a href="#cb115-113" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-114"><a href="#cb115-114" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-115"><a href="#cb115-115" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_ns</span>()</span>
<span id="cb115-116"><a href="#cb115-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-117"><a href="#cb115-117" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribution des cas confirmés par district</span></span>
<span id="cb115-118"><a href="#cb115-118" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="sc">|&gt;</span> </span>
<span id="cb115-119"><a href="#cb115-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(maladie_notifiee, district_residentiel) <span class="sc">|&gt;</span> </span>
<span id="cb115-120"><a href="#cb115-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-121"><a href="#cb115-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-122"><a href="#cb115-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-123"><a href="#cb115-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>() </span>
<span id="cb115-124"><a href="#cb115-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-125"><a href="#cb115-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-126"><a href="#cb115-126" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualisation de l'évolution temporelle de le nombre de cas confirmé par district</span></span>
<span id="cb115-127"><a href="#cb115-127" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="sc">|&gt;</span> </span>
<span id="cb115-128"><a href="#cb115-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb115-129"><a href="#cb115-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>((<span class="fu">aes</span>(<span class="at">x =</span> date_notif, <span class="at">fill =</span> district_residentiel)), <span class="at">binwidth=</span><span class="dv">7</span>) <span class="sc">+</span></span>
<span id="cb115-130"><a href="#cb115-130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(.<span class="sc">~</span>maladie_notifiee, <span class="at">ncol=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb115-131"><a href="#cb115-131" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb115-132"><a href="#cb115-132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"District de résidence"</span>,</span>
<span id="cb115-133"><a href="#cb115-133" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Date de notification par la clinique"</span>,</span>
<span id="cb115-134"><a href="#cb115-134" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Nombre"</span>,</span>
<span id="cb115-135"><a href="#cb115-135" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Nombres de cas confirmés de choléra, de dengue, de paludisme de fièvre typhoïde et de fièvre jaune par semaine à Feveria, 2024"</span>) <span class="sc">+</span></span>
<span id="cb115-136"><a href="#cb115-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"navy"</span>, <span class="st">"lightblue"</span>, <span class="st">"seagreen"</span>)) <span class="sc">+</span></span>
<span id="cb115-137"><a href="#cb115-137" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 month"</span>, </span>
<span id="cb115-138"><a href="#cb115-138" aria-hidden="true" tabindex="-1"></a>               <span class="at">date_labels =</span> <span class="st">"%d %b"</span>) <span class="sc">+</span></span>
<span id="cb115-139"><a href="#cb115-139" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>,</span>
<span id="cb115-140"><a href="#cb115-140" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>)) </span>
<span id="cb115-141"><a href="#cb115-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-142"><a href="#cb115-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-143"><a href="#cb115-143" aria-hidden="true" tabindex="-1"></a><span class="co"># Première et dernière date de notification de cas confirmé par maladie</span></span>
<span id="cb115-144"><a href="#cb115-144" aria-hidden="true" tabindex="-1"></a>data_jointes_confirme <span class="sc">|&gt;</span> </span>
<span id="cb115-145"><a href="#cb115-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(maladie_notifiee) <span class="sc">|&gt;</span> </span>
<span id="cb115-146"><a href="#cb115-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">prem_notif =</span> <span class="fu">min</span>(date_notif), </span>
<span id="cb115-147"><a href="#cb115-147" aria-hidden="true" tabindex="-1"></a>            <span class="at">der_notif =</span> <span class="fu">max</span>(date_notif)) <span class="sc">|&gt;</span></span>
<span id="cb115-148"><a href="#cb115-148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="informations-sur-létude-de-cas" class="level2">
<h2 class="anchored" data-anchor-id="informations-sur-létude-de-cas">Informations sur l’étude de cas</h2>
<div class="callout callout-style-simple callout-note no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><strong>Auteurs originaux</strong> Paula Blomquist et Alanah Jansen, avec le soutien technique du CDC Global Surveillance, Laboratory, and Data Systems Branch en collaboration avec TEPHINET.</p>
<p><strong>Source des données</strong> Données fictives fournies par Applied Epi.</p>
</div>
</div>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 63%">
</colgroup>
<thead>
<tr class="header">
<th>Date</th>
<th style="text-align: left;">Modifications apportées</th>
<th style="text-align: right;">Version</th>
<th>Auteur</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Juillet 2025</td>
<td style="text-align: left;">Première version</td>
<td style="text-align: right;">1</td>
<td>Paula Blomquist et Alanah Jansen, Applied Epi, avec le soutien technique du CDC Global Surveillance, Laboratory, and Data Systems Branch en collaboration avec TEPHINET.</td>
</tr>
<tr class="even">
<td>Août 2025</td>
<td style="text-align: left;">Traduction française</td>
<td style="text-align: right;">1</td>
<td>Laurent LeHot et Olivia Boyd</td>
</tr>
</tbody>
</table>
</section>
<section id="conditions-dutilisation" class="level2">
<h2 class="anchored" data-anchor-id="conditions-dutilisation">Conditions d’utilisation</h2>
<p><strong>Clause de non-responsabilité</strong> Les informations présentées dans cet exercice et les fichiers de données associés ont été développés pour aider les apprenants à atteindre les objectifs d’apprentissage prévus. Le contenu est celui de l’auteur ou des auteurs et ne représente pas nécessairement les opinions officielles du CDC, du US Department of Health and Human Services ou de TEPHINET.</p>
<p><strong>Licence d’utilisation</strong> Licence : Cette étude de cas est sous licence <a href="https://github.com/appliedepi/case_studies/tree/master/licenses/multi_disease_lab_LICENSE.md">licence CC BY-NC-SA 4.0</a>. Pour plus d’informations sur le partage et l’adaptation de cette étude de cas, voir le <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">certificat associé</a>.</p>
<p><strong>Financement</strong> Cette étude de cas a été soutenue à 100 % par l’accord de coopération numéro NU2HGH000044 financé par le US Centers for Disease Control and Prevention (CDC)</p>


</section>
</section>

</main> <!-- /main -->
<script>



/* update total correct if #webex-total_correct exists */

update_total_correct = function() {

  console.log("webex: update total_correct");



  var t = document.getElementsByClassName("webex-total_correct");

  for (var i = 0; i < t.length; i++) {

    p = t[i].parentElement;

    var correct = p.getElementsByClassName("webex-correct").length;

    var solvemes = p.getElementsByClassName("webex-solveme").length;

    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;

    var selects = p.getElementsByClassName("webex-select").length;



    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";

  }

}



/* webex-solution button toggling function */

b_func = function() {

  console.log("webex: toggle hide");



  var cl = this.parentElement.classList;

  if (cl.contains('open')) {

    cl.remove("open");

  } else {

    cl.add("open");

  }

}



/* check answers */

check_func = function() {

  console.log("webex: check answers");



  var cl = this.parentElement.classList;

  if (cl.contains('unchecked')) {

    cl.remove("unchecked");

    this.innerHTML = "Hide Answers";

  } else {

    cl.add("unchecked");

    this.innerHTML = "Show Answers";

  }

}



/* function for checking solveme answers */

solveme_func = function(e) {

  console.log("webex: check solveme");



  var real_answers = JSON.parse(this.dataset.answer);

  var my_answer = this.value;

  var cl = this.classList;

  if (cl.contains("ignorecase")) {

    my_answer = my_answer.toLowerCase();

  }

  if (cl.contains("nospaces")) {

    my_answer = my_answer.replace(/ /g, "")

  }



  if (my_answer == "") {

    cl.remove("webex-correct");

    cl.remove("webex-incorrect");

  } else if (real_answers.includes(my_answer)) {

    cl.add("webex-correct");

    cl.remove("webex-incorrect");

  } else {

    cl.add("webex-incorrect");

    cl.remove("webex-correct");

  }



  // match numeric answers within a specified tolerance

  if(this.dataset.tol > 0){

    var tol = JSON.parse(this.dataset.tol);

    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)

    if (matches.reduce((a, b) => a + b, 0) > 0) {

      cl.add("webex-correct");

    } else {

      cl.remove("webex-correct");

    }

  }



  // added regex bit

  if (cl.contains("regex")){

    answer_regex = RegExp(real_answers.join("|"))

    if (answer_regex.test(my_answer)) {

      cl.add("webex-correct");

    }

  }



  update_total_correct();

}



/* function for checking select answers */

select_func = function(e) {

  console.log("webex: check select");



  var cl = this.classList



  /* add style */

  cl.remove("webex-incorrect");

  cl.remove("webex-correct");

  if (this.value == "answer") {

    cl.add("webex-correct");

  } else if (this.value != "blank") {

    cl.add("webex-incorrect");

  }



  update_total_correct();

}



/* function for checking radiogroups answers */

radiogroups_func = function(e) {

  console.log("webex: check radiogroups");



  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');

  var cl = checked_button.parentElement.classList;

  var labels = checked_button.parentElement.parentElement.children;



  /* get rid of styles */

  for (i = 0; i < labels.length; i++) {

    labels[i].classList.remove("webex-incorrect");

    labels[i].classList.remove("webex-correct");

  }



  /* add style */

  if (checked_button.value == "answer") {

    cl.add("webex-correct");

  } else {

    cl.add("webex-incorrect");

  }



  update_total_correct();

}



window.onload = function() {

  console.log("webex onload");

  /* set up solution buttons */

  var buttons = document.getElementsByTagName("button");



  for (var i = 0; i < buttons.length; i++) {

    if (buttons[i].parentElement.classList.contains('webex-solution')) {

      buttons[i].onclick = b_func;

    }

  }



  var check_sections = document.getElementsByClassName("webex-check");

  console.log("check:", check_sections.length);

  for (var i = 0; i < check_sections.length; i++) {

    check_sections[i].classList.add("unchecked");



    let btn = document.createElement("button");

    btn.innerHTML = "Show Answers";

    btn.classList.add("webex-check-button");

    btn.onclick = check_func;

    check_sections[i].appendChild(btn);



    let spn = document.createElement("span");

    spn.classList.add("webex-total_correct");

    check_sections[i].appendChild(spn);

  }



  /* set up webex-solveme inputs */

  var solveme = document.getElementsByClassName("webex-solveme");



  for (var i = 0; i < solveme.length; i++) {

    /* make sure input boxes don't auto-anything */

    solveme[i].setAttribute("autocomplete","off");

    solveme[i].setAttribute("autocorrect", "off");

    solveme[i].setAttribute("autocapitalize", "off");

    solveme[i].setAttribute("spellcheck", "false");

    solveme[i].value = "";



    /* adjust answer for ignorecase or nospaces */

    var cl = solveme[i].classList;

    var real_answer = solveme[i].dataset.answer;

    if (cl.contains("ignorecase")) {

      real_answer = real_answer.toLowerCase();

    }

    if (cl.contains("nospaces")) {

      real_answer = real_answer.replace(/ /g, "");

    }

    solveme[i].dataset.answer = real_answer;



    /* attach checking function */

    solveme[i].onkeyup = solveme_func;

    solveme[i].onchange = solveme_func;



    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")

  }



  /* set up radiogroups */

  var radiogroups = document.getElementsByClassName("webex-radiogroup");

  for (var i = 0; i < radiogroups.length; i++) {

    radiogroups[i].onchange = radiogroups_func;

  }



  /* set up selects */

  var selects = document.getElementsByClassName("webex-select");

  for (var i = 0; i < selects.length; i++) {

    selects[i].onchange = select_func;

    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")

  }



  update_total_correct();

}



</script>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">

<div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>