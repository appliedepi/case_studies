<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>multidisease_surveillance.es – Applied Epi Open Case Study Repository</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-8ea72dc5fed832574809a9c94082fbbb.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-aa61d32c583bf1dfab972411f0652ea9.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-f69cc4c4d15ad532714b0a0037dc36d7.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-YBNGPHQ4MK"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-YBNGPHQ4MK', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script> 
  
<link href="../site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">

<script src="../site_libs/tabwid-1.1.3/tabwid.js"></script>



<link rel="stylesheet" href="webex.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Applied Epi Open Case Study Repository</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../pages/instructions.html"> 
<span class="menu-text">How-to Guide</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://appliedepi.org/"> 
<span class="menu-text">About Applied Epi</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://twitter.com/appliedepi" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://www.linkedin.com/company/appliedepi/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/logos/Applied_Epi_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#multidisease_surveillance" id="toc-multidisease_surveillance" class="nav-link active" data-scroll-target="#multidisease_surveillance">Vinculación y análisis de datos de notificación y datos de laboratorio en R</a>
  <ul class="collapse">
  <li><a href="#escenario" id="toc-escenario" class="nav-link" data-scroll-target="#escenario">Escenario</a></li>
  <li><a href="#objetivos" id="toc-objetivos" class="nav-link" data-scroll-target="#objetivos">Objetivos</a></li>
  <li><a href="#etapa-1.-instalación" id="toc-etapa-1.-instalación" class="nav-link" data-scroll-target="#etapa-1.-instalación">Etapa 1. Instalación</a>
  <ul class="collapse">
  <li><a href="#empezar-en-rstudio" id="toc-empezar-en-rstudio" class="nav-link" data-scroll-target="#empezar-en-rstudio">1.1 Empezar en RStudio</a></li>
  <li><a href="#instalar-cargar-paquetes" id="toc-instalar-cargar-paquetes" class="nav-link" data-scroll-target="#instalar-cargar-paquetes">1.2 Instalar cargar paquetes</a></li>
  </ul></li>
  <li><a href="#paso-2.-descargar-e-importar-los-datos" id="toc-paso-2.-descargar-e-importar-los-datos" class="nav-link" data-scroll-target="#paso-2.-descargar-e-importar-los-datos">Paso 2. Descargar e importar los datos</a>
  <ul class="collapse">
  <li><a href="#descargar-los-datos" id="toc-descargar-los-datos" class="nav-link" data-scroll-target="#descargar-los-datos">2.1: Descargar los datos</a></li>
  <li><a href="#importar-los-datos" id="toc-importar-los-datos" class="nav-link" data-scroll-target="#importar-los-datos">2.2 Importar los datos</a></li>
  </ul></li>
  <li><a href="#paso-3.-inspeccionar-los-datos" id="toc-paso-3.-inspeccionar-los-datos" class="nav-link" data-scroll-target="#paso-3.-inspeccionar-los-datos">Paso 3. Inspeccionar los datos</a>
  <ul class="collapse">
  <li><a href="#paso-3.1-inspeccionar-los-datos-de-vigilancia" id="toc-paso-3.1-inspeccionar-los-datos-de-vigilancia" class="nav-link" data-scroll-target="#paso-3.1-inspeccionar-los-datos-de-vigilancia">Paso 3.1 Inspeccionar los datos de vigilancia</a></li>
  <li><a href="#paso-3.2-inspeccionar-los-datos-de-laboratorio" id="toc-paso-3.2-inspeccionar-los-datos-de-laboratorio" class="nav-link" data-scroll-target="#paso-3.2-inspeccionar-los-datos-de-laboratorio">Paso 3.2 Inspeccionar los datos de laboratorio</a></li>
  </ul></li>
  <li><a href="#paso-4.-limpiar-y-describir-los-datos-de-notificación" id="toc-paso-4.-limpiar-y-describir-los-datos-de-notificación" class="nav-link" data-scroll-target="#paso-4.-limpiar-y-describir-los-datos-de-notificación">Paso 4. Limpiar y describir los datos de notificación</a>
  <ul class="collapse">
  <li><a href="#paso-4.1-limpiar-los-datos" id="toc-paso-4.1-limpiar-los-datos" class="nav-link" data-scroll-target="#paso-4.1-limpiar-los-datos">Paso 4.1 Limpiar los datos</a></li>
  <li><a href="#paso-4.2-análisis-descriptivo-simple" id="toc-paso-4.2-análisis-descriptivo-simple" class="nav-link" data-scroll-target="#paso-4.2-análisis-descriptivo-simple">Paso 4.2 Análisis descriptivo simple</a></li>
  </ul></li>
  <li><a href="#paso-5.-limpiar-consolidar-y-describir-los-datos-de-laboratorio." id="toc-paso-5.-limpiar-consolidar-y-describir-los-datos-de-laboratorio." class="nav-link" data-scroll-target="#paso-5.-limpiar-consolidar-y-describir-los-datos-de-laboratorio.">Paso 5. Limpiar, consolidar y describir los datos de laboratorio.</a>
  <ul class="collapse">
  <li><a href="#paso-5.1-normalizar-los-resultados-de-las-pruebas" id="toc-paso-5.1-normalizar-los-resultados-de-las-pruebas" class="nav-link" data-scroll-target="#paso-5.1-normalizar-los-resultados-de-las-pruebas">Paso 5.1 Normalizar los resultados de las pruebas</a></li>
  <li><a href="#paso-5.2-consolidar-en-una-fila-por-prueba" id="toc-paso-5.2-consolidar-en-una-fila-por-prueba" class="nav-link" data-scroll-target="#paso-5.2-consolidar-en-una-fila-por-prueba">Paso 5.2 Consolidar en una fila por prueba</a></li>
  <li><a href="#paso-5.3-análisis-descriptivo-simple" id="toc-paso-5.3-análisis-descriptivo-simple" class="nav-link" data-scroll-target="#paso-5.3-análisis-descriptivo-simple">Paso 5.3 Análisis descriptivo simple</a></li>
  </ul></li>
  <li><a href="#paso-6.-unión-y-tratamiento-final" id="toc-paso-6.-unión-y-tratamiento-final" class="nav-link" data-scroll-target="#paso-6.-unión-y-tratamiento-final">Paso 6. Unión y tratamiento final</a>
  <ul class="collapse">
  <li><a href="#paso-6.1-unir-los-datos-de-notificación-y-los-datos-de-laboratorio" id="toc-paso-6.1-unir-los-datos-de-notificación-y-los-datos-de-laboratorio" class="nav-link" data-scroll-target="#paso-6.1-unir-los-datos-de-notificación-y-los-datos-de-laboratorio">Paso 6.1 Unir los datos de notificación y los datos de laboratorio</a></li>
  <li><a href="#paso-6.2-etiquetar-los-casos-confirmados-descartados-y-sospechosos" id="toc-paso-6.2-etiquetar-los-casos-confirmados-descartados-y-sospechosos" class="nav-link" data-scroll-target="#paso-6.2-etiquetar-los-casos-confirmados-descartados-y-sospechosos">Paso 6.2 Etiquetar los casos confirmados, descartados y sospechosos</a></li>
  <li><a href="#paso-6.3-revisar-la-distribución-de-los-resultados-de-laboratorio-entre-los-casos." id="toc-paso-6.3-revisar-la-distribución-de-los-resultados-de-laboratorio-entre-los-casos." class="nav-link" data-scroll-target="#paso-6.3-revisar-la-distribución-de-los-resultados-de-laboratorio-entre-los-casos.">Paso 6.3 Revisar la distribución de los resultados de laboratorio entre los casos.</a></li>
  <li><a href="#paso-6.4-crear-una-lista-con-sólo-los-casos-confirmados" id="toc-paso-6.4-crear-una-lista-con-sólo-los-casos-confirmados" class="nav-link" data-scroll-target="#paso-6.4-crear-una-lista-con-sólo-los-casos-confirmados">Paso 6.4 Crear una lista con sólo los casos confirmados</a></li>
  </ul></li>
  <li><a href="#paso-7.-análisis-descriptivo-de-los-casos-confirmados" id="toc-paso-7.-análisis-descriptivo-de-los-casos-confirmados" class="nav-link" data-scroll-target="#paso-7.-análisis-descriptivo-de-los-casos-confirmados">Paso 7. Análisis descriptivo de los casos confirmados</a>
  <ul class="collapse">
  <li><a href="#paso-7.1-describir-los-casos-por-distrito" id="toc-paso-7.1-describir-los-casos-por-distrito" class="nav-link" data-scroll-target="#paso-7.1-describir-los-casos-por-distrito">Paso 7.1 Describir los casos por distrito</a></li>
  <li><a href="#paso-7.2-describir-los-casos-a-lo-largo-del-tiempo" id="toc-paso-7.2-describir-los-casos-a-lo-largo-del-tiempo" class="nav-link" data-scroll-target="#paso-7.2-describir-los-casos-a-lo-largo-del-tiempo">Paso 7.2 Describir los casos a lo largo del tiempo</a></li>
  </ul></li>
  <li><a href="#conclusión" id="toc-conclusión" class="nav-link" data-scroll-target="#conclusión">Conclusión</a></li>
  <li><a href="#código-de-limpieza-y-análisis-de-datos" id="toc-código-de-limpieza-y-análisis-de-datos" class="nav-link" data-scroll-target="#código-de-limpieza-y-análisis-de-datos">Código de limpieza y análisis de datos</a></li>
  <li><a href="#información-sobre-casos-de-estudio" id="toc-información-sobre-casos-de-estudio" class="nav-link" data-scroll-target="#información-sobre-casos-de-estudio">Información sobre casos de estudio</a></li>
  <li><a href="#condiciones-de-uso" id="toc-condiciones-de-uso" class="nav-link" data-scroll-target="#condiciones-de-uso">Condiciones de uso</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="multidisease_surveillance" class="level1">
<h1>Vinculación y análisis de datos de notificación y datos de laboratorio en R</h1>
<div class="callout callout-style-simple callout-note no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><strong>Herramienta:</strong> R <strong>Complejidad técnica:</strong> Intermedia <strong>Complejidad metodológica:</strong> Básica</p>
<p><strong>Conocimientos previos necesarios:</strong> <a href="https://epirhandbook.com/es/basics.es.html">Fundamentos de R</a> - uso de Rstudio, paquetes de R, funciones y argumentos, uso de tuberías - así como funciones clave de tidyverse y ggplot2.</p>
<p><strong>Fuente:</strong> Applied Epi, con el apoyo técnico de la Subdivisión de Vigilancia Mundial, Laboratorios y Sistemas de Datos de los CDC, en colaboración con TEPHINET.</p>
<p><strong>Duración estimada:</strong> 4 horas</p>
</div>
</div>
</div>
<p>Para obtener instrucciones sobre cómo utilizar nuestros estudios de caso, consulte la <a href="instructions.html">guía práctica</a>. Puede enviar sus comentarios y sugerencias a <a href="mailto:contact@appliedepi.org">contact@appliedepi.org</a>. También puede debatir el caso práctico o los conceptos relacionados en la <a href="https://community.appliedepi.org/">Comunidad de Epi Aplicada</a>.</p>
<section id="escenario" class="level2">
<h2 class="anchored" data-anchor-id="escenario">Escenario</h2>
<p>Usted es epidemiologo o epidemióloga en la oficina nacional de vigilancia de Feveria, un pequeño país tropical compuesto por tres distritos:</p>
<ul>
<li><strong>Feveria Central:</strong> zona urbana densamente poblada, con infraestructuras de agua y saneamiento a veces poco fiables.</li>
<li><strong>Lago Minara:</strong> zona lacustre con buena infraestructura, pero con gran abundancia de mosquitos durante los meses más cálidos del año.</li>
<li><strong>Kasara:</strong> zona suburbana situada al otro lado de Feveria Central.</li>
</ul>
<p><strong>Mapa de los distritos de Feveria</strong></p>
<p><img src="..\images/multidisease_surveillance/map_es.png" class="img-fluid" style="width:70.0%"></p>
<p>Es enero 2025, y su supervisor quiere que transfiera la rutina de procesamiento de enfermedades de declaración obligatoria de Excel a R, y que realice algunos análisis de datos. Como mínimo, quiere saber:</p>
<ul>
<li>¿Cuántos casos sospechosos de las diferentes enfermedades de declaración obligatoria se notificaron en 2024, y cuál fue la más frecuente?</li>
<li>¿Qué porcentaje de ellos fue confirmado?</li>
<li>¿Cuántos casos confirmados de las diferentes enfermedades de declaración obligatoria se notificaron en 2024, y cuál fue la más frecuente?</li>
<li>¿Cómo se distribuyeron geográfica y temporalmente los casos confirmados en Feveria?</li>
</ul>
<p>Su supervisor le pide que escriba código para importar, limpiar, combinar y analizar las siguientes listas:</p>
<ul>
<li><strong>Datos de vigilancia de enfermedades de declaración obligatoria de 2024:</strong> también denominados “datos de notificación”, se trata de datos de vigilancia sobre cinco enfermedades de declaración obligatoria notificadas por las clínicas de Feveria: dengue, paludismo, cólera, fiebre tifoidea y fiebre amarilla. Estos corresponden a casos sospechosos, basados en los síntomas de los pacientes. Los clínicos introducen cada notificación en un sistema en línea todos los días de la semana.</li>
<li><strong>Datos de resultados de pruebas de laboratorio de 2024:</strong> procedentes de tres grandes laboratorios de Feveria. Estos resultados corresponden a muestras tomadas de los casos sospechosos de las enfermedades de declaración obligatoria mencionadas anteriormente.</li>
</ul>
<p>¡Vamos!</p>
</section>
<section id="objetivos" class="level2">
<h2 class="anchored" data-anchor-id="objetivos">Objetivos</h2>
<p>En este caso práctico deberá:</p>
<ol type="1">
<li>Utilizar funciones clave de R para limpiar datos, remodelar bases de datos, combinar fuentes de datos y crear nuevas columnas mediante condiciones lógicas, con el fin de preparar los datos para el análisis.</li>
<li>Realizar inspecciones de datos y comprobaciones de calidad en diferentes fases del proyecto, comprendiendo su importancia para garantizar un análisis fiable.</li>
<li>Llevar a cabo análisis descriptivos básicos para comparar las tendencias de las enfermedades entre distintas fuentes de datos, tanto antes como después de la vinculación.</li>
<li>Interpretar las diferencias en los resultados de las distintas fuentes de datos y comprender cómo éstas reflejan la estructura y el diseño del sistema de vigilancia.</li>
</ol>
</section>
<section id="etapa-1.-instalación" class="level2">
<h2 class="anchored" data-anchor-id="etapa-1.-instalación">Etapa 1. Instalación</h2>
<section id="empezar-en-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="empezar-en-rstudio">1.1 Empezar en RStudio</h3>
<p>Empiece por establecer un flujo de trabajo reproducible y bien organizado. Esto le facilitará repetir el análisis siempre que sea necesario.</p>
<p><strong>Tareas:</strong></p>
<ul>
<li>Configurar un proyecto en RStudio.</li>
<li>Establecer subcarpetas claras para su código, datos y resultados.</li>
<li>Crear un script en R, o un archivo R Markdown si lo prefiere. Asegúrese de que el propósito del script, la fecha y el autor figuren como comentarios en la parte superior del archivo.</li>
<li>Extra: compruebe que el idioma de trabajo en RStudio sea el adecuado (por ejemplo, español para este ejercicio).</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para leer una pista
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>Cree una carpeta donde fuardará todo el trabajo de este caso práctico. Por ejemplo, puede llamarla ‘multienfermedad_lab’ y crearla en el escritorio de su ordenador. En esta carpeta debe crear su proyecto de RStudio.</li>
<li>Le sugerimos crear las siguientes subcarpeta: <code>scripts</code> (para su código), <code>datos</code> (para sus datos), y <code>resultados</code> (para sus resultados analíticos).</li>
</ul>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Cree una carpeta (por ejemplo: ‘multienfermedad_lab’ en su escritorio) para su trabajo. Para crear un proyecto de Rstudio en su nueva carpeta, haga clic en la esquina superior izquierda de R Studio y seleccione la opción <code>New Project...</code>, luego seleccione <code>Existing Directory</code> y, a continuación, en <code>Browse</code> para seleccionar su nueva carpeta. Para obtener más información, consulte la sección <a href="https://epirhandbook.com/es/r_projects.es.html">proyectos en R</a> del Manual de R para Epis.</p>
<p>Inicie un nuevo script de R haciendo clic en <code>New File</code> en la parte superior izquierda de RStudio y, a continuación, seleccione <code>R Script</code>. Guárdelo de inmediato en la ubicación apropiada, por ejemplo, en la subcarpeta scripts de su proyecto.</p>
<p>En la parte superior de su nuevo script de R, escriba información esencial como su nombre, el propósito del archivo y la fecha.</p>
<p>Tenga en cuenta que su configuración regional en R determina el idioma y la localización que se utilizarán para aspectos como los formatos de fecha o las traducciones. Si su configuración regional es distinta del idioma que desea para su informe (por ejemplo, configuración regional en español frente a un informe en inglés), puede cambiarla al inglés ejecutando: <code>Sys.setlocale("LC_ALL", "English")</code>.</p>
<p>Incluya esta línea en su script si fuera necesario, o bien omítala si su configuración regional ya es la adecuada. Esto se explica con más detalle en la <a href="pages/instructions.qmd_">Guía práctica</a>.</p>
</div>
</div>
</div>
</section>
<section id="instalar-cargar-paquetes" class="level3">
<h3 class="anchored" data-anchor-id="instalar-cargar-paquetes">1.2 Instalar cargar paquetes</h3>
<p>A continuación, en su script de R, debe instalar y cargar los paquetes necesarios. Esto garantiza que las funciones que necesita estén disponibles para realizar su análisis.</p>
<p>Necesitará los siguientes paquetes:</p>
<p><code>{rio}</code> (para importar datos) <code>{skimr}</code> (para revisar datos) <code>{janitor}</code> (para limpiar datos) <code>{lubridate}</code> (para la gestión de fechas y tiempos) <code>{epikit}</code> (para tareas relacionadas con epidemiología) <code>{gtsummary}</code> (para estadísticas descriptivas, pruebas y regresión) <code>{apyramid}</code> (para pirámides de edad y sexo) <code>{flextable}</code> (para generar tablas listas para su presentación) <code>{naniar}</code> (para evaluar datos faltantes) <code>{tidyverse}</code> (para tareas generales de manipulación y análisis de datos)</p>
<p>Además, necesitará <code>{remotes}</code> para descargar datos, algo que se explicará en la sección correspondiente a descargas.</p>
<p>Mientras empieza, su colega de confianza le da un codazo y le susurra: “He oído que una forma estupenda de gestionar sus paquetes… es con el paquete <code>{pacman}</code>”.</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utilice la función <code>p_load()</code> del paquete <code>{pacman}</code> para esta tarea. Es suficiente con proporcionarle una lista de los paquetes que desee utilizar. La función realiza dos pasos por cada paquete:</p>
<ol type="1">
<li>Comprueba si el paquete está instalado en su ordenador y, si no lo está, lo instala automáticamente.</li>
<li>Carga el paquete para que pueda usarse durante la sesión de R.</li>
</ol>
<p>Si aún no tiene instalado <code>{pacman}</code>, deberá hacerlo <em>a la manera tradicional</em>, con <code>install.packages()</code>.</p>
<p>Tenga en cuenta que el orden de los paquetes en <code>p_load()</code> puede ser importante. Si dos paquetes contienen funciones con el mismo nombre (por ejemplo, <code>select()</code> en <code>{MASS}</code> y <code>select()</code> en <code>{tidyverse}</code>), R utilizará la versión del paquete cargado más recientemente. Por ello, se recomienda cargar <code>{tidyverse}</code> en último lugar para priorizar sus funciones, muy utilizadas en la manipulación y visualización de datos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Asegurarse de que el paquete "pacman" está instalado</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) { <span class="fu">install.packages</span>(<span class="st">"pacman"</span>) }</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalar (si es necesario) desde CRAN y cargar los paquetes a utilizar</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  rio,        <span class="co"># importar datos  </span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  skimr,      <span class="co"># revisar datos de forma rápida</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  janitor,    <span class="co"># limpieza de datos y tablas</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  lubridate,  <span class="co"># manejo de fechas</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  epikit,     <span class="co"># crear categorías de edad</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  gtsummary,  <span class="co"># estadísticas descriptivas, pruebas y regresión </span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  apyramid,   <span class="co"># crear pirámides de edad y sexo </span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  flextable,  <span class="co"># tablas listas para presentación</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  naniar,     <span class="co"># explorar datos faltantes</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  remotes,    <span class="co"># instalar paquetes para descarga de datos</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  tidyverse   <span class="co"># manipulación y visualización de datos (último, para priorizar sus funciones)</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="paso-2.-descargar-e-importar-los-datos" class="level2">
<h2 class="anchored" data-anchor-id="paso-2.-descargar-e-importar-los-datos">Paso 2. Descargar e importar los datos</h2>
<section id="descargar-los-datos" class="level3">
<h3 class="anchored" data-anchor-id="descargar-los-datos">2.1: Descargar los datos</h3>
<p>Su oficina le proporciona dos archivos para su análisis, ambos correspondientes al año 2024 y actualizados al 15 de enero de 2025:</p>
<ul>
<li>Una base de datos de notificación de enfermedades (<em>“notificaciones_multienfermedad.xlsx”</em>) con los casos procedentes de 5 centros de salud.</li>
<li>Una base de datos de pruebas de laboratorio (<em>“pruebas_multienfermedad.csv”</em>) enviada por tres laboratorios que realizan pruebas para los mismos 5 centros de salud.</li>
</ul>
<p>Para este estudio de caso, puede descargar los datos desde la página web de Applied Epi mediante el paquete <code>{appliedepidata}</code>. Siga estos pasos:</p>
<ol type="1">
<li>Instale el paquete <code>{appliedepidata}</code> desde GitHub utilizando el comando <code>install_github()</code> del paquete <code>{remotes}</code> (que ya instaló anteriormente):</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Usar la función install_github de remotes para instalar {appliedepidata}</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"appliedepi/appliedepidata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Guarde las dos bases de datos en una carpeta específica utilizando la función <code>save_data()</code> del paquete <code>{appliedepidata}</code>. Este código guardará los archivos en la subcarpeta <code>datos</code> dentro de la carpeta de su proyecto en RStudio. Tenga en cuenta que, si no especifica ninguna ubicación en el argumento <code>path</code>, aparecerá una ventana para que seleccione manualmente la carpeta.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar los dos archivos de datos usando la función save_data() de appliedepidata</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>appliedepidata<span class="sc">::</span><span class="fu">save_data</span>(<span class="st">"pruebas_multienfermedad"</span>,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">path =</span> <span class="st">"datos"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>appliedepidata<span class="sc">::</span><span class="fu">save_data</span>(<span class="st">"notificaciones_multienfermedad"</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">path =</span> <span class="st">"datos"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importar-los-datos" class="level3">
<h3 class="anchored" data-anchor-id="importar-los-datos">2.2 Importar los datos</h3>
<p>¡Gracias a la oficina nacional y a Applied Epi! Ahora es el momento de importar los datos desde la carpeta a RStudio, para poder analizarlos.</p>
<section id="tarea-a-importar-los-dos-archivos-de-datos-descargados-a-su-entorno-de-rstudio" class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-importar-los-dos-archivos-de-datos-descargados-a-su-entorno-de-rstudio"><strong>Tarea A: Importar los dos archivos de datos descargados a su Entorno de RStudio</strong></h4>
<p>Lo ideal es que utilice la misma función para importar ambas bases de datos al Entorno, aunque uno sea un archivo .csv y el otro un .xlsx. A partir de ahora, cuando hablemos de <em>Entorno</em>, nos referiremos al panel <em>Environment</em> (<em>Entorno</em> en español) de RStudio.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para leer una pista
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utilice la función <code>import()</code> del paquete <code>{rio}</code>, que reconoce e importa distintos tipos de archivos. De esta manera no tendrá que usar funciones específicas según el formato, como <code>read.csv()</code> de <code>{base}</code> para archivos .csv o <code>read_excel()</code> de <code>{readxl}</code> para archivos .xlsx.</p>
<p>Si quiere más información sobre la importanción de datos, puede consultar la sección <a href="https://epirhandbook.com/es/importing.es.html">Importar y exportar</a> de nuestro manual de R.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>A continuación se muestra cómo importar los dos archivos utilizando la función <code>import()</code>. Los datos se guardan en dos objetos:</p>
<ul>
<li><em>data_notif_crudos</em> para los datos de notificaciones,</li>
<li><em>data_lab_crudos</em> para los datos de laboratorio.</li>
</ul>
<p>El sufijo *_crudos* le servirá para distinguirlos de las versiones depuradas que creará más adelante.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importar datos</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Datos de notificación</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>datos_notif_crudos <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"datos/notificaciones_multienfermedad.xlsx"</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Datos de laboratorio</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>datos_lab_crudos <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"datos/pruebas_multienfermedad.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="paso-3.-inspeccionar-los-datos" class="level2">
<h2 class="anchored" data-anchor-id="paso-3.-inspeccionar-los-datos">Paso 3. Inspeccionar los datos</h2>
<p>Ya tiene los datos, y ahora es el momento de ver qué historia cuentan. Tómese un momento para comprobar su contenido y su calidad.</p>
<section id="paso-3.1-inspeccionar-los-datos-de-vigilancia" class="level3">
<h3 class="anchored" data-anchor-id="paso-3.1-inspeccionar-los-datos-de-vigilancia">Paso 3.1 Inspeccionar los datos de vigilancia</h3>
<section id="tarea-a-inspeccionar-primero-las-dimensiones-y-el-contenido-general-de-los-datos-de-notificación" class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-inspeccionar-primero-las-dimensiones-y-el-contenido-general-de-los-datos-de-notificación"><strong>Tarea A: Inspeccionar primero las dimensiones y el contenido general de los datos de notificación</strong></h4>
<p><strong>Utilice las siguients funciones para explorar sus datos:</strong> <code>skim()</code> <strong>del paquete</strong> <code>{skimr}</code>, <code>names()</code>, <code>col()</code> <strong>y</strong> <code>nrow()</code>.</p>
<p><code>skim()</code> le proporciona información muy completa sobre la estructura y el contenido de los datos. <code>names()</code> le mostrará los nombres de las columnas. <code>ncol()</code> y <code>nrow()</code> cuentan, respectivamente, el número de columnas y de filas de su base de datos.</p>
<p>Piense: ¿qué debe poner dentro de los paréntesis de cada función?</p>
<p>Las pista más sencilla está en su <em>Entorno</em>. Recuerde que el objeto que contiene los datos de notificación se llama: <code>datos_notif_crudos</code>.</p>
<p>Si necesita ayuda, haga click en el cuadro de soluciones situado debajo de las preguntas.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Cuántas columnas hay en los datos de notificación?
<div id="radio_LUNQYTTZAP" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_LUNQYTTZAP" value=""> <span>10</span></label><label><input type="radio" autocomplete="off" name="radio_LUNQYTTZAP" value=""> <span>11</span></label><label><input type="radio" autocomplete="off" name="radio_LUNQYTTZAP" value="answer"> <span>12</span></label><label><input type="radio" autocomplete="off" name="radio_LUNQYTTZAP" value=""> <span>13</span></label>
</div>
¿Cuál de estas columnas NO aparece en los datos?
<div id="radio_LZKUUBKEJB" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_LZKUUBKEJB" value=""> <span>Fecha de inicio</span></label><label><input type="radio" autocomplete="off" name="radio_LZKUUBKEJB" value=""> <span>Fecha notificada por el centro de salud/la comunidad</span></label><label><input type="radio" autocomplete="off" name="radio_LZKUUBKEJB" value=""> <span>Fecha del resultado</span></label><label><input type="radio" autocomplete="off" name="radio_LZKUUBKEJB" value="answer"> <span>Fecha de la prueba</span></label><label><input type="radio" autocomplete="off" name="radio_LZKUUBKEJB" value=""> <span>Fecha de nacimiento</span></label>
</div>
¿Cuál es el nombre de la columna en los datos de notificación que identifica cada notificación?
<div id="radio_JQYEBGDQIC" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_JQYEBGDQIC" value="answer"> <span>ID de notificacion</span></label><label><input type="radio" autocomplete="off" name="radio_JQYEBGDQIC" value=""> <span>ID prueba</span></label><label><input type="radio" autocomplete="off" name="radio_JQYEBGDQIC" value=""> <span>Codigo del centro de salud</span></label><label><input type="radio" autocomplete="off" name="radio_JQYEBGDQIC" value=""> <span>Combinación de ID de notificacion y Sexo</span></label>
</div>
¿Cuántas filas hay en los datos de notificación?
<div id="radio_OUDEEBAJWZ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_OUDEEBAJWZ" value="answer"> <span>987</span></label><label><input type="radio" autocomplete="off" name="radio_OUDEEBAJWZ" value=""> <span>1314</span></label><label><input type="radio" autocomplete="off" name="radio_OUDEEBAJWZ" value=""> <span>950</span></label><label><input type="radio" autocomplete="off" name="radio_OUDEEBAJWZ" value=""> <span>778</span></label>
</div>
¿Qué tipo de información NO se encuentra en los datos de notificación?
<div id="radio_ADWNTUPZMY" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ADWNTUPZMY" value="answer"> <span>Resultados de pruebas de laboratorio</span></label><label><input type="radio" autocomplete="off" name="radio_ADWNTUPZMY" value=""> <span>Distrito de residencia</span></label><label><input type="radio" autocomplete="off" name="radio_ADWNTUPZMY" value=""> <span>Fecha de nacimiento y sexo</span></label><label><input type="radio" autocomplete="off" name="radio_ADWNTUPZMY" value=""> <span>Centro de salud donde se diagnosticó el caso</span></label><label><input type="radio" autocomplete="off" name="radio_ADWNTUPZMY" value=""> <span>Resultado</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utilice <code>skim()</code> del paquete <code>{skimr}</code> para ver un resumen de toda la base de datos, y <code>View()</code> para visualizar directamente los datos completos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(datos_notif_crudos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>También puede emplear <code>names()</code> para imprimir únicamente los nombres de las columnas. Tanto con <code>skim()</code> como con <code>names()</code> podrá observar los tipos de información incluidos: el centro sanitario del caso, la fecha de nacimiento, el sexo, un indicador de embarazo, el distrito de residencia, la fecha de inicio de síntomas y la fecha notificada por la clínica, así como información sobre el desenlace.</p>
<p>Además, encontrará una columna <code>ID de notificacion</code> que parece ser un identificador único para cada caso, aunque conviene comprobar posibles duplicados antes de confirmarlo.</p>
<p>Tenga en cuenta que en estos datos no hay resultados de laboratorio, ya que las notificaciones proceden de las clínicas, que notifican enfermedades de declaración obligatoria en base a criterios clínicos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(datos_notif_crudos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Nombre de la unidad organizativa"                    
 [2] "Codigo del centro de salud"                          
 [3] "ID de notificacion"                                  
 [4] "Fecha de nacimiento"                                 
 [5] "Sexo"                                                
 [6] "Embarazada"                                          
 [7] "Distrito residencial"                                
 [8] "Enfermedad notificada"                               
 [9] "Fecha de inicio"                                     
[10] "Fecha notificada por el centro de salud/la comunidad"
[11] "Resultado"                                           
[12] "Fecha del resultado"                                 </code></pre>
</div>
</div>
<p>Para obtener el número de columnas y de filas puede utilizar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(datos_notif_crudos)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datos_notif_crudos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esto imprimirá en la consola el número de columnas y de filas de la base de datos.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 987</code></pre>
</div>
</div>
<p>Otra manera rápida es mirar el <em>Entorno</em> en RStudio, donde verá, junto al nombre de la base de datos, el número de observaciones (filas) y de variables (columnas).</p>
</div>
</div>
</div>
</section>
<section id="tarea-b-inspeccionar-las-clases-de-columnas-de-su-base-de-datos-de-notificación-bruta" class="level4">
<h4 class="anchored" data-anchor-id="tarea-b-inspeccionar-las-clases-de-columnas-de-su-base-de-datos-de-notificación-bruta"><strong>Tarea B: Inspeccionar las clases de columnas de su base de datos de notificación bruta</strong></h4>
<p><strong>Utilice <code>skim()</code> del paquete <code>{skimr}</code> o la función <code>class()</code> para comprobar las clases de las columnas.</strong></p>
<p>¿Recuerda cómo indicar la columna de interés dentro de la función <code>class()</code>? Alternativamente, puede observar el panel de <em>Entorno</em> en RStudio, donde aparece la clase de cada columna junto a su nombre.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Cuántas columnas de la base de datos de notificación reconoce R como columnas de tipo fecha?
<div id="radio_XDJVRHCDGA" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XDJVRHCDGA" value="answer"> <span>0</span></label><label><input type="radio" autocomplete="off" name="radio_XDJVRHCDGA" value=""> <span>2</span></label><label><input type="radio" autocomplete="off" name="radio_XDJVRHCDGA" value=""> <span>4</span></label>
</div>
¿Cuál es la clase de la mayoría de las columnas en la base de datos de notificación en bruto?
<div id="radio_EGFHIVGOAM" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_EGFHIVGOAM" value="answer"> <span>character (texto)</span></label><label><input type="radio" autocomplete="off" name="radio_EGFHIVGOAM" value=""> <span>numeric (numérico)</span></label><label><input type="radio" autocomplete="off" name="radio_EGFHIVGOAM" value=""> <span>factor</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Puede usar <code>class()</code> como en el ejemplo siguiente. El operador <code>$</code> sirve para seleccionar una columna concreta de la base de datos <code>datos_notif_crudos</code>. Fíjese en que se usan <em>comillas invertidas</em> (<code>`</code>) alrededor de <code>Fecha de nacimiento</code> porque el nombre de la columna contiene espacios.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(datos_notif_crudos<span class="sc">$</span><span class="st">`</span><span class="at">Fecha de nacimiento</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para ver la clase desde el panel <em>Entorno</em>, haga click en la flecha azul junto con el nombre de la base de datos: aparececerán los nombres de las columnas con su clase al lado (por ejemplo, “chr” para indicar clase <em>character</em> o <em>nominal</em>)</p>
<p>Verá que ninguna de las columnas que deberían ser fechas está reconocida como tal; en su lugar, R las interpreta como texto (<em>character</em>).</p>
</div>
</div>
</div>
</section>
<section id="tarea-c-inspeccionar-valores-categóricos-y-omisiones" class="level4">
<h4 class="anchored" data-anchor-id="tarea-c-inspeccionar-valores-categóricos-y-omisiones"><strong>Tarea C: Inspeccionar valores categóricos y omisiones</strong></h4>
<p><strong>Utilice <code>tabyl()</code> para inspeccionar los valores dentro de las columnas categóricas</strong>, especificando en el primer argumento la base de datos y en el segundo el nombre de la columna.</p>
<p>Por ejemplo, este código tabula los valores de la columna <code>Sexo</code>. La salida muestra que los valores “masculino” y “femenino” están escritos de manera incoherente, por lo que esta columna necesitaría limpieza antes del análisis:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_notif_crudos, Sexo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Sexo   n    percent valid_percent
         F  47 0.04761905    0.05452436
  FEMENINO 146 0.14792300    0.16937355
         M  40 0.04052685    0.04640371
 MASCULINO 172 0.17426545    0.19953596
         f 154 0.15602837    0.17865429
  femenino  98 0.09929078    0.11368910
         m 119 0.12056738    0.13805104
 masculino  86 0.08713273    0.09976798
      &lt;NA&gt; 125 0.12664640            NA</code></pre>
</div>
</div>
<p>Para inspeccionar los valores faltantes (o perdidos), puede usar la función <code>miss_var_summary()</code> del paquete <code>{naniar}</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">miss_var_summary</span>(datos_notif_crudos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
   variable                                             n_miss pct_miss
   &lt;chr&gt;                                                 &lt;int&gt;    &lt;num&gt;
 1 Fecha de inicio                                         691     70.0
 2 Embarazada                                              510     51.7
 3 Resultado                                               197     20.0
 4 Fecha del resultado                                     197     20.0
 5 Fecha de nacimiento                                     168     17.0
 6 Sexo                                                    125     12.7
 7 Nombre de la unidad organizativa                          0      0  
 8 Codigo del centro de salud                                0      0  
 9 ID de notificacion                                        0      0  
10 Distrito residencial                                      0      0  
11 Enfermedad notificada                                     0      0  
12 Fecha notificada por el centro de salud/la comunidad      0      0  </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Los valores de la columna <code>Distrito residencial</code> están estandarizados?
<div id="radio_XXGJZDXIXK" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XXGJZDXIXK" value="answer"> <span>No: necesitan limpieza</span></label><label><input type="radio" autocomplete="off" name="radio_XXGJZDXIXK" value=""> <span>Sí: están estandarizados y listos para usarse en el análisis</span></label>
</div>
¿Los valores de la columna <code>Enfermedad notificada</code> están estandarizados?
<div id="radio_KHUYYBRTZI" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_KHUYYBRTZI" value=""> <span>No: necesitan limpieza</span></label><label><input type="radio" autocomplete="off" name="radio_KHUYYBRTZI" value="answer"> <span>Sí: están estandarizados y listos para usarse en el análisis</span></label>
</div>
¿Qué reconoce R como un valor faltante?
<div id="radio_HQZPJBZMUZ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_HQZPJBZMUZ" value=""> <span>Sin valor, o solo un espacio, o solo un punto</span></label><label><input type="radio" autocomplete="off" name="radio_HQZPJBZMUZ" value="answer"> <span>Sin valor en una celda, representado como NA</span></label><label><input type="radio" autocomplete="off" name="radio_HQZPJBZMUZ" value=""> <span>Las palabras 'desconocido' e 'incierto'</span></label>
</div>
Según los valores faltantes, ¿es útil la columna <code>Fecha de inicio</code>?
<div id="radio_NCRRVKWSWI" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NCRRVKWSWI" value=""> <span>Sí, la cantidad de valores faltantes es baja y esta columna es útil</span></label><label><input type="radio" autocomplete="off" name="radio_NCRRVKWSWI" value="answer"> <span>No demasiado: la ausencia es muy alta</span></label>
</div>
¿Por qué algunas columnas en los datos de notificación pueden tener grafías diferentes y categorías no estandarizadas?
<div id="radio_HODNYVOHHK" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_HODNYVOHHK" value=""> <span>Un bot revuelve los datos para que sean menos identificables</span></label><label><input type="radio" autocomplete="off" name="radio_HODNYVOHHK" value="answer"> <span>Cada clínica puede usar software configurado de forma diferente, o permitir entradas de texto libre, lo que genera variaciones en la ortografía</span></label><label><input type="radio" autocomplete="off" name="radio_HODNYVOHHK" value=""> <span>El software de vigilancia usado en las clínicas tiene muchos errores en el código</span></label>
</div>
¿Por qué algunas columnas en los datos de notificación pueden tener una alta proporción de valores faltantes?
<div id="radio_PRLGMJSURB" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_PRLGMJSURB" value=""> <span>El personal sanitario no pregunta al paciente durante la consulta</span></label><label><input type="radio" autocomplete="off" name="radio_PRLGMJSURB" value=""> <span>El paciente no sabe o no quiere dar la respuesta</span></label><label><input type="radio" autocomplete="off" name="radio_PRLGMJSURB" value=""> <span>El personal sanitario no tiene tiempo de completar ese campo, aunque sepa la información</span></label><label><input type="radio" autocomplete="off" name="radio_PRLGMJSURB" value="answer"> <span>Todas las anteriores, y muchas más razones</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Use <code>tabyl()</code> para tabular los valores de la columna <code>Distrito residencial</code>. De nuevo, el primer argumento es el nombre de la base de datos y el segundo el nombre de la columna:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_notif_crudos, <span class="st">`</span><span class="at">Distrito residencial</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Distrito residencial   n    percent
            F Central  32 0.03242148
            FEVERIA C  23 0.02330294
      FEVERIA CENTRAL  85 0.08611955
            Feveria C  24 0.02431611
      Feveria Central  12 0.01215805
               KASARA  64 0.06484296
                  KSR  17 0.01722391
               Kasara 109 0.11043566
             L MINARA  50 0.05065856
             L Minara 193 0.19554205
          LAGO MINARA 185 0.18743668
          Lago Minara  68 0.06889564
             Lakeside 125 0.12664640</code></pre>
</div>
</div>
<p>Verá que cada una de las tres ubicaciones (Feveria Central, Lago Minara y Kasara) aparece escrita de distintas maneras y con diferentes mayúsculas. Esto deberá limpiarse si se quiere analizar la distribución geográfica de las enfermedades de declaración obligatoria.</p>
<p>De forma similar, utilice <code>tabyl()</code> para tabular los valores de la columna <code>Enfermedad notificada</code>. En este caso, verá que están escritos de forma adecuada y coherente, de modo que se puede analizar la distribución de los casos por enfermedad sin necesidad de más limpieza:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_notif_crudos, <span class="st">`</span><span class="at">Enfermedad notificada</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Enfermedad notificada   n    percent
                colera  46 0.04660588
                dengue 273 0.27659574
       fiebre amarilla 100 0.10131712
       fiebre tifoidea  35 0.03546099
             paludismo 533 0.54002026</code></pre>
</div>
</div>
<p>Para comprobar los valores faltantes también puede usar <code>is.na()</code>. En el ejemplo siguiente, la función evalúa cada celda de la columna <code>Fecha de inicio</code>, devolviendo <code>TRUE</code> si falta el valor y <code>FALSE</code> si está presente. Si aplica <code>tabyl()</code> a este resultado, obtendrá de inmediato un recuento y un porcentaje claros de valores faltantes y no faltantes en esa columna.</p>
<p>Recuerde: valores como un espacio vacío o las palabras “Desconocido” o “Faltante” no son reconocidos por R como <code>NA</code>. Solo los valores realmente en blanco, representados con <code>NA</code>, se consideran ausentes.</p>
<p>En el caso de <code>Fecha de inicio</code>, puede comprobar que aproximadamente un 70 % de las filas carecen de fecha de inicio, lo que hace que esta columna sea poco útil para analizar tendencias temporales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(<span class="fu">is.na</span>(datos_notif_crudos<span class="sc">$</span><span class="st">`</span><span class="at">Fecha de inicio</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> is.na(datos_notif_crudos$`Fecha de inicio`)   n   percent
                                       FALSE 296 0.2998987
                                        TRUE 691 0.7001013</code></pre>
</div>
</div>
<p>Los valores faltantes o las categorías no estandarizadas pueden deberse a muchas razones:</p>
<ul>
<li>El diseño de la herramienta de recogida de datos (por ejemplo, si un campo es obligatorio o si se permite texto libre en lugar de listas desplegables),</li>
<li>Los procesos y normas vigentes (por ejemplo, qué campos prioriza el personal),</li>
<li>Factores contextuales (como la carga de trabajo o el tiempo disponible para recopilar la información).</li>
</ul>
</div>
</div>
</div>
</section>
</section>
<section id="paso-3.2-inspeccionar-los-datos-de-laboratorio" class="level3">
<h3 class="anchored" data-anchor-id="paso-3.2-inspeccionar-los-datos-de-laboratorio">Paso 3.2 Inspeccionar los datos de laboratorio</h3>
<section id="tarea-a-inspeccionar-las-dimensiones-y-el-contenido-general-de-los-datos-de-laboratorio" class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-inspeccionar-las-dimensiones-y-el-contenido-general-de-los-datos-de-laboratorio"><strong>Tarea A: Inspeccionar las dimensiones y el contenido general de los datos de laboratorio</strong></h4>
<p>Igual que con los datos de vigilancia, <strong>utilice <code>skim()</code>, <code>ncol()</code> y <code>nrow()</code> o consulte el panel <em>Entorno</em> para inspeccionar los datos de laboratorio.</strong></p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Qué base de datos tiene más columnas: la de notificación o la de laboratorio?
<div id="radio_KMRHHONOSE" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_KMRHHONOSE" value=""> <span>Datos de laboratorio</span></label><label><input type="radio" autocomplete="off" name="radio_KMRHHONOSE" value="answer"> <span>Datos de notificación</span></label><label><input type="radio" autocomplete="off" name="radio_KMRHHONOSE" value=""> <span>Tienen el mismo número de columnas</span></label>
</div>
¿Qué base de datos tiene más filas: la de notificación o la de laboratorio?
<div id="radio_MXWXEBKPLD" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_MXWXEBKPLD" value="answer"> <span>Datos de laboratorio</span></label><label><input type="radio" autocomplete="off" name="radio_MXWXEBKPLD" value=""> <span>Datos de notificación</span></label><label><input type="radio" autocomplete="off" name="radio_MXWXEBKPLD" value=""> <span>Tienen el mismo número de filas</span></label>
</div>
Inspeccione los datos de laboratorio con <code>View()</code>. ¿Por qué podría haber más registros en la base de datos de laboratorio?
<div id="radio_MJOEWARIME" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_MJOEWARIME" value="answer"> <span>Puede haber varias pruebas u objetivos por muestra</span></label><label><input type="radio" autocomplete="off" name="radio_MJOEWARIME" value=""> <span>Hay muchos resultados de pruebas de ensayo en los datos</span></label><label><input type="radio" autocomplete="off" name="radio_MJOEWARIME" value=""> <span>No todas las notificaciones tienen resultados de laboratorio todavía</span></label>
</div>
¿Cuál de estas columnas NO está en la base de datos de laboratorio?
<div id="radio_BWZWWFMXUD" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_BWZWWFMXUD" value=""> <span>ID de notificacion</span></label><label><input type="radio" autocomplete="off" name="radio_BWZWWFMXUD" value=""> <span>ID de muestra</span></label><label><input type="radio" autocomplete="off" name="radio_BWZWWFMXUD" value=""> <span>Prueba</span></label><label><input type="radio" autocomplete="off" name="radio_BWZWWFMXUD" value="answer"> <span>Fecha de nacimiento</span></label><label><input type="radio" autocomplete="off" name="radio_BWZWWFMXUD" value=""> <span>Valor</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Al igual que en la sección 3.1, puede utilizar <code>skim()</code> del paquete <code>{skimr}</code> para visualizar toda la base de datos del laboratorio con los resultados de las pruebas. Esto también le mostrará los distintos nombres de las columnas, poniendo de manifiesto que la base de datos del laboratorio solo contiene información sobre la prueba y no sobre el paciente. No obstante, también incluye un <strong>identificador de notificación</strong> similar, similar a los datos de notificación.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(datos_lab_crudos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Utilice <code>ncol()</code> y <code>nrow()</code> para imprimir el número de columnas y filas, de la siguiente forma:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(datos_lab_crudos)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datos_lab_crudos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esto mostrará en su consola el número de columnas y de filas, de manera que podrá comprobar que la base de datos de laboratorio tiene más filas que la base de datos de notificación que inspeccionó anteriormente.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1314</code></pre>
</div>
</div>
<p>A menudo hay más registros en la base de datos de laboratorio que en los datos clínicos. Si inspecciona los datos con <code>View(datos_lab_crudos)</code> y luego hace clic en la flecha de la parte superior de la columna <code>ID de notificacion</code> para ordenarla alfabéticamente, verá que varias filas comparten el mismo <code>ID de notificacion</code>. Esto puede suceder cuando se analizan varios objetivos de la misma muestra (mismo identificador de muestra), o cuando se repite el análisis de un caso (lo que da lugar a un identificador de muestra diferente).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(datos_lab_crudos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-6cd669be{}.cl-6ccf8892{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6cd2a356{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6cd2a360{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6cd2bc74{width:2.187in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bc7e{width:1.253in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bc7f{width:1.041in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bc80{width:1.22in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bc88{width:1.746in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bc89{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bc92{width:0.616in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bc93{width:2.187in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bc94{width:1.253in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bc95{width:1.041in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bc9c{width:1.22in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bc9d{width:1.746in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bca6{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bca7{width:0.616in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bca8{width:2.187in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bcb0{width:1.253in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bcb1{width:1.041in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bcba{width:1.22in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bcbb{width:1.746in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bcbc{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6cd2bcbd{width:0.616in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-6cd669be"><thead><tr style="overflow-wrap:break-word;"><th class="cl-6cd2bc74"><p class="cl-6cd2a356"><span class="cl-6ccf8892">nombre_laboratorio</span></p></th><th class="cl-6cd2bc7e"><p class="cl-6cd2a356"><span class="cl-6ccf8892">id_notificacion</span></p></th><th class="cl-6cd2bc7f"><p class="cl-6cd2a356"><span class="cl-6ccf8892">id_muestra</span></p></th><th class="cl-6cd2bc80"><p class="cl-6cd2a360"><span class="cl-6ccf8892">fecha_prueba</span></p></th><th class="cl-6cd2bc88"><p class="cl-6cd2a356"><span class="cl-6ccf8892">prueba</span></p></th><th class="cl-6cd2bc89"><p class="cl-6cd2a356"><span class="cl-6ccf8892">objetivo</span></p></th><th class="cl-6cd2bc92"><p class="cl-6cd2a356"><span class="cl-6ccf8892">valor</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-6cd2bc93"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Hospital General de Feveria</span></p></td><td class="cl-6cd2bc94"><p class="cl-6cd2a356"><span class="cl-6ccf8892">f21708</span></p></td><td class="cl-6cd2bc95"><p class="cl-6cd2a356"><span class="cl-6ccf8892">48b00313</span></p></td><td class="cl-6cd2bc9c"><p class="cl-6cd2a360"><span class="cl-6ccf8892">2024-06-07</span></p></td><td class="cl-6cd2bc9d"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue NS1/IgG/IgM</span></p></td><td class="cl-6cd2bca6"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue NS.1</span></p></td><td class="cl-6cd2bca7"><p class="cl-6cd2a356"><span class="cl-6ccf8892">N</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6cd2bc93"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Hospital General de Feveria</span></p></td><td class="cl-6cd2bc94"><p class="cl-6cd2a356"><span class="cl-6ccf8892">f21708</span></p></td><td class="cl-6cd2bc95"><p class="cl-6cd2a356"><span class="cl-6ccf8892">48b00313</span></p></td><td class="cl-6cd2bc9c"><p class="cl-6cd2a360"><span class="cl-6ccf8892">2024-06-07</span></p></td><td class="cl-6cd2bc9d"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue NS1/IgG/IgM</span></p></td><td class="cl-6cd2bca6"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue IgG</span></p></td><td class="cl-6cd2bca7"><p class="cl-6cd2a356"><span class="cl-6ccf8892">N</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6cd2bc93"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Hospital General de Feveria</span></p></td><td class="cl-6cd2bc94"><p class="cl-6cd2a356"><span class="cl-6ccf8892">f21708</span></p></td><td class="cl-6cd2bc95"><p class="cl-6cd2a356"><span class="cl-6ccf8892">48b00313</span></p></td><td class="cl-6cd2bc9c"><p class="cl-6cd2a360"><span class="cl-6ccf8892">2024-06-07</span></p></td><td class="cl-6cd2bc9d"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue NS1/IgG/IgM</span></p></td><td class="cl-6cd2bca6"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue IgM</span></p></td><td class="cl-6cd2bca7"><p class="cl-6cd2a356"><span class="cl-6ccf8892">P</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6cd2bc93"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Hospital General de Feveria</span></p></td><td class="cl-6cd2bc94"><p class="cl-6cd2a356"><span class="cl-6ccf8892">6a47a3</span></p></td><td class="cl-6cd2bc95"><p class="cl-6cd2a356"><span class="cl-6ccf8892">ca5e865b</span></p></td><td class="cl-6cd2bc9c"><p class="cl-6cd2a360"><span class="cl-6ccf8892">2024-06-15</span></p></td><td class="cl-6cd2bc9d"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue NS1/IgG/IgM</span></p></td><td class="cl-6cd2bca6"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue NS.1</span></p></td><td class="cl-6cd2bca7"><p class="cl-6cd2a356"><span class="cl-6ccf8892">N</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6cd2bc93"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Hospital General de Feveria</span></p></td><td class="cl-6cd2bc94"><p class="cl-6cd2a356"><span class="cl-6ccf8892">6a47a3</span></p></td><td class="cl-6cd2bc95"><p class="cl-6cd2a356"><span class="cl-6ccf8892">ca5e865b</span></p></td><td class="cl-6cd2bc9c"><p class="cl-6cd2a360"><span class="cl-6ccf8892">2024-06-15</span></p></td><td class="cl-6cd2bc9d"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue NS1/IgG/IgM</span></p></td><td class="cl-6cd2bca6"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue IgG</span></p></td><td class="cl-6cd2bca7"><p class="cl-6cd2a356"><span class="cl-6ccf8892">N</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6cd2bca8"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Hospital General de Feveria</span></p></td><td class="cl-6cd2bcb0"><p class="cl-6cd2a356"><span class="cl-6ccf8892">6a47a3</span></p></td><td class="cl-6cd2bcb1"><p class="cl-6cd2a356"><span class="cl-6ccf8892">ca5e865b</span></p></td><td class="cl-6cd2bcba"><p class="cl-6cd2a360"><span class="cl-6ccf8892">2024-06-15</span></p></td><td class="cl-6cd2bcbb"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue NS1/IgG/IgM</span></p></td><td class="cl-6cd2bcbc"><p class="cl-6cd2a356"><span class="cl-6ccf8892">Dengue IgM</span></p></td><td class="cl-6cd2bcbd"><p class="cl-6cd2a356"><span class="cl-6ccf8892">P</span></p></td></tr></tbody></table></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tarea-b-examinar-las-clases-los-valores-categóricos-y-los-valores-faltantes" class="level4">
<h4 class="anchored" data-anchor-id="tarea-b-examinar-las-clases-los-valores-categóricos-y-los-valores-faltantes"><strong>Tarea B: Examinar las clases, los valores categóricos y los valores faltantes</strong></h4>
<p>Al igual que en el caso anterior, <strong>utilice las funciones <code>class()</code>, <code>skim()</code>o <code>tabyl()</code>, o inspeccione el <em>Entorno</em>, para observar las columnas con más detalle.</strong></p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Cuántas columnas de la base de datos de laboratorio reconoce R como columnas de tipo fecha?
<div id="radio_XXWYFSKAKA" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XXWYFSKAKA" value=""> <span>0</span></label><label><input type="radio" autocomplete="off" name="radio_XXWYFSKAKA" value="answer"> <span>1</span></label><label><input type="radio" autocomplete="off" name="radio_XXWYFSKAKA" value=""> <span>2</span></label>
</div>
¿Cuántas columnas de la base de datos de laboratorio tienen datos completos?
<div id="radio_NSYFSMGDZY" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NSYFSMGDZY" value=""> <span>1</span></label><label><input type="radio" autocomplete="off" name="radio_NSYFSMGDZY" value=""> <span>3</span></label><label><input type="radio" autocomplete="off" name="radio_NSYFSMGDZY" value="answer"> <span>7 (Todas)</span></label>
</div>
¿Qué prueba detecta múltiples objetivos (y, por lo tanto, tiene varias filas por muestra)?
<div id="radio_ZHFRRNZJJW" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ZHFRRNZJJW" value=""> <span>Paludismo</span></label><label><input type="radio" autocomplete="off" name="radio_ZHFRRNZJJW" value="answer"> <span>Dengue</span></label><label><input type="radio" autocomplete="off" name="radio_ZHFRRNZJJW" value=""> <span>Fiebre Amarilla</span></label><label><input type="radio" autocomplete="off" name="radio_ZHFRRNZJJW" value=""> <span>Cólera</span></label><label><input type="radio" autocomplete="off" name="radio_ZHFRRNZJJW" value=""> <span>Fiebre tifoidea</span></label>
</div>
¿Cuántos valores posibles de resultado de prueba hay en la columna <code>valor</code>?
<div id="radio_GJQCVFXMKM" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_GJQCVFXMKM" value="answer"> <span>5</span></label><label><input type="radio" autocomplete="off" name="radio_GJQCVFXMKM" value=""> <span>3</span></label><label><input type="radio" autocomplete="off" name="radio_GJQCVFXMKM" value=""> <span>4</span></label>
</div>
¿Cuál de estos NO es un posible resultado en la prueba de cultivo de heces que detecta la bacteria <em>V. cholerae</em>?
<div id="radio_WXEWLWITCD" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_WXEWLWITCD" value="answer"> <span>P</span></label><label><input type="radio" autocomplete="off" name="radio_WXEWLWITCD" value=""> <span>P01</span></label><label><input type="radio" autocomplete="off" name="radio_WXEWLWITCD" value=""> <span>P0139</span></label><label><input type="radio" autocomplete="off" name="radio_WXEWLWITCD" value=""> <span>N</span></label><label><input type="radio" autocomplete="off" name="radio_WXEWLWITCD" value=""> <span>I</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Los datos de laboratorio tienen una columna de fecha reconocida por R con la clase “IDate”. Se trata de una clase de fecha que suele aparecer al importar CSV con la función <code>import()</code> de <code>{rio}</code>. Igual que la clase “Date” de R base, permite ordenar por fecha y analizar tendencias en el tiempo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(datos_lab_crudos<span class="sc">$</span>fecha_prueba)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "IDate" "Date" </code></pre>
</div>
</div>
<p>El uso de la función <code>miss_var_summary()</code> del paquete <code>{naniar}</code> muestra que todas las columnas de los datos de laboratorio están completas. Esto puede deberse a que los sistemas de laboratorio utilizan procesos automatizados, por lo que es menos probable que se produzcan errores humanos.</p>
<p>(<strong>Punto importante:</strong> Tenga en cuenta que, en la vida real, los datos de laboratorio también presentarían probablemente algunos problemas).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">miss_var_summary</span>(datos_lab_crudos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 3
  variable           n_miss pct_miss
  &lt;chr&gt;               &lt;int&gt;    &lt;num&gt;
1 nombre_laboratorio      0        0
2 id_notificacion         0        0
3 id_muestra              0        0
4 fecha_prueba            0        0
5 prueba                  0        0
6 objetivo                0        0
7 valor                   0        0</code></pre>
</div>
</div>
<p>Para ver cuántos objetivos se detectan en cada prueba, puede realizar una tabulación cruzada de las columnas <code>prueba</code> y <code>objetivo</code> con <code>tabyl()</code>. Escriba los nombres de las columnas en la función como dos argumentos separados. La salida muestra que cada prueba se alinea claramente con uno o más objetivos, y solo la prueba de dengue detecta más de un objetivo (IgG, IgM y NS1).</p>
<p><strong>Consejo:</strong> Pruebe a cambiar el orden de los nombres de las columnas en la función para ver el impacto en la tabla.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_lab_crudos, objetivo, prueba)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             objetivo Cultivo de heces Dengue NS1/IgG/IgM Hemocultivo IgM ELISA
 Bacteria V. cholerae               45                  0           0         0
   Bacterias S. Typhi                0                  0          33         0
           Dengue IgG                0                215           0         0
           Dengue IgM                0                215           0         0
          Dengue NS.1                0                215           0         0
  Fiebre amarilla IgM                0                  0           0        88
           Plasmodium                0                  0           0         0
 Microscopía de sangre total
                           0
                           0
                           0
                           0
                           0
                           0
                         503</code></pre>
</div>
</div>
<p>Por último, puede inspeccionar los distintos valores de los resultados de las pruebas en la columna <code>valor</code> utilizando de nuevo <code>tabyl()</code>. Verá que hay seis resultados posibles, incluidos N (negativo), P (positivo) e I (indeterminado). En el caso del cólera no aparece P, pero sí pueden aparecer P01 y P0139, que en este ejemplo representan positividad para los serogrupos O1 u O139.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_lab_crudos, prueba, valor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      prueba  I   N   P PO1 PO139
            Cultivo de heces  5   2   0  22    16
          Dengue NS1/IgG/IgM  0 354 291   0     0
                 Hemocultivo  2  24   7   0     0
                   IgM ELISA 10  45  33   0     0
 Microscopía de sangre total 56 257 190   0     0</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="paso-4.-limpiar-y-describir-los-datos-de-notificación" class="level2">
<h2 class="anchored" data-anchor-id="paso-4.-limpiar-y-describir-los-datos-de-notificación">Paso 4. Limpiar y describir los datos de notificación</h2>
<p>Los datos de notificación (<code>datos_notif_crudos</code>) contienen información sobre casos sospechosos, junto con datos demográficos básicos (edad, sexo, embarazo, distrito de residencia), e información sobre su fecha de inicio, fecha reportada por el centro de salud, y resultado. Algunas columnas deben limpiarse antes de continuar con el análisis, debido a variaciones en la ortografía de los valores categóricos y a que algunas no se reconocen como fechas.</p>
<p>Ahora comenzará a redactar fragmentos más extensos de código para realizar limpieza de datos, utilizando diversas funciones de <code>{dplyr}</code> encadenadas mediante <em>pipes</em> (que se representan de la siguiente manera: |&gt;).</p>
<p><strong>NOTA SOBRE PIPES</strong>: Los <em>pipes</em> permiten ejecutar varias operaciones en una secuencia continua, “encadenando” diferentes funciones. La salida de una función se convierte en la entrada de la siguiente.</p>
<p>Para obtener más información sobre el uso de <em>pipes</em>, consultar el <a href="https://www.epirhandbook.com/es/cleaning.es.html#cleaning-pipeline">Manual de R para Epis</a>.</p>
<p>Cabe destacar que este ejercicio utiliza el <strong><em>pipe</em></strong> <strong>de base</strong> (|&gt;) en lugar del <strong><em>pipe</em></strong> <strong>de magrittr</strong> (%&gt;%), ya que resulta más rápido y no requiere instalación de paquetes. Si prefiere, puede utilizar el <em>pipe</em> de magrittr.</p>
<section id="paso-4.1-limpiar-los-datos" class="level3">
<h3 class="anchored" data-anchor-id="paso-4.1-limpiar-los-datos">Paso 4.1 Limpiar los datos</h3>
<section id="tarea-a-limpiar-los-nombres-de-las-columnas-y-seleccionar-las-columnas-para-el-análisis" class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-limpiar-los-nombres-de-las-columnas-y-seleccionar-las-columnas-para-el-análisis"><strong>Tarea A: Limpiar los nombres de las columnas y seleccionar las columnas para el análisis</strong></h4>
<p>Debido a problemas de calidad y de almacenamiento de datos, se recomienda elaborar una lista depurada (<em>linelist</em>) que contenga únicamente la información sobre el identificador único, la ubicación del caso, la enfermedad y la fecha en que la notificación fue reportada al sistema de vigilancia.</p>
<p><strong>Escribir código en R para generar una nueva base de datos limpio denominado <code>datos_notif</code></strong>, aplicando las siguientes tareas de limpieza:</p>
<ul>
<li>Renombrar las columnas para que resulten más legibles por las máquinas (eliminando espacios y mayúsculas) mediante la función <code>clean_names()</code> del paquete <code>{janitor}</code>.</li>
<li>Utilizar la función <code>rename()</code> de <code>{dplyr}</code> para que:
<ul>
<li>el nombre de la columna con la fecha en la que se notificó el caso se sustituya por un nombre más conciso <code>fecha_notificada</code>.</li>
<li>el nombre de la columna del identificador de la notificación sea más conciso (<code>id_notificacion</code>).</li>
</ul></li>
<li>Seleccionar las columnas relevantes para el análisis con la función <code>select()</code> del paquete <code>{dplyr}</code>.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para leer una pista
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Iniciar el código con el nombre de la nueva base de datos, la flecha de asignación y el nombre del objeto de datos en bruto. Esto indica que el resultado del procesamiento de los datos en bruto será asignado a un nuevo objeto denominado <code>datos_notif</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>datos_notif <span class="ot">&lt;-</span> datos_notif_crudos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A continuación, construya sobre este código añadiendo funciones adicionales, encadenadas mediante un <em>pipe</em>. Esto permite realizar varias operaciones en una secuencia continua. Primero, utilice <code>clean_names()</code> para estandarizar todos los nombres de columnas. Esta función reemplaza automáticamente los espacios y caracteres especiales por guiones bajos y convierte todo a minúsculas, lo que facilita el manejo de los nombres. Después, utilice <code>rename()</code> para asignar un nombre nuevo a una columna. Recordar que, al usar <code>rename()</code>, la columna ya tendrá la versión transformada por <code>clean_names()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># datos_notif &lt;- datos_notif_crudos |&gt; </span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   clean_names() |&gt; </span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   rename(NOMBRE_NUEVO = NOMBRE_ANTERIOR) |&gt; </span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(NOMBRES_VARIABLES)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Aquí está el código para limpiar los nombres de las columnas y seleccionar las columnas adecuadas para análisis:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Limpiar datos </span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>datos_notif <span class="ot">&lt;-</span> datos_notif_crudos <span class="sc">|&gt;</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fecha_notificada =</span> fecha_notificada_por_el_centro_de_salud_la_comunidad,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_notificacion =</span> id_de_notificacion) <span class="sc">|&gt;</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id_notificacion, distrito_residencial, enfermedad_notificada, fecha_notificada)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="tarea-b-normalizar-valores-categóricos" class="level4">
<h4 class="anchored" data-anchor-id="tarea-b-normalizar-valores-categóricos"><strong>Tarea B: Normalizar valores categóricos</strong></h4>
<p>A partir de la inspección de los datos, ya sabe que los valores de la columna <code>distrito_residencial</code> no están estandarizados.</p>
<p><strong>Agregar una función <code>mutate()</code> para limpiar la columna <code>distrito_residencial</code></strong>, con el fin de:</p>
<ul>
<li>Estandarizar la capitalización de la columna.<br>
</li>
<li>Reemplazar la columna existente <code>distrito_residencial</code> por una columna depurada que contenga únicamente los siguientes valores de distrito: “Lago Minara”, “Feveria Central” y “Kasara”.</li>
</ul>
<p>Consultar la pista para ver qué funciones se pueden utilizar.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para leer una pista
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Prueba a utilizar <code>str_to_title()</code> del paquete <code>{stringr}</code> para que la primera letra de cada palabra sea mayúscula y todas las demás letras sean minúsculas. También puede utilizar <code>case_match()</code> para especificar distintas erratas concretas.</p>
<p>Utilice la función ‘help’ de RStudio para ver cómo utilizar las funciones. Por ejemplo, escriba <code>?case_match</code> en su consola para obtener la página de ayuda de la función. <strong>NOTA</strong> en <code>case_match()</code> - se trata de una función muy útil para sustituir o corregir valores, y sustituye a <code>recode()</code>.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Su código de limpieza debería tener ahora este aspecto:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Limpiar datos</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>datos_notif <span class="ot">&lt;-</span> datos_notif_crudos <span class="sc">|&gt;</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fecha_notificada =</span> fecha_notificada_por_el_centro_de_salud_la_comunidad,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_notificacion =</span> id_de_notificacion) <span class="sc">|&gt;</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id_notificacion, distrito_residencial, enfermedad_notificada, fecha_notificada) <span class="sc">|&gt;</span> </span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">distrito_residencial =</span> <span class="fu">str_to_title</span>(distrito_residencial)) <span class="sc">|&gt;</span> </span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">distrito_residencial =</span> <span class="fu">case_match</span>(distrito_residencial,</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"F Central"</span>, <span class="st">"Feveria C"</span>, <span class="st">"Feveria Central"</span>) <span class="sc">~</span> <span class="st">"Feveria Central"</span>,</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"Kasara"</span>, <span class="st">"Ksr"</span>) <span class="sc">~</span> <span class="st">"Kasara"</span>,</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"L Minara"</span>, <span class="st">"Lago Minara"</span>, <span class="st">"Lakeside"</span>) <span class="sc">~</span> <span class="st">"Lago Minara"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>También puede envolver <code>str_to_title</code> en la función <code>case_match()</code> para acortar el código, como se indica a continuación:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Limpiar datos</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>datos_notif <span class="ot">&lt;-</span> datos_notif_crudos <span class="sc">|&gt;</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fecha_notificada =</span> fecha_notificada_por_el_centro_de_salud_la_comunidad,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_notificacion =</span> id_de_notificacion) <span class="sc">|&gt;</span> </span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id_notificacion, distrito_residencial, enfermedad_notificada, fecha_notificada) <span class="sc">|&gt;</span> </span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">distrito_residencial =</span> <span class="fu">case_match</span>(<span class="fu">str_to_title</span>(distrito_residencial),</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"F Central"</span>, <span class="st">"Feveria C"</span>, <span class="st">"Feveria Central"</span>) <span class="sc">~</span> <span class="st">"Feveria Central"</span>,</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"Kasara"</span>, <span class="st">"Ksr"</span>) <span class="sc">~</span> <span class="st">"Kasara"</span>,</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"L Minara"</span>, <span class="st">"Lago Minara"</span>, <span class="st">"Lakeside"</span>) <span class="sc">~</span> <span class="st">"Lago Minara"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="tarea-c-trabajar-con-fechas" class="level4">
<h4 class="anchored" data-anchor-id="tarea-c-trabajar-con-fechas"><strong>Tarea C: Trabajar con fechas</strong></h4>
<p>La columna correspondiente a la fecha de notificación necesita ser transformada para que sea reconocida como una fecha en R. Esto permitirá analizar tendencias a lo largo del tiempo, incluyendo semanas y meses.</p>
<p><strong>Revisar los valores dentro de la columna <code>fecha_notificada</code>. Luego, agregar una línea al código de limpieza para convertir <code>fecha_notificada</code> en una clase de fecha.</strong></p>
<p>Conocer la estructura de la columna permitirá utilizar la función adecuada para transformarla en clase de fecha. Se recomienda emplear alguna de las funciones del paquete <code>{lubridate}</code>: <code>ymd()</code> (para fechas escritas como año-mes-día), <code>mdy()</code> (para fechas escritas como mes-día-año) o <code>dmy()</code> (para fechas escritas como día-mes-año). Estas funciones reconocerán cualquier formato de escritura de fecha siempre que el orden sea correcto; por ejemplo, “21st August 2025” y “21-08-2024” serían reconocidos por <code>dmy()</code>.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Cómo están formateadas actualmente las fechas?
<div id="radio_XJUBDXYFKL" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XJUBDXYFKL" value=""> <span>día-mes-año</span></label><label><input type="radio" autocomplete="off" name="radio_XJUBDXYFKL" value="answer"> <span>año-mes-día</span></label><label><input type="radio" autocomplete="off" name="radio_XJUBDXYFKL" value=""> <span>mes-día-año</span></label><label><input type="radio" autocomplete="off" name="radio_XJUBDXYFKL" value=""> <span>año-día-mes</span></label>
</div>
¿Qué función de <code>mutate()</code> deberías usar para convertir la columna fecha_notificada en una clase de fecha?
<div id="radio_GCUJYWHWNL" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_GCUJYWHWNL" value="answer"> <span>mutate(fecha_notificada = ymd(fecha_notificada))</span></label><label><input type="radio" autocomplete="off" name="radio_GCUJYWHWNL" value=""> <span>mutate(fecha_notificada = dmy(fecha_notificada))</span></label><label><input type="radio" autocomplete="off" name="radio_GCUJYWHWNL" value=""> <span>mutate(fecha_notificada = mdy(fecha_notificada))</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Se puede utilizar la función <code>head()</code> para visualizar las primeras seis filas de datos de la columna <code>fecha_notificada</code>. Al observarlas, se identifica que están escritas con el año en primer lugar, seguido del mes y, posteriormente, del día.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos_notif<span class="sc">$</span>fecha_notificada)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-03-08" "2024-03-11" "2024-03-11" "2024-03-18" "2024-03-14"
[6] "2024-03-12"</code></pre>
</div>
</div>
<p>Se puede utilizar la función <code>ymd()</code> dentro de <code>mutate()</code> para convertir la clase de la columna <code>fecha_notificada</code>. Es posible verificar que la clase sea la correcta ejecutando posteriormente la función <code>class()</code>.</p>
<p>El código de limpieza debería ahora tener el siguiente aspecto:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Limpiar datos</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>datos_notif <span class="ot">&lt;-</span> datos_notif_crudos <span class="sc">|&gt;</span> </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fecha_notificada =</span> fecha_notificada_por_el_centro_de_salud_la_comunidad,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_notificacion =</span> id_de_notificacion) <span class="sc">|&gt;</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id_notificacion, distrito_residencial, enfermedad_notificada, fecha_notificada) <span class="sc">|&gt;</span> </span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">distrito_residencial =</span> <span class="fu">case_match</span>(<span class="fu">str_to_title</span>(distrito_residencial),</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"F Central"</span>, <span class="st">"Feveria C"</span>, <span class="st">"Feveria Central"</span>) <span class="sc">~</span> <span class="st">"Feveria Central"</span>,</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"Kasara"</span>, <span class="st">"Ksr"</span>) <span class="sc">~</span> <span class="st">"Kasara"</span>,</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">c</span>(<span class="st">"L Minara"</span>, <span class="st">"Lago Minara"</span>, <span class="st">"Lakeside"</span>) <span class="sc">~</span> <span class="st">"Lago Minara"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fecha_notificada =</span> <span class="fu">ymd</span>(fecha_notificada)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Y se puede volver a comprobar la clase con esto:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(datos_notif<span class="sc">$</span>fecha_notificada)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tarea-d-verificar-si-hay-duplicados" class="level4">
<h4 class="anchored" data-anchor-id="tarea-d-verificar-si-hay-duplicados"><strong>Tarea D: Verificar si hay duplicados</strong></h4>
<p>Los colegas indican que cada <code>id_notificacion</code> representa un caso sospechoso. Ahora se desea <strong>crear una tabla para verificar si <code>id_notificacion</code> se encuentra duplicado en las filas de los datos</strong>.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Equivale una fila en los datos de notificación a un caso?
<div id="radio_NRRLFVFGBB" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NRRLFVFGBB" value="answer"> <span>Sí</span></label><label><input type="radio" autocomplete="off" name="radio_NRRLFVFGBB" value=""> <span>No</span></label>
</div>
¿Necesita depurar (eliminar duplicados) sus datos para el análisis epidemiológico de casos?
<div id="radio_KPGSDHLUWV" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_KPGSDHLUWV" value=""> <span>Sí</span></label><label><input type="radio" autocomplete="off" name="radio_KPGSDHLUWV" value="answer"> <span>No</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para leer una pista
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Existen varias formas de realizar esta verificación, pero se sugiere utilizar la función <code>count()</code> de <code>{dplyr}</code>. Esta función creará una tabla que contabiliza el número de filas por cada valor único de la columna que se especifique dentro de la función. Posteriormente, emplear <code>tabyl()</code> para observar la distribución de estos conteos.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-24-contents" aria-controls="callout-24" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-24-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Primero, encadenar los datos de vigilancia mediante un <em>pipe</em> hacia la función <code>count()</code>, indicando la columna <code>id_notificacion</code> como el único argumento. Esto generará una tabla que contabiliza el número de filas por cada valor único de <code>id_notificacion</code>, mostrando el resultado en una nueva columna denominada <code>n</code>. En este extracto se puede observar, por ejemplo, que existe solo una fila para cada uno de estos seis valores de <code>id_notificacion</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>datos_notif <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_notificacion) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  id_notificacion n
1          00399b 1
2          005c85 1
3          006f52 1
4          00cbbb 1
5          01830d 1
6          019045 1</code></pre>
</div>
</div>
<p>A continuación, tabular la nueva columna <code>n</code> con la función <code>tabyl()</code>, lo que demuestra que existe únicamente una fila por cada <code>id_notificacion</code> único. Esto significa que una fila equivale a un caso y que no se requiere realizar una deduplicación adicional.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>datos_notif <span class="sc">|&gt;</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_notificacion) <span class="sc">|&gt;</span> </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> n n_n percent
 1 987       1</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="paso-4.2-análisis-descriptivo-simple" class="level3">
<h3 class="anchored" data-anchor-id="paso-4.2-análisis-descriptivo-simple">Paso 4.2 Análisis descriptivo simple</h3>
<p>Ahora puede proceder cómodamente al análisis descriptivo de los casos, ya que sus datos están limpios y sabe que una fila equivale a un caso. Utilice la función <code>tabyl()</code> para las siguientes tareas.</p>
<section id="tarea-a-contar-el-número-de-casos-sospechosos-de-cada-enfermedad-diagnosticados-en-feveria-en-2024." class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-contar-el-número-de-casos-sospechosos-de-cada-enfermedad-diagnosticados-en-feveria-en-2024."><strong>Tarea A: Contar el número de casos sospechosos de cada enfermedad diagnosticados en Feveria en 2024.</strong></h4>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Qué enfermedad fue diagnosticada con mayor frecuencia por las clínicas en Feveria en 2024?
<div id="radio_XFLXBZHKUS" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XFLXBZHKUS" value=""> <span>Cólera</span></label><label><input type="radio" autocomplete="off" name="radio_XFLXBZHKUS" value="answer"> <span>Paludismo</span></label><label><input type="radio" autocomplete="off" name="radio_XFLXBZHKUS" value=""> <span>Dengue</span></label><label><input type="radio" autocomplete="off" name="radio_XFLXBZHKUS" value=""> <span>Fiebre tifoidea</span></label><label><input type="radio" autocomplete="off" name="radio_XFLXBZHKUS" value=""> <span>Fiebre amarilla</span></label>
</div>
¿Qué enfermedad fue diagnosticada con menor frecuencia por las clínicas en Feveria en 2024?
<div id="radio_OWXXHORZIS" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_OWXXHORZIS" value=""> <span>Cólera</span></label><label><input type="radio" autocomplete="off" name="radio_OWXXHORZIS" value=""> <span>Paludismo</span></label><label><input type="radio" autocomplete="off" name="radio_OWXXHORZIS" value=""> <span>Dengue</span></label><label><input type="radio" autocomplete="off" name="radio_OWXXHORZIS" value="answer"> <span>Fiebre tifoidea</span></label><label><input type="radio" autocomplete="off" name="radio_OWXXHORZIS" value=""> <span>Fiebre amarilla</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-26-contents" aria-controls="callout-26" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-26" class="callout-26-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utilizando <code>tabyl()</code> podemos ver que había 533 casos sospechosos de paludismo en Feveria en 2024, y sólo 35 casos sospechosos de fiebre tifoidea.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_notif, enfermedad_notificada)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> enfermedad_notificada   n    percent
                colera  46 0.04660588
                dengue 273 0.27659574
       fiebre amarilla 100 0.10131712
       fiebre tifoidea  35 0.03546099
             paludismo 533 0.54002026</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tarea-b-contabilizar-el-número-de-casos-sospechosos-por-enfermedad-y-distrito-de-residencia." class="level4">
<h4 class="anchored" data-anchor-id="tarea-b-contabilizar-el-número-de-casos-sospechosos-por-enfermedad-y-distrito-de-residencia."><strong>Tarea B: Contabilizar el número de casos sospechosos por enfermedad y distrito de residencia.</strong></h4>
<p><strong>Utilice <code>tabyl()</code> para cruzar las columnas de enfermedad y distrito de residencia.</strong></p>
<p>Complete la tabla incorporando diversas funciones <code>adorn</code> del paquete <code>{janitor}</code>, con el fin de visualizar distribuciones porcentuales, por ejemplo: <code>adorn_percentages()</code>, <code>adorn_pct_formatting()</code> y <code>adorn_ns()</code>.</p>
<p>Escribir el nombre de la función precedido de un signo de interrogación en la consola (por ejemplo, <code>?adorn_ns</code>) para consultar las páginas de ayuda correspondientes. También se puede revisar la <a href="https://epirhandbook.com/es/tables_descriptive.es.html#tbl_janitor">sección sobre {janitor} en el manual de R para Epis</a> para obtener una explicación más detallada sobre las funciones <code>adorn_xxx()</code>.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Qué distrito notificó la mayor cantidad de enfermedades transmitidas por vectores en 2024 (paludismo, dengue, fiebre amarilla)?
<div id="radio_BJVCHLRNCV" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_BJVCHLRNCV" value="answer"> <span>Lago Minara</span></label><label><input type="radio" autocomplete="off" name="radio_BJVCHLRNCV" value=""> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_BJVCHLRNCV" value=""> <span>Kasara</span></label>
</div>
¿Qué distrito notificó la mayor cantidad de enfermedades diarreicas en 2024 (cólera, fiebre tifoidea)?
<div id="radio_XOKDLWMRYO" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XOKDLWMRYO" value=""> <span>Lago Minara</span></label><label><input type="radio" autocomplete="off" name="radio_XOKDLWMRYO" value="answer"> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_XOKDLWMRYO" value=""> <span>Kasara</span></label>
</div>
¿Qué factores contribuyen al aumento de enfermedades diarreicas en este distrito específico (seleccionado en la pregunta anterior)?
<div id="radio_SWHHZOQKQN" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_SWHHZOQKQN" value="answer"> <span>Infraestructura deficiente de agua y saneamiento</span></label><label><input type="radio" autocomplete="off" name="radio_SWHHZOQKQN" value=""> <span>Hacinamiento de mosquitos</span></label><label><input type="radio" autocomplete="off" name="radio_SWHHZOQKQN" value=""> <span>No lo sabemos</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-28-contents" aria-controls="callout-28" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para leer una pista
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-28" class="callout-28-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Aquí se presenta código para comenzar. Primero, se realiza una tabla de contingencia entre <code>enfermedad_notificada</code> y <code>distrito_residencial</code> con <code>tabyl()</code>. Luego, al agregar <code>adorn_percentages()</code>, estos valores se convierten en porcentajes con muchos decimales. A continuación, encadenar mediante <em>pipes</em> hacia <code>adorn_pct_formatting()</code> para aplicar un formato porcentual adecuado y, posteriormente, hacia <code>adorn_ns()</code> para reincorporar los números entre paréntesis.</p>
<p>Tener en cuenta que las funciones <code>adorn_xxx()</code> deben aplicarse en un <strong>orden específico</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_notif, enfermedad_notificada, distrito_residencial) <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para conocer los factores que contribuyen a un mayor número de diarreas, desplácese hasta el principio del estudio de caso, cuando se presentaron por primera vez los distritos.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-29-contents" aria-controls="callout-29" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-29" class="callout-29-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Al utilizar <code>tabyl()</code>, se observa que la mayoría de los casos sospechosos de dengue, paludismo y fiebre amarilla se localizaron en Lago Minara, el área lacustre con mayor densidad de mosquitos y, por lo tanto, con enfermedades transmitidas por vectores. Mientras tanto, la mayoría de los casos de cólera y fiebre tifoidea se concentraron en Feveria Central, el área urbana sobrepoblada con problemas en la infraestructura de agua y saneamiento que generan un mayor riesgo de inundaciones y de contaminación del agua potable durante la temporada de lluvias.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_notif, enfermedad_notificada, distrito_residencial) <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> enfermedad_notificada Feveria Central      Kasara Lago Minara
                colera      91.3% (42)  8.7%   (4)  0.0%   (0)
                dengue       9.5% (26) 17.6%  (48) 72.9% (199)
       fiebre amarilla      11.0% (11) 21.0%  (21) 68.0%  (68)
       fiebre tifoidea      68.6% (24) 31.4%  (11)  0.0%   (0)
             paludismo      13.7% (73) 19.9% (106) 66.4% (354)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="paso-5.-limpiar-consolidar-y-describir-los-datos-de-laboratorio." class="level2">
<h2 class="anchored" data-anchor-id="paso-5.-limpiar-consolidar-y-describir-los-datos-de-laboratorio.">Paso 5. Limpiar, consolidar y describir los datos de laboratorio.</h2>
<p>A partir del trabajo realizado anteriormente en el paso 3, se identificó que los datos de laboratorio contienen únicamente información de pruebas y no incluyen datos de pacientes. Los datos ya se encuentran muy depurados, por lo que únicamente es necesario estandarizar una columna. Asimismo, se debe procesar el marco de datos de laboratorio para que contenga una fila por cada notificación, de manera que pueda unirse de forma ordenada con la base de datos de notificación.</p>
<section id="paso-5.1-normalizar-los-resultados-de-las-pruebas" class="level3">
<h3 class="anchored" data-anchor-id="paso-5.1-normalizar-los-resultados-de-las-pruebas">Paso 5.1 Normalizar los resultados de las pruebas</h3>
<section id="tarea-a-convertir-cualquier-valor-con-p-en-positivo-n-en-negativo-e-i-en-indeterminado." class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-convertir-cualquier-valor-con-p-en-positivo-n-en-negativo-e-i-en-indeterminado."><strong>Tarea A: Convertir cualquier valor con “P” en “Positivo”, “N” en “Negativo” e “I” en “Indeterminado”.</strong></h4>
<p>Crear un nuevo objeto denominado <code>datos_lab</code>. Esto permitirá un análisis y una interpretación de resultados más directos.</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-30-contents" aria-controls="callout-30" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-30" class="callout-30-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utilice <code>case_match()</code> para convertir los distintos valores originales en “Positivo”, “Negativo” o “Indeterminado”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>datos_lab <span class="ot">&lt;-</span> datos_lab_crudos <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">valor =</span> <span class="fu">case_match</span>(valor, </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">c</span>(<span class="st">"P"</span>, <span class="st">"PO1"</span>, <span class="st">"PO139"</span>) <span class="sc">~</span> <span class="st">"Positivo"</span>,</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"N"</span> <span class="sc">~</span> <span class="st">"Negativo"</span>,</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"Indeterminado"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Posteriormente, se puede verificar que los nuevos valores sean correctos mediante la tabulación y la comparación de los valores en la base de datos original y en el depurado. Asegurarse de haber utilizado la letra ‘O’ y no el número ‘0’.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_lab_crudos, valor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> valor   n    percent
     I  73 0.05555556
     N 682 0.51902588
     P 521 0.39649924
   PO1  22 0.01674277
 PO139  16 0.01217656</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_lab, valor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         valor   n    percent
 Indeterminado  73 0.05555556
      Negativo 682 0.51902588
      Positivo 559 0.42541857</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="paso-5.2-consolidar-en-una-fila-por-prueba" class="level3">
<h3 class="anchored" data-anchor-id="paso-5.2-consolidar-en-una-fila-por-prueba">Paso 5.2 Consolidar en una fila por prueba</h3>
<section id="tarea-a-revisar-el-número-de-muestras-con-varias-filas" class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-revisar-el-número-de-muestras-con-varias-filas"><strong>Tarea A: Revisar el número de muestras con varias filas</strong></h4>
<p>Ya se sabe que algunas muestras tienen varias filas, y que esto se debe a que el ensayo de dengue posee tres objetivos, con un resultado por fila para cada uno de ellos.</p>
<p>Ahora, <strong>determinar el número de muestras con varias filas</strong>.</p>
<p>Para ello, proceder de la misma manera que con los datos de notificación, utilizando el objeto <code>datos_lab</code>: primero contar el número de filas por muestra y luego crear una tabla que muestre la distribución de la cantidad de filas. Tener en cuenta que cada muestra se identifica mediante un identificador de muestra (<code>id_muestra</code>).</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Cuántas muestras (identificadores únicos <code>id_muestra</code>) están repetidas en tres filas?
<div id="radio_HRPLPGKXAC" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_HRPLPGKXAC" value=""> <span>200</span></label><label><input type="radio" autocomplete="off" name="radio_HRPLPGKXAC" value="answer"> <span>215</span></label><label><input type="radio" autocomplete="off" name="radio_HRPLPGKXAC" value=""> <span>230</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-32-contents" aria-controls="callout-32" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-32" class="callout-32-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Primero, encadenar los datos de laboratorio mediante un <em>pipe</em> hacia la función <code>count()</code>, indicando la columna <code>id_muestra</code> como el único argumento. Esto generará una tabla que contabiliza el número de filas por cada valor único de <code>id_muestra</code>, mostrando el resultado en una nueva columna denominada <code>n</code>. Por ejemplo, se puede observar que el <code>id_muestra</code> “000e8eee” tiene tres filas, mientras que el <code>id_muestra</code> “001e1878” aparece únicamente en una fila.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>datos_lab <span class="sc">|&gt;</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_muestra) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  id_muestra n
1   000e8eee 3
2   001e1878 1
3   005f39af 1
4   00b30781 3
5   00b56d18 1
6   0110abcd 3</code></pre>
</div>
</div>
<p>A continuación, tabular la nueva columna <code>n</code> utilizando la función <code>tabyl()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>datos_lab <span class="sc">|&gt;</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_muestra) <span class="sc">|&gt;</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> n n_n   percent
 1 669 0.7567873
 3 215 0.2432127</code></pre>
</div>
</div>
<p>Incluso se puede verificar que esto aplica únicamente al ensayo de dengue añadiendo la columna <code>prueba</code> al cálculo. De esta manera, se observa que solo la prueba de dengue presenta tres filas por muestra.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>datos_lab <span class="sc">|&gt;</span> </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(prueba, id_muestra) <span class="sc">|&gt;</span> </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(prueba, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      prueba   1   3
            Cultivo de heces  45   0
          Dengue NS1/IgG/IgM   0 215
                 Hemocultivo  33   0
                   IgM ELISA  88   0
 Microscopía de sangre total 503   0</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tarea-b-consolidar-a-una-fila-por-id_muestra-priorizando-los-resultados-positivos" class="level4">
<h4 class="anchored" data-anchor-id="tarea-b-consolidar-a-una-fila-por-id_muestra-priorizando-los-resultados-positivos"><strong>Tarea B: Consolidar a una fila por <code>id_muestra</code>, priorizando los resultados positivos</strong></h4>
<p>Como se observó en la sección 3.2, la prueba de dengue proporciona resultados para tres objetivos diferentes: IgG, IgM y NS.1. Los resultados de cada uno de estos objetivos pueden ser negativos o positivos. Sin embargo, para simplificar y consolidar los datos, se desea asignar una sola etiqueta (negativa o positiva) a cada muestra, con el fin de indicar si la muestra representa una infección activa.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-6d85d476{}.cl-6d805726{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6d829d92{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6d829d9c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6d82b2aa{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6d82b2b4{width:0.888in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6d82b2b5{width:0.82in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6d82b2b6{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6d82b2be{width:0.888in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6d82b2bf{width:0.82in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6d82b2c8{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6d82b2d2{width:0.888in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6d82b2d3{width:0.82in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6d82b2d4{width:1.202in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6d82b2dc{width:0.888in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6d82b2dd{width:0.82in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-6d85d476"><thead><tr style="overflow-wrap:break-word;"><th class="cl-6d82b2aa"><p class="cl-6d829d92"><span class="cl-6d805726">objetivo</span></p></th><th class="cl-6d82b2b4"><p class="cl-6d829d9c"><span class="cl-6d805726">Negativo</span></p></th><th class="cl-6d82b2b5"><p class="cl-6d829d9c"><span class="cl-6d805726">Positivo</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-6d82b2b6"><p class="cl-6d829d92"><span class="cl-6d805726">Dengue IgG</span></p></td><td class="cl-6d82b2be"><p class="cl-6d829d9c"><span class="cl-6d805726">110</span></p></td><td class="cl-6d82b2bf"><p class="cl-6d829d9c"><span class="cl-6d805726">105</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6d82b2c8"><p class="cl-6d829d92"><span class="cl-6d805726">Dengue IgM</span></p></td><td class="cl-6d82b2d2"><p class="cl-6d829d9c"><span class="cl-6d805726">105</span></p></td><td class="cl-6d82b2d3"><p class="cl-6d829d9c"><span class="cl-6d805726">110</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6d82b2d4"><p class="cl-6d829d92"><span class="cl-6d805726">Dengue NS.1</span></p></td><td class="cl-6d82b2dc"><p class="cl-6d829d9c"><span class="cl-6d805726">139</span></p></td><td class="cl-6d82b2dd"><p class="cl-6d829d9c"><span class="cl-6d805726">76</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Su colega Ben, quien trabaja en el laboratorio, recomienda lo siguiente para la depuración:</p>
<ul>
<li>Considerar una muestra como positiva si NS.1 o IgM son positivos (ambos pueden representar una infección aguda).<br>
</li>
<li>Ignorar IgG (porque un resultado positivo en ausencia de NS.1 o IgM positivos es indicativo de inmunidad tras una infección pasada resuelta).</li>
</ul>
<p>Ahora, <strong>consolidar los resultados de la prueba de dengue en una fila por prueba, con un único valor de resultado</strong>. Utilizar <code>filter()</code>, <code>arrange()</code> y <code>slice()</code>, asegurándose de que cualquier muestra positiva para NS.1 o IgM se considere positiva para dengue.</p>
<p>Crear un nuevo objeto denominado <code>datos_lab_pruebas</code>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-33-contents" aria-controls="callout-33" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haz clic para leer una pista
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-33" class="callout-33-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Intentar aplicar lo siguiente para consolidar conforme a la recomendación de Ben:</p>
<ol type="1">
<li>Eliminar resultados de IgG: filtrar las filas donde el objetivo sea “IgG” utilizando <code>filter()</code> de <code>{dplyr}</code>.<br>
</li>
<li>Priorizar resultados positivos de IgM/NS1: agrupar por <code>id_muestra</code> y ordenar las filas con <code>arrange()</code> de modo que cualquier resultado ‘P’ (positivo) aparezca primero.<br>
</li>
<li>Filtrar al estado final: conservar únicamente la primera fila utilizando <code>slice(1)</code> para obtener el resultado positivo o negativo de la muestra.<br>
</li>
</ol>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-34-contents" aria-controls="callout-34" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-34" class="callout-34-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>A continuación se presenta el código para filtrar los resultados de IgG del dengue y, posteriormente, consolidar el resultado de la prueba dentro de cada grupo de filas con el mismo <code>id_muestra</code>, priorizando los resultados positivos. Es necesario especificar <code>desc</code> dentro de <code>arrange()</code>, ya que este ordena en orden alfabético inverso, colocando la letra P en la parte superior. Además, agregar la función <code>ungroup()</code> al final para que la nueva base de datos no quede agrupada, lo cual podría generar confusión en análisis posteriores.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>datos_lab_pruebas <span class="ot">&lt;-</span> datos_lab <span class="sc">|&gt;</span> </span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(objetivo <span class="sc">!=</span> <span class="st">"Dengue IgG"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id_muestra) <span class="sc">|&gt;</span> </span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(valor)) <span class="sc">|&gt;</span> </span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Posteriormente, se puede verificar que el nuevo objeto <code>datos_lab_pruebas</code> contenga una sola fila por prueba utilizando la combinación de <code>count()</code> y <code>tabyl()</code>, tal como se hizo en la Tarea A. Esta tabla muestra que todos los identificadores de muestra únicos aparecen únicamente en una fila cada uno:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>datos_lab_pruebas <span class="sc">|&gt;</span> </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_muestra) <span class="sc">|&gt;</span> </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> n n_n percent
 1 884       1</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tarea-c-deduplicar-a-una-fila-por-id_notificacion-priorizando-los-resultados-positivos" class="level4">
<h4 class="anchored" data-anchor-id="tarea-c-deduplicar-a-una-fila-por-id_notificacion-priorizando-los-resultados-positivos"><strong>Tarea C: Deduplicar a una fila por <code>id_notificacion</code>, priorizando los resultados positivos</strong></h4>
<p>A continuación, verificar el número de pruebas por identificador de notificación en los datos consolidados.</p>
<p>Se observa que existen 26 filas con el mismo identificador de notificación que otra fila, pero únicamente en los casos analizados mediante microscopía de sangre total para paludismo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>datos_lab_pruebas <span class="sc">|&gt;</span> </span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(prueba, id_notificacion) <span class="sc">|&gt;</span> </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(prueba, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      prueba   1  2
            Cultivo de heces  45  0
          Dengue NS1/IgG/IgM 215  0
                 Hemocultivo  33  0
                   IgM ELISA  88  0
 Microscopía de sangre total 451 26</code></pre>
</div>
</div>
<p>Se procede a investigar con mayor detalle, examinando un caso de ejemplo con <code>id_notificacion</code> “043228”. Esto muestra que dicho caso fue analizado en dos ocasiones, con dos muestras diferentes tomadas con una semana de diferencia. El primer resultado fue positivo y el segundo resultado fue negativo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>datos_lab_pruebas <span class="sc">|&gt;</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id_notificacion <span class="sc">==</span> <span class="st">"043228"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 7
  nombre_laboratorio     id_notificacion id_muestra fecha_prueba prueba objetivo
  &lt;chr&gt;                  &lt;chr&gt;           &lt;chr&gt;      &lt;IDate&gt;      &lt;chr&gt;  &lt;chr&gt;   
1 Hospital Universitari… 043228          27c37cd8   2024-06-18   Micro… Plasmod…
2 Hospital Universitari… 043228          d2271be0   2024-06-25   Micro… Plasmod…
# ℹ 1 more variable: valor &lt;chr&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Cuál afirmación sobre los datos de laboratorio es correcta?
<div id="radio_PFMHIFDHUH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_PFMHIFDHUH" value=""> <span>Todos los casos de diferentes enfermedades se vuelven a analizar</span></label><label><input type="radio" autocomplete="off" name="radio_PFMHIFDHUH" value="answer"> <span>Algunos casos de paludismo se vuelven a analizar</span></label><label><input type="radio" autocomplete="off" name="radio_PFMHIFDHUH" value=""> <span>Todos los casos de paludismo se vuelven a analizar</span></label>
</div>
¿Será necesario depurar (eliminar duplicados) los datos de laboratorio para unirlos con los datos de notificación?
<div id="radio_OLEJTJDHXF" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_OLEJTJDHXF" value="answer"> <span>Sí - necesitamos una fila que represente el resultado de laboratorio por notificación</span></label><label><input type="radio" autocomplete="off" name="radio_OLEJTJDHXF" value=""> <span>No - los datos ya están suficientemente depurados</span></label>
</div>
</div>
</div>
</div>
<p>¡Si la respuesta fue que es necesario deduplicar, es correcto!</p>
<p><strong>Deduplicar los datos para tener una sola fila por <code>id_notificacion</code></strong>, priorizando los resultados positivos, de modo que puedan unirse con los datos de notificación.</p>
<p>Para ello, seguir un proceso similar al de la Tarea B, utilizando el cuadro de datos generado en dicha tarea:</p>
<ul>
<li>Agrupar por <code>id_notificacion</code>.<br>
</li>
<li>Ordenar por el valor del resultado de la prueba, de manera que los valores que comienzan con P tengan prioridad en la primera fila, seguidos por N (negativo) y luego I (indeterminado).<br>
</li>
<li>Conservar únicamente la primera fila dentro de cada grupo de <code>id_notificacion</code>, utilizando <code>slice()</code>.<br>
</li>
<li>Al realizar esto, crear un nuevo objeto denominado <code>datos_lab_casos</code>.</li>
</ul>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-36-contents" aria-controls="callout-36" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡intente hacerlo primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-36" class="callout-36-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>A continuación se presenta el código para deduplicar las filas dentro de cada grupo con el mismo <code>id_notificacion</code>, priorizando los resultados positivos. Una vez más, es necesario especificar <code>desc</code> dentro de <code>arrange()</code>. Esto funciona perfectamente porque el orden de prioridad deseado para los resultados —positivo, luego negativo y finalmente indeterminado— coincide con el orden alfabético inverso (P aparece antes que N, que aparece antes que I, al ordenar de forma descendente).</p>
<p>Si el orden de prioridad fuera más complejo o no coincidiera con el orden alfabético (por ejemplo, si “indeterminado” debiera colocarse antes que “negativo”), sería necesario convertir la columna de resultados en un factor y definir explícitamente el orden deseado de sus niveles. No olvidar desagrupar nuevamente al final.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>datos_lab_casos <span class="ot">&lt;-</span> datos_lab_pruebas <span class="sc">|&gt;</span> </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id_notificacion) <span class="sc">|&gt;</span> </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(valor)) <span class="sc">|&gt;</span> </span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A continuación, puede volver a comprobar que el nuevo objeto <code>datos_lab_casos</code> sólo tiene una fila por prueba, utilizando la combinación de <code>count()</code> y <code>tabyl()</code> como que hizo en la Tarea A. Esta tabla le muestra que todos los ID de muestra únicos son sólo están presentes en una fila cada uno:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>datos_lab_casos <span class="sc">|&gt;</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id_notificacion) <span class="sc">|&gt;</span> </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> n n_n percent
 1 858       1</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="paso-5.3-análisis-descriptivo-simple" class="level3">
<h3 class="anchored" data-anchor-id="paso-5.3-análisis-descriptivo-simple">Paso 5.3 Análisis descriptivo simple</h3>
<p>Ahora tenemos dos objetos que podemos utilizar para el análisis de los datos de laboratorio: <code>datos_lab_pruebas</code> y <code>datos_lab_casos</code>.</p>
<section id="tarea-a-contar-el-número-de-pruebas-específicas-de-enfermedades-resultados-positivos-y-resultados-negativos-en-los-datos-de-laboratorio-de-2024." class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-contar-el-número-de-pruebas-específicas-de-enfermedades-resultados-positivos-y-resultados-negativos-en-los-datos-de-laboratorio-de-2024."><strong>Tarea A: Contar el número de pruebas específicas de enfermedades, resultados positivos y resultados negativos en los datos de laboratorio de 2024.</strong></h4>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Qué objeto debería usar para analizar las pruebas?
<div id="radio_EGWTGNOSBF" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_EGWTGNOSBF" value="answer"> <span>datos_lab_pruebas</span></label><label><input type="radio" autocomplete="off" name="radio_EGWTGNOSBF" value=""> <span>datos_lab_casos</span></label><label><input type="radio" autocomplete="off" name="radio_EGWTGNOSBF" value=""> <span>ninguno</span></label>
</div>
¿Cuántas pruebas se realizaron para detectar paludismo (mediante microscopía de sangre completa)?
<div id="radio_DXDBFRDVPJ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_DXDBFRDVPJ" value=""> <span>215</span></label><label><input type="radio" autocomplete="off" name="radio_DXDBFRDVPJ" value="answer"> <span>503</span></label><label><input type="radio" autocomplete="off" name="radio_DXDBFRDVPJ" value=""> <span>88</span></label><label><input type="radio" autocomplete="off" name="radio_DXDBFRDVPJ" value=""> <span>190</span></label>
</div>
¿Qué porcentaje de las pruebas para cólera (mediante cultivo de heces) resultaron positivas?
<div id="radio_CVHMBSXZAZ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_CVHMBSXZAZ" value=""> <span>21%</span></label><label><input type="radio" autocomplete="off" name="radio_CVHMBSXZAZ" value=""> <span>11%</span></label><label><input type="radio" autocomplete="off" name="radio_CVHMBSXZAZ" value="answer"> <span>84%</span></label><label><input type="radio" autocomplete="off" name="radio_CVHMBSXZAZ" value=""> <span>87%</span></label>
</div>
¿Qué prueba tuvo el mayor porcentaje de resultados indeterminados?
<div id="radio_VQNOTXFJLD" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_VQNOTXFJLD" value="answer"> <span>ELISA IgM (para la detección de fiebre amarilla)</span></label><label><input type="radio" autocomplete="off" name="radio_VQNOTXFJLD" value=""> <span>Cultivo de heces (para la detección de cólera)</span></label><label><input type="radio" autocomplete="off" name="radio_VQNOTXFJLD" value=""> <span>Hemocultivo (para la detección de fiebre tifoidea)</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-38-contents" aria-controls="callout-38" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-38" class="callout-38-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Al utilizar <code>tabyl()</code> se puede ver el número de positivos, negativos y resultados indeterminados por prueba. Se puede añadir una serie de funciones de <code>adorn()</code> para mostrar porcentajes y totales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_lab_pruebas, prueba, valor) <span class="sc">|&gt;</span> </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"col"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      prueba Indeterminado    Negativo    Positivo        Total
            Cultivo de heces    11.1%  (5)  4.4%   (2) 84.4%  (38) 100.0%  (45)
          Dengue NS1/IgG/IgM     0.0%  (0) 13.5%  (29) 86.5% (186) 100.0% (215)
                 Hemocultivo     6.1%  (2) 72.7%  (24) 21.2%   (7) 100.0%  (33)
                   IgM ELISA    11.4% (10) 51.1%  (45) 37.5%  (33) 100.0%  (88)
 Microscopía de sangre total    11.1% (56) 51.1% (257) 37.8% (190) 100.0% (503)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tarea-b-contar-el-número-de-casos-sospechosos-analizados-en-los-datos-de-2024." class="level4">
<h4 class="anchored" data-anchor-id="tarea-b-contar-el-número-de-casos-sospechosos-analizados-en-los-datos-de-2024."><strong>Tarea B: Contar el número de casos sospechosos analizados en los datos de 2024.</strong></h4>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Qué base de datos de laboratorio debería usar para contar el número de casos sospechosos analizados?
<div id="radio_CTWSJXBZMJ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_CTWSJXBZMJ" value=""> <span>datos_lab_crudos</span></label><label><input type="radio" autocomplete="off" name="radio_CTWSJXBZMJ" value="answer"> <span>datos_lab_casos</span></label><label><input type="radio" autocomplete="off" name="radio_CTWSJXBZMJ" value=""> <span>datos_lab_pruebas</span></label><label><input type="radio" autocomplete="off" name="radio_CTWSJXBZMJ" value=""> <span>datos_lab</span></label>
</div>
¿Cuántos casos sospechosos fueron analizados en los datos de laboratorio de 2024?
<div id="radio_TZCXBAHFGW" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_TZCXBAHFGW" value="answer"> <span>858</span></label><label><input type="radio" autocomplete="off" name="radio_TZCXBAHFGW" value=""> <span>1314</span></label><label><input type="radio" autocomplete="off" name="radio_TZCXBAHFGW" value=""> <span>884</span></label>
</div>
¿Hay más casos sospechosos en los datos de notificación o en los datos de laboratorio?
<div id="radio_HMWWYHEPNT" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_HMWWYHEPNT" value="answer"> <span>Datos de notificación</span></label><label><input type="radio" autocomplete="off" name="radio_HMWWYHEPNT" value=""> <span>Datos de laboratorio</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-40-contents" aria-controls="callout-40" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-40" class="callout-40-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Se puede consultar el número de filas en la base de datos <code>datos_lab_casos</code> para observar la cantidad de casos sospechosos que fueron analizados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datos_lab_casos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 858</code></pre>
</div>
</div>
<p>Este número es menor al de los casos sospechosos registrados en los datos depurados de vigilancia de enfermedades de notificación obligatoria (<code>datos_notif</code>), lo que sugiere que no todos los casos sospechosos en 2024 fueron analizados al momento en que estos datos estuvieron disponibles.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datos_notif)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 987</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="paso-6.-unión-y-tratamiento-final" class="level2">
<h2 class="anchored" data-anchor-id="paso-6.-unión-y-tratamiento-final">Paso 6. Unión y tratamiento final</h2>
<p>Ahora que ambas <em>linelists</em> están depuradas y cuentan con una sola fila por caso sospechoso, es posible unirlos para habilitar el análisis completo solicitado por la jefatura.</p>
<section id="paso-6.1-unir-los-datos-de-notificación-y-los-datos-de-laboratorio" class="level3">
<h3 class="anchored" data-anchor-id="paso-6.1-unir-los-datos-de-notificación-y-los-datos-de-laboratorio">Paso 6.1 Unir los datos de notificación y los datos de laboratorio</h3>
<section id="tarea-a-realizar-la-vinculación" class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-realizar-la-vinculación"><strong>Tarea A: Realizar la vinculación</strong></h4>
<p>Crear un nuevo objeto denominado <code>datos_unidos</code>, utilizando una función <code>xxx_join()</code> de <code>{dplyr}</code>. Conservar todas las notificaciones y añadir los resultados de laboratorio cuando estén disponibles para cada caso sospechoso.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Qué función es la correcta si desea conservar todas las filas de sus datos de notificación e incorporar los resultados de sus datos de laboratorio?
<div id="radio_ZIXEPLNUVQ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ZIXEPLNUVQ" value="answer"> <span>left_join(datos_notif, datos_lab_casos…</span></label><label><input type="radio" autocomplete="off" name="radio_ZIXEPLNUVQ" value=""> <span>full_join(datos_notif, datos_lab_casos…</span></label><label><input type="radio" autocomplete="off" name="radio_ZIXEPLNUVQ" value=""> <span>right_join(datos_notif, datos_lab_casos…</span></label>
</div>
¿Qué identificador debería usarse para enlazar las dos listas línea?
<div id="radio_QFMQVHJWTQ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_QFMQVHJWTQ" value=""> <span>id_muestra</span></label><label><input type="radio" autocomplete="off" name="radio_QFMQVHJWTQ" value="answer"> <span>id_notificacion</span></label><label><input type="radio" autocomplete="off" name="radio_QFMQVHJWTQ" value=""> <span>id_muestra y fecha_notificada</span></label><label><input type="radio" autocomplete="off" name="radio_QFMQVHJWTQ" value=""> <span>id_notificacion y fecha_notificada</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-42-contents" aria-controls="callout-42" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡intente hacerlo primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-42" class="callout-42-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Unir los datos utilizando la función <code>left_join()</code>, colocando los datos de notificación como la base de datos principal a la izquierda. Esto permitirá conservar todas las filas de dicha base de datos e incorporar únicamente los resultados de laboratorio provenientes de la base de datos especificado a la derecha de la función.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>datos_unidos <span class="ot">&lt;-</span> <span class="fu">left_join</span>(datos_notif, datos_lab_casos, </span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">by =</span> <span class="st">"id_notificacion"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La unión se realiza mediante la columna <code>id_notificacion</code>, la cual está presente, completa y depurada en ambas <em>linelists</em>.</p>
<p><strong>Nota</strong>: En este caso resulta afortunado contar con un ejemplo tan sencillo de unión. Normalmente sería necesario depurar y verificar exhaustivamente la columna de identificadores, o bien realizar la unión a través de otras variables como el nombre y la fecha de nacimiento. En Feveria, el personal de las clínicas es <em>excelente</em> asignando de manera consistente los identificadores de notificación a cada paciente, incluso en los formularios de muestra enviados al laboratorio; a su vez, el personal de laboratorio es igualmente <em>destacado</em> registrando el identificador de notificación en sus sistemas, lo que permite que los resultados se unan adecuadamente con cada caso.</p>
</div>
</div>
</div>
</section>
<section id="tarea-b-comprobar-que-la-unión-funcionó-como-se-esperaba" class="level4">
<h4 class="anchored" data-anchor-id="tarea-b-comprobar-que-la-unión-funcionó-como-se-esperaba"><strong>Tarea B: Comprobar que la unión funcionó como se esperaba</strong></h4>
<p>Ahora comprueba tus datos y revisa.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Cuántas filas hay en su nueva base de datos <code>datos_unidos</code>?
<div id="radio_KGVMZYDIUS" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_KGVMZYDIUS" value="answer"> <span>987</span></label><label><input type="radio" autocomplete="off" name="radio_KGVMZYDIUS" value=""> <span>884</span></label><label><input type="radio" autocomplete="off" name="radio_KGVMZYDIUS" value=""> <span>858</span></label>
</div>
¿Cómo se compara esto con sus datos originales de notificación?
<div id="radio_PDAFBPUMDC" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_PDAFBPUMDC" value=""> <span>más filas que el original</span></label><label><input type="radio" autocomplete="off" name="radio_PDAFBPUMDC" value="answer"> <span>el mismo número de filas</span></label><label><input type="radio" autocomplete="off" name="radio_PDAFBPUMDC" value=""> <span>menos filas</span></label>
</div>
¿Qué término describe mejor la unión que acaba de realizar?
<div id="radio_ZHUBZPMDWK" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ZHUBZPMDWK" value=""> <span>muchos-a-uno</span></label><label><input type="radio" autocomplete="off" name="radio_ZHUBZPMDWK" value="answer"> <span>uno-a-uno</span></label><label><input type="radio" autocomplete="off" name="radio_ZHUBZPMDWK" value=""> <span>muchos-a-muchos</span></label>
</div>
¿Cuántos resultados de laboratorio NO se unieron (pista: usar <code>anti_join()</code>)?
<div id="radio_ENHWIKTVMN" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ENHWIKTVMN" value=""> <span>30</span></label><label><input type="radio" autocomplete="off" name="radio_ENHWIKTVMN" value=""> <span>19</span></label><label><input type="radio" autocomplete="off" name="radio_ENHWIKTVMN" value="answer"> <span>0</span></label>
</div>
¿Qué tan afortunado es de que su unión haya sido tan exitosa?
<div id="radio_BWIJZBFVDQ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_BWIJZBFVDQ" value=""> <span>¿Qué? ¿Acaso no toda unión es así de simple??</span></label><label><input type="radio" autocomplete="off" name="radio_BWIJZBFVDQ" value="answer"> <span>¡Muy afortunado! Usualmente algunos registros no coinciden</span></label>
</div>
¿Cuáles son las razones típicas por las que los datos de laboratorio no coinciden con los datos de enfermedades de notificación obligatoria?
<div id="radio_FTAYJQTXHW" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_FTAYJQTXHW" value=""> <span>Hay errores tipográficos en las columnas usadas para la unión, por lo que no se reconocen como coincidentes</span></label><label><input type="radio" autocomplete="off" name="radio_FTAYJQTXHW" value=""> <span>Los datos de laboratorio pueden contener casos adicionales de otras clínicas o países</span></label><label><input type="radio" autocomplete="off" name="radio_FTAYJQTXHW" value=""> <span>Los datos de laboratorio pueden incluir muestras de prueba</span></label><label><input type="radio" autocomplete="off" name="radio_FTAYJQTXHW" value=""> <span>Las notificaciones pueden haberse omitido accidentalmente en los datos de vigilancia aunque la muestra haya sido analizada en el laboratorio</span></label><label><input type="radio" autocomplete="off" name="radio_FTAYJQTXHW" value="answer"> <span>Todas las anteriores</span></label>
</div>
¿Cuántos casos sospechosos no tienen un resultado?
<div id="radio_XGHATZRTUM" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XGHATZRTUM" value=""> <span>83</span></label><label><input type="radio" autocomplete="off" name="radio_XGHATZRTUM" value=""> <span>100</span></label><label><input type="radio" autocomplete="off" name="radio_XGHATZRTUM" value="answer"> <span>129</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-44-contents" aria-controls="callout-44" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡intente hacerlo primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-44" class="callout-44-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Verificar el número de filas en cada marco de datos con la función <code>nrow()</code>, o consultando la información del objeto en el Entorno. Se puede observar que esta fue simplemente una unión uno-a-uno, ya que cada fila tenía un <code>id_notificacion</code> único; por lo tanto, una fila en los datos de notificación se unió directamente con una fila en los datos de laboratorio.</p>
<p><strong>Número de filas en los datos de notificación</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datos_notif)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 987</code></pre>
</div>
</div>
<p><strong>Número de filas en los datos enlazados</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datos_unidos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 987</code></pre>
</div>
</div>
<p>Para comprobar si existió algún resultado de laboratorio que no se unirá con los datos de notificación, se puede utilizar <code>anti_join()</code>. En este caso, el objeto <code>datos_lab_casos</code> se coloca a la izquierda, ya que la función evalúa cuántas filas de la base de datos de la izquierda no se encuentran en la base de datos de la derecha, haciendo la coincidencia por <code>id_notificacion</code>.</p>
<p>En esta ocasión no es necesario generar una nueva base de datos; simplemente se puede encadenar con un <code>nrow()</code> para contar el número de filas. El resultado es 0, lo que demuestra que no hubo resultados no unidos, ¡excelente!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(datos_lab_casos, datos_notif, </span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">by =</span> <span class="st">"id_notificacion"</span>) <span class="sc">|&gt;</span> <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p>Por último, para comprobar el número de notificaciones sin resultado, puede realizar un anti_join en putting <code>datos_notif</code> primero:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(datos_notif, datos_lab_casos, </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">by =</span> <span class="st">"id_notificacion"</span>) <span class="sc">|&gt;</span> <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 129</code></pre>
</div>
</div>
<p>O bien, puede simplemente tabular el número de valores que faltan en el columna <code>valor</code> en <code>datos_unidos</code> (como la columna <code>valor</code> procede de los datos del laboratorio).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(<span class="fu">is.na</span>(datos_unidos<span class="sc">$</span>valor)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> is.na(datos_unidos$valor)   n   percent
                     FALSE 858 0.8693009
                      TRUE 129 0.1306991</code></pre>
</div>
</div>
<p>Ambos enfoques muestran que 129 casos sospechosos no tienen un resultado de laboratorio.</p>
</div>
</div>
</div>
</section>
</section>
<section id="paso-6.2-etiquetar-los-casos-confirmados-descartados-y-sospechosos" class="level3">
<h3 class="anchored" data-anchor-id="paso-6.2-etiquetar-los-casos-confirmados-descartados-y-sospechosos">Paso 6.2 Etiquetar los casos confirmados, descartados y sospechosos</h3>
<section id="tarea-a-crear-una-columna-final-de-categoría-de-casos" class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-crear-una-columna-final-de-categoría-de-casos"><strong>Tarea A: Crear una columna final de “categoría de casos</strong></h4>
<p><strong>Utilizar <code>mutate()</code> para crear una nueva columna denominada <code>categoria_casos</code></strong>, actualizando la categoría de los casos sospechosos de acuerdo con su resultado de laboratorio. Las categorías deben definirse de la siguiente manera:</p>
<ul>
<li>Si el resultado fue positivo: Confirmado<br>
</li>
<li>Si el resultado fue negativo: Descartado<br>
</li>
<li>Si el resultado fue indeterminado o faltante: Sospechoso</li>
</ul>
<p>Esto implica que todos los casos en los datos de notificación se consideran inicialmente sospechosos al momento de ser reportados, y permanecen como sospechosos si no existe un resultado de prueba concluyente.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Cuál es la función más apropiada para crear esta nueva columna?
<div id="radio_GBEVURFSHT" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_GBEVURFSHT" value="answer"> <span>case_when()</span></label><label><input type="radio" autocomplete="off" name="radio_GBEVURFSHT" value=""> <span>if_else()</span></label><label><input type="radio" autocomplete="off" name="radio_GBEVURFSHT" value=""> <span>case_match()</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-46-contents" aria-controls="callout-46" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡pruébela usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-46" class="callout-46-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Debe utilizar <code>case_when()</code> para crear la nueva columna. Esta función es ideal para aplicar múltiples condiciones lógicas para crear múltiples valores, mientras que <code>case_match()</code> es mejor para sustituir valores específicos, y <code>if_else()</code> es mejor si sólo hay dos valores posibles.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>datos_unidos <span class="ot">&lt;-</span> datos_unidos <span class="sc">|&gt;</span> </span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">categoria_casos =</span> <span class="fu">case_when</span>(valor<span class="sc">==</span><span class="st">"Positivo"</span> <span class="sc">~</span> <span class="st">"Confirmado"</span>,</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>                                   valor<span class="sc">==</span><span class="st">"Negativo"</span> <span class="sc">~</span> <span class="st">"Descartado"</span>,</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>                                   valor<span class="sc">==</span><span class="st">"Indeterminado"</span> <span class="sc">|</span> <span class="fu">is.na</span>(valor) <span class="sc">~</span> <span class="st">"Sospechoso"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="paso-6.3-revisar-la-distribución-de-los-resultados-de-laboratorio-entre-los-casos." class="level3">
<h3 class="anchored" data-anchor-id="paso-6.3-revisar-la-distribución-de-los-resultados-de-laboratorio-entre-los-casos.">Paso 6.3 Revisar la distribución de los resultados de laboratorio entre los casos.</h3>
<section id="tarea-a-utilizar-tabyl-para-tabular-la-categoría-de-casos" class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-utilizar-tabyl-para-tabular-la-categoría-de-casos"><strong>Tarea A: Utilizar <code>tabyl()</code> para tabular la categoría de casos</strong></h4>
<p>Utilizar <code>tabyl()</code> en general, y también la tabulación cruzada por enfermedad para responder a las siguientes preguntas.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Cuántos casos en los datos de notificación unidos no tenían un resultado positivo ni negativo?
<div id="radio_EJEHAQKCVI" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_EJEHAQKCVI" value="answer"> <span>202</span></label><label><input type="radio" autocomplete="off" name="radio_EJEHAQKCVI" value=""> <span>347</span></label><label><input type="radio" autocomplete="off" name="radio_EJEHAQKCVI" value=""> <span>250</span></label>
</div>
¿Qué porcentaje de casos en los datos de notificación SÍ tenían un resultado positivo o negativo?
<div id="radio_EZJAPGORLA" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_EZJAPGORLA" value=""> <span>60.1%</span></label><label><input type="radio" autocomplete="off" name="radio_EZJAPGORLA" value="answer"> <span>79.5%</span></label><label><input type="radio" autocomplete="off" name="radio_EZJAPGORLA" value=""> <span>92.2%</span></label>
</div>
¿Por qué hay más casos sospechosos restantes que notificaciones no enlazadas?
<div id="radio_YUPRLAYFDS" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_YUPRLAYFDS" value="answer"> <span>Los casos sospechosos incluyen notificaciones sin resultado de laboratorio y con un resultado de laboratorio indeterminado</span></label><label><input type="radio" autocomplete="off" name="radio_YUPRLAYFDS" value=""> <span>Se están incorporando casos sospechosos adicionales desde el laboratorio</span></label><label><input type="radio" autocomplete="off" name="radio_YUPRLAYFDS" value=""> <span>Hay un problema con los datos</span></label>
</div>
¿Qué enfermedad tuvo el mayor porcentaje de casos que permanecieron como sospechosos después de la unión?
<div id="radio_WJBPDGNHDU" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_WJBPDGNHDU" value=""> <span>Cólera</span></label><label><input type="radio" autocomplete="off" name="radio_WJBPDGNHDU" value=""> <span>Paludismo</span></label><label><input type="radio" autocomplete="off" name="radio_WJBPDGNHDU" value=""> <span>Dengue</span></label><label><input type="radio" autocomplete="off" name="radio_WJBPDGNHDU" value="answer"> <span>Fiebre amarilla</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-48-contents" aria-controls="callout-48" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡intente hacerlo primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-48" class="callout-48-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Una vez más se puede utilizar <code>tabyl()</code> para observar la distribución de las categorías de casos en las notificaciones. El número total de casos sospechosos, es decir, aquellos sin resultado de laboratorio o con un resultado indeterminado, es de 202. Esto significa que 785 casos, es decir, el 79.5%, sí contaron con un resultado de laboratorio concluyente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_unidos, categoria_casos) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> categoria_casos   n   percent
      Confirmado 438 0.4437690
      Descartado 347 0.3515704
      Sospechoso 202 0.2046606</code></pre>
</div>
</div>
<p>También se puede realizar una tabla de contingencia entre los resultados originales (indeterminado/negativo/positivo) en la columna <code>valor</code> y la nueva columna <code>categoria_casos</code>, primero para comprobar que la lógica haya funcionado correctamente y, además, para visualizar cómo se asignaron los valores originales a las nuevas categorías. Esto muestra que, además de las 129 notificaciones que no fueron unidas (con <code>NA</code> en la columna <code>valor</code>), 73 tuvieron resultados indeterminados, por lo que fueron clasificadas como casos sospechosos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_unidos, categoria_casos, valor) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> categoria_casos Indeterminado Negativo Positivo NA_
      Confirmado             0        0      438   0
      Descartado             0      347        0   0
      Sospechoso            73        0        0 129</code></pre>
</div>
</div>
<p>Finalmente, también se puede realizar una tabla de contingencia con el nombre de la enfermedad para observar las categorías de caso por enfermedad. Es posible añadir funciones adicionales <code>adorn_xxx()</code> para aplicar un formato porcentual. La tabla muestra que el 22% de los casos de fiebre amarilla permanecieron como sospechosos, lo cual representó el porcentaje más alto en comparación con las demás enfermedades.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_unidos, enfermedad_notificada, categoria_casos) <span class="sc">|&gt;</span> </span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> enfermedad_notificada  Confirmado  Descartado  Sospechoso        Total
                colera 82.6%  (38)  4.3%   (2) 13.0%   (6) 100.0%  (46)
                dengue 68.1% (186) 10.6%  (29) 21.2%  (58) 100.0% (273)
       fiebre amarilla 33.0%  (33) 45.0%  (45) 22.0%  (22) 100.0% (100)
       fiebre tifoidea 20.0%   (7) 68.6%  (24) 11.4%   (4) 100.0%  (35)
             paludismo 32.6% (174) 46.3% (247) 21.0% (112) 100.0% (533)
                 Total 44.4% (438) 35.2% (347) 20.5% (202) 100.0% (987)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tarea-b-evaluar-el-porcentaje-de-casos-sospechosos-que-son-realmente-casos-reales" class="level4">
<h4 class="anchored" data-anchor-id="tarea-b-evaluar-el-porcentaje-de-casos-sospechosos-que-son-realmente-casos-reales"><strong>Tarea B: Evaluar el porcentaje de casos sospechosos que son realmente casos reales</strong></h4>
<p>Utilice <code>tabyl()</code> para ello una vez más, observando los resultados por enfermedad. ¡Piense en el denominador correcto!</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Qué porcentaje de los casos sospechosos notificados en 2024 fueron casos verdaderos, según sus resultados de laboratorio?
<div id="radio_NBHIVRBOPL" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NBHIVRBOPL" value=""> <span>44%</span></label><label><input type="radio" autocomplete="off" name="radio_NBHIVRBOPL" value="answer"> <span>56%</span></label><label><input type="radio" autocomplete="off" name="radio_NBHIVRBOPL" value=""> <span>59%</span></label>
</div>
¿Qué porcentaje de los casos sospechosos de paludismo fueron realmente paludismo?
<div id="radio_CCSXBAIZNX" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_CCSXBAIZNX" value=""> <span>86%</span></label><label><input type="radio" autocomplete="off" name="radio_CCSXBAIZNX" value="answer"> <span>41%</span></label><label><input type="radio" autocomplete="off" name="radio_CCSXBAIZNX" value=""> <span>23%</span></label>
</div>
¿Qué porcentaje de los casos sospechosos de dengue fueron realmente dengue?
<div id="radio_BFYGXSUTKK" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_BFYGXSUTKK" value="answer"> <span>87%</span></label><label><input type="radio" autocomplete="off" name="radio_BFYGXSUTKK" value=""> <span>41%</span></label><label><input type="radio" autocomplete="off" name="radio_BFYGXSUTKK" value=""> <span>23%</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-50-contents" aria-controls="callout-50" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para leer una pista
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-50" class="callout-50-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Dividir el número de casos confirmados (es decir, aquellos con un resultado positivo) entre el número de casos confirmados más los descartados (es decir, aquellos con resultado positivo o negativo). Esto genera una tasa de positividad, que aproxima el porcentaje de casos sospechosos que realmente fueron casos. Los resultados indeterminados se excluyen porque no aportan un desenlace claro y distorsionarían la tasa de positividad.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-51-contents" aria-controls="callout-51" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡intente hacerlo primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-51" class="callout-51-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Filtrar los casos sospechosos y luego realizar una tabla de contingencia, para observar el porcentaje de casos inicialmente sospechosos que se convierten en confirmados o descartados, entre aquellos con resultados válidos.</p>
<p>Dado que existe una fila de totales, se puede ver que, en general, el 56% de los casos sospechosos terminaron confirmados, entre aquellos con resultado válido. También se observa que el 41% de los casos de paludismo y el 87% de los casos de dengue fueron confirmados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>datos_unidos <span class="sc">|&gt;</span> </span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(categoria_casos <span class="sc">!=</span> <span class="st">"Sospechoso"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(enfermedad_notificada, categoria_casos) <span class="sc">|&gt;</span> </span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> enfermedad_notificada  Confirmado  Descartado        Total
                colera 95.0%  (38)  5.0%   (2) 100.0%  (40)
                dengue 86.5% (186) 13.5%  (29) 100.0% (215)
       fiebre amarilla 42.3%  (33) 57.7%  (45) 100.0%  (78)
       fiebre tifoidea 22.6%   (7) 77.4%  (24) 100.0%  (31)
             paludismo 41.3% (174) 58.7% (247) 100.0% (421)
                 Total 55.8% (438) 44.2% (347) 100.0% (785)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="paso-6.4-crear-una-lista-con-sólo-los-casos-confirmados" class="level3">
<h3 class="anchored" data-anchor-id="paso-6.4-crear-una-lista-con-sólo-los-casos-confirmados">Paso 6.4 Crear una lista con sólo los casos confirmados</h3>
<p><strong>Tarea A: Crear una nueva linelist llamada <code>datos_unidos_confirmados</code></strong>.</p>
<p>Esto es lo que se utilizará en los informes oficiales de vigilancia.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Por qué estamos optando por reportar solo casos confirmados en nuestros datos de vigilancia?
<div id="radio_QEEMVPEOTL" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_QEEMVPEOTL" value="answer"> <span>Reportar casos confirmados puede ser más confiable y preciso cuando el porcentaje de pruebas positivas es bajo y las pruebas de laboratorio son rutinarias, ayudando así a prevenir la sobreestimación de la carga de enfermedad</span></label><label><input type="radio" autocomplete="off" name="radio_QEEMVPEOTL" value=""> <span>Reportar casos confirmados es más lento, lo que nos da más tiempo para estar seguros de lo que estamos reportando</span></label><label><input type="radio" autocomplete="off" name="radio_QEEMVPEOTL" value=""> <span>Porque queremos ocultar el número real de casos</span></label>
</div>
¿Qué función es importante para crear la nueva lista de casos (linelist)?
<div id="radio_LEJGBCDEAD" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_LEJGBCDEAD" value="answer"> <span>filter()</span></label><label><input type="radio" autocomplete="off" name="radio_LEJGBCDEAD" value=""> <span>arrange()</span></label><label><input type="radio" autocomplete="off" name="radio_LEJGBCDEAD" value=""> <span>mutate()</span></label>
</div>
¿Cuántas filas hay en esta nueva base de datos?
<div id="radio_VPJSFUKUAS" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_VPJSFUKUAS" value=""> <span>389</span></label><label><input type="radio" autocomplete="off" name="radio_VPJSFUKUAS" value="answer"> <span>438</span></label><label><input type="radio" autocomplete="off" name="radio_VPJSFUKUAS" value=""> <span>858</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-53-contents" aria-controls="callout-53" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡intente hacerlo primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-53" class="callout-53-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>La unidad de vigilancia desea centrarse en los casos confirmados en los informes. Esto se debe a que las pruebas de laboratorio son de rutina en Feveria y, por lo tanto, informar los casos sospechosos sería innecesariamente inexacto, ya que un alto porcentaje de estos terminan siendo descartados.</p>
<p>La decisión de publicar casos sospechosos puede ser diferente en otros contextos. Por ejemplo, si la tasa de positividad es alta (la mayoría de los casos resultan ser verdaderos al realizar la prueba), y las pruebas no son frecuentes o tardan mucho en realizarse, lo que retrasaría la notificación, se recomendaría que las tendencias de casos sospechosos fueran suficientemente precisas y más oportunas que esperar la confirmación de laboratorio.</p>
<p>Crear la nueva <em>linelist</em> con la función <code>filter()</code>:</p>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="ot">&lt;-</span> datos_unidos <span class="sc">|&gt;</span> </span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(categoria_casos<span class="sc">==</span><span class="st">"Confirmado"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Y compruebe el número de filas consultando la información de su Entorno, o con <code>nrow()</code>:</p>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datos_unidos_confirmados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>[1] 438</p>
</div>
</div>
</div>
</section>
</section>
<section id="paso-7.-análisis-descriptivo-de-los-casos-confirmados" class="level2">
<h2 class="anchored" data-anchor-id="paso-7.-análisis-descriptivo-de-los-casos-confirmados">Paso 7. Análisis descriptivo de los casos confirmados</h2>
<p>Ahora que ya tiene la lista de casos confirmados de enfermedades de notificación obligatoria reportados en Feveria en 2024, está listo o lista para llevar a cabo la parte final de su análisis de vigilancia. Se trata de resumir las cinco enfermedades de notificación obligatoria por zonas geográficas y por épocas.</p>
<p><strong>Sugerencia</strong> Normalmente, el análisis de vigilancia también incluye el análisis por persona. Podría ampliar este estudio de caso analizando también los casos por variables demográficas.</p>
<section id="paso-7.1-describir-los-casos-por-distrito" class="level3">
<h3 class="anchored" data-anchor-id="paso-7.1-describir-los-casos-por-distrito">Paso 7.1 Describir los casos por distrito</h3>
<section id="tarea-a-elaborar-una-tabla-de-casos-confirmados-por-distrito-incluidos-los-totales-utilizando-las-funciones-tabyl-y-adorn_xxx" class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-elaborar-una-tabla-de-casos-confirmados-por-distrito-incluidos-los-totales-utilizando-las-funciones-tabyl-y-adorn_xxx"><strong>Tarea A: Elaborar una tabla de casos confirmados por distrito, incluidos los totales, utilizando las funciones <code>tabyl()</code> y <code>adorn_xxx()</code></strong></h4>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Qué enfermedad de notificación obligatoria se reportó con mayor frecuencia en 2024, al restringirse solo a los casos confirmados?
<div id="radio_WLWSPGBLMG" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_WLWSPGBLMG" value="answer"> <span>Dengue</span></label><label><input type="radio" autocomplete="off" name="radio_WLWSPGBLMG" value=""> <span>Paludismo</span></label><label><input type="radio" autocomplete="off" name="radio_WLWSPGBLMG" value=""> <span>Fiebre amarilla</span></label>
</div>
¿Por qué la enfermedad más reportada es diferente al comparar los casos confirmados con los sospechosos?
<div id="radio_FZQGMLENNE" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_FZQGMLENNE" value=""> <span>La sensibilidad y especificidad del diagnóstico clínico pueden variar según la enfermedad</span></label><label><input type="radio" autocomplete="off" name="radio_FZQGMLENNE" value=""> <span>El desempeño de las pruebas utilizadas en el laboratorio puede variar según la enfermedad</span></label><label><input type="radio" autocomplete="off" name="radio_FZQGMLENNE" value=""> <span>Puede haber sesgos en la notificación</span></label><label><input type="radio" autocomplete="off" name="radio_FZQGMLENNE" value="answer"> <span>¡Todas las anteriores!</span></label>
</div>
¿Qué distrito reportó el mayor número de casos confirmados de cólera en 2024?
<div id="radio_BGHAOOOSTE" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_BGHAOOOSTE" value=""> <span>Lago Minara</span></label><label><input type="radio" autocomplete="off" name="radio_BGHAOOOSTE" value="answer"> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_BGHAOOOSTE" value=""> <span>Kasara</span></label>
</div>
¿Cuántos casos confirmados de cólera reportados en 2024 correspondieron a residentes de Feveria Central?
<div id="radio_BSOYTZHZMI" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_BSOYTZHZMI" value="answer"> <span>35</span></label><label><input type="radio" autocomplete="off" name="radio_BSOYTZHZMI" value=""> <span>42</span></label><label><input type="radio" autocomplete="off" name="radio_BSOYTZHZMI" value=""> <span>4</span></label>
</div>
¿Qué distrito reportó el mayor número de casos confirmados de paludismo en 2024?
<div id="radio_PRNABTDNHI" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_PRNABTDNHI" value="answer"> <span>Lago Minara</span></label><label><input type="radio" autocomplete="off" name="radio_PRNABTDNHI" value=""> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_PRNABTDNHI" value=""> <span>Kasara</span></label>
</div>
¿Confirman estos datos que el dengue es la enfermedad infecciosa más común en Feveria?
<div id="radio_KRAYIEZXMT" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_KRAYIEZXMT" value="answer"> <span>No - otra enfermedad puede estar subnotificada o no ser de notificación obligatoria</span></label><label><input type="radio" autocomplete="off" name="radio_KRAYIEZXMT" value=""> <span>Sí - si es la más reportada entonces debe ser la más común</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-55-contents" aria-controls="callout-55" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡inténtelo usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-55" class="callout-55-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utilizando <code>tabyl()</code> podemos ver que el dengue fue la enfermedad más reportada en Feveria en 2024 cuando se restringe a casos confirmados, con 186 casos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="sc">|&gt;</span> </span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(enfermedad_notificada) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> enfermedad_notificada   n    percent
                colera  38 0.08675799
                dengue 186 0.42465753
       fiebre amarilla  33 0.07534247
       fiebre tifoidea   7 0.01598174
             paludismo 174 0.39726027</code></pre>
</div>
</div>
<p>Nótese que esto es diferente a los casos sospechosos, ¡donde el paludismo fue la enfermedad más reportada (con 533 casos sospechosos)! Esto ya se insinuó anteriormente, cuando observamos que la tasa de positividad de los casos sospechosos de dengue era mayor que la de los casos sospechosos de paludismo. Esto puede deberse a diferentes razones, por ejemplo, el método de diagnóstico clínico utilizado para el paludismo puede ser menos específico (lo que podría significar que muchos de los casos sospechosos en realidad se deban a otras enfermedades), o bien la prueba utilizada para el dengue puede ser más sensible.</p>
<p>Para realizar una tabulación cruzada con el distrito residencial, añada las funciones <code>adorn_xxx()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="sc">|&gt;</span> </span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(enfermedad_notificada, distrito_residencial) <span class="sc">|&gt;</span> </span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> enfermedad_notificada Feveria Central     Kasara Lago Minara        Total
                colera      92.1% (35)  7.9%  (3)  0.0%   (0) 100.0%  (38)
                dengue       8.6% (16) 17.2% (32) 74.2% (138) 100.0% (186)
       fiebre amarilla       0.0%  (0) 18.2%  (6) 81.8%  (27) 100.0%  (33)
       fiebre tifoidea      71.4%  (5) 28.6%  (2)  0.0%   (0) 100.0%   (7)
             paludismo      14.9% (26) 22.4% (39) 62.6% (109) 100.0% (174)
                 Total      18.7% (82) 18.7% (82) 62.6% (274) 100.0% (438)</code></pre>
</div>
</div>
<p>Al igual que con los casos sospechosos, podemos ver que la mayoría de los casos confirmados de dengue, paludismo y fiebre amarilla se localizaron en el Lago Minara, la zona lacustre con mayor densidad de mosquitos y, por lo tanto, de enfermedades transmitidas por vectores. La mayoría de los casos confirmados de cólera y fiebre tifoidea se observaron en Feveria Central, donde hay problemas de agua y saneamiento.</p>
<p>Los datos sugieren que las enfermedades transmitidas por vectores (dengue y paludismo) son especialmente preocupantes en este país tropical. Sin embargo, no sabemos con certeza cuál es la enfermedad más común ni cuáles son los patrones subyacentes: sólo cinco enfermedades son de notificación obligatoria, y normalmente los casos notificados sólo representan una fracción de los casos reales en la comunidad.</p>
</div>
</div>
</div>
</section>
</section>
<section id="paso-7.2-describir-los-casos-a-lo-largo-del-tiempo" class="level3">
<h3 class="anchored" data-anchor-id="paso-7.2-describir-los-casos-a-lo-largo-del-tiempo">Paso 7.2 Describir los casos a lo largo del tiempo</h3>
<p>Producirá esta curva epidémica en las siguientes tareas distintas.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multidisease_surveillance.es_files/figure-html/unnamed-chunk-91-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<section id="tarea-a-comience-utilizando-ggplot-y-geom_histogram-para-producir-una-curva-epidémica-general-para-feveria-mostrando-el-número-de-casos-por-semana-de-notificación-con-barras-apiladas-y-coloreadas-según-la-enfermedad" class="level4">
<h4 class="anchored" data-anchor-id="tarea-a-comience-utilizando-ggplot-y-geom_histogram-para-producir-una-curva-epidémica-general-para-feveria-mostrando-el-número-de-casos-por-semana-de-notificación-con-barras-apiladas-y-coloreadas-según-la-enfermedad"><strong>Tarea A: Comience utilizando <code>ggplot()</code> y <code>geom_histogram()</code> para producir una curva epidémica general para Feveria, mostrando el número de casos por semana de notificación, con barras apiladas y coloreadas según la enfermedad</strong></h4>
<p>Asegúrese de especificar el argumento <code>binwidth=7</code> para que cada barra del histograma represente el número de casos en un periodo de 7 días.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Cuándo se reportó el primer caso de fiebre tifoidea en Feveria en 2024?
<div id="radio_TUFEKEHSCG" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_TUFEKEHSCG" value=""> <span>Enero 2024</span></label><label><input type="radio" autocomplete="off" name="radio_TUFEKEHSCG" value="answer"> <span>Mayo 2024</span></label><label><input type="radio" autocomplete="off" name="radio_TUFEKEHSCG" value=""> <span>Octubre 2024</span></label>
</div>
Según este gráfico, ¿cuál fue el mayor número de casos de dengue reportados en una sola semana en 2024?
<div id="radio_DLDWNCHKLR" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_DLDWNCHKLR" value=""> <span>10</span></label><label><input type="radio" autocomplete="off" name="radio_DLDWNCHKLR" value=""> <span>20</span></label><label><input type="radio" autocomplete="off" name="radio_DLDWNCHKLR" value=""> <span>30</span></label><label><input type="radio" autocomplete="off" name="radio_DLDWNCHKLR" value="answer"> <span>¡Es muy difícil saberlo según este gráfico apilado!</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-57-contents" aria-controls="callout-57" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡inténtelo usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-57" class="callout-57-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Este es un código sencillo para producir la curva epidémica. Tenga en cuenta que aún no especificamos los colores ni en qué día de la semana comienza cada período de 7 días.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="sc">|&gt;</span> </span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>((<span class="fu">aes</span>(<span class="at">x =</span> fecha_notificada, <span class="at">fill =</span> enfermedad_notificada)), <span class="at">binwidth=</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multidisease_surveillance.es_files/figure-html/unnamed-chunk-93-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Consulte el <a href="https://epirhandbook.com/es/dates.es.html">capítulo de Trabajando con Fechas en el Manual de R para Epis</a> si desea un formato de fecha más específico o que el eje x indique el número de semana (semanas 1 a 52).</p>
<p>Importante: ¡no es fácil ver las tendencias por enfermedad cuando se grafican apiladas de esta forma! Para visualizar estas tendencias temporales, debe producir un histograma para cada enfermedad.</p>
</div>
</div>
</div>
</section>
<section id="tarea-b-utilizar-ggplot-para-producir-una-curva-epidémica-que-muestre-el-número-de-casos-por-semana-de-notificación-facetado-y-no-apilado-por-enfermedad" class="level4">
<h4 class="anchored" data-anchor-id="tarea-b-utilizar-ggplot-para-producir-una-curva-epidémica-que-muestre-el-número-de-casos-por-semana-de-notificación-facetado-y-no-apilado-por-enfermedad"><strong>Tarea B: Utilizar <code>ggplot()</code> para producir una curva epidémica que muestre el número de casos por semana de notificación, facetado (y no apilado) por enfermedad</strong></h4>
<p>Utilice <code>facet_wrap()</code> para crear fácilmente pequeños gráficos multiples, uno por enfermedad. Para entender mejor la función, puede consultar la página <a href="https://epirhandbook.com/es/ggplot_basics.es.html#ggplot_basics_facet">Facetas del capítulo sobre ggplot2 en el Manual de R para Epis</a>.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
Según este gráfico facetado, ¿cuál fue el mayor número de casos notificados de dengue en una sola semana en 2024?
<div id="radio_EZVIFRQWIX" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_EZVIFRQWIX" value=""> <span>11</span></label><label><input type="radio" autocomplete="off" name="radio_EZVIFRQWIX" value="answer"> <span>15</span></label><label><input type="radio" autocomplete="off" name="radio_EZVIFRQWIX" value=""> <span>29</span></label><label><input type="radio" autocomplete="off" name="radio_EZVIFRQWIX" value=""> <span>¡Todavía no lo puedo determinar!</span></label>
</div>
¿En qué distritos residían los casos de dengue notificados en esa semana?
<div id="radio_SPJFEIDPEE" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_SPJFEIDPEE" value=""> <span>Los tres distritos</span></label><label><input type="radio" autocomplete="off" name="radio_SPJFEIDPEE" value=""> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_SPJFEIDPEE" value=""> <span>Kasara</span></label><label><input type="radio" autocomplete="off" name="radio_SPJFEIDPEE" value=""> <span>Lago Minara</span></label><label><input type="radio" autocomplete="off" name="radio_SPJFEIDPEE" value="answer"> <span>Este gráfico no muestra esa información</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-59-contents" aria-controls="callout-59" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡inténtelo usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-59" class="callout-59-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Ahora puede ver una curva epidémica por enfermedad. Y puede ver que durante una semana de julio se notificaron 15 casos de dengue. Sin embargo, este gráfico aún no muestra ninguna información geográfica.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="sc">|&gt;</span> </span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>((<span class="fu">aes</span>(<span class="at">x =</span> fecha_notificada)), <span class="at">binwidth=</span><span class="dv">7</span>) <span class="sc">+</span> </span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(.<span class="sc">~</span>enfermedad_notificada)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multidisease_surveillance.es_files/figure-html/unnamed-chunk-95-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tarea-c-ahora-añada-un-color-de-relleno-a-su-gráfico-facetado-para-que-las-barras-se-apilen-por-distrito" class="level4">
<h4 class="anchored" data-anchor-id="tarea-c-ahora-añada-un-color-de-relleno-a-su-gráfico-facetado-para-que-las-barras-se-apilen-por-distrito"><strong>Tarea C: Ahora añada un color de relleno a su gráfico facetado para que las barras se apilen por distrito</strong></h4>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿En qué distrito residían los 15 casos de dengue notificados en una semana de julio de 2024?
<div id="radio_VJDFUIOKQT" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_VJDFUIOKQT" value="answer"> <span>Los tres distritos</span></label><label><input type="radio" autocomplete="off" name="radio_VJDFUIOKQT" value=""> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_VJDFUIOKQT" value=""> <span>Kasara</span></label><label><input type="radio" autocomplete="off" name="radio_VJDFUIOKQT" value=""> <span>Lago Minara</span></label>
</div>
¿En qué distrito se notificó el primer caso de fiebre tifoidea en 2024?
<div id="radio_ZLZHUJLSAH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ZLZHUJLSAH" value=""> <span>Kasara</span></label><label><input type="radio" autocomplete="off" name="radio_ZLZHUJLSAH" value="answer"> <span>Feveria Central</span></label><label><input type="radio" autocomplete="off" name="radio_ZLZHUJLSAH" value=""> <span>Lago Minara</span></label><label><input type="radio" autocomplete="off" name="radio_ZLZHUJLSAH" value=""> <span>¡Todavía no lo puedo determinar!</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-61-contents" aria-controls="callout-61" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡inténtelo usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-61" class="callout-61-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Ahora puede ver una curva epidémica por enfermedad, con la coloración que refleja el distrito en el que reside el caso.</p>
<p>Se puede ver que los 15 casos notificados de dengue en una sola semana vivían en tres distritos diferentes. También puede ver que el primer caso de fiebre tifoidea se registró en Feveria Central.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="sc">|&gt;</span> </span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>((<span class="fu">aes</span>(<span class="at">x =</span> fecha_notificada, <span class="at">fill =</span> distrito_residencial)), <span class="at">binwidth=</span><span class="dv">7</span>) <span class="sc">+</span> </span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(.<span class="sc">~</span>enfermedad_notificada)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multidisease_surveillance.es_files/figure-html/unnamed-chunk-97-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tarea-d-añadir-más-detalles-a-su-gráfico-facetado-para-que-esté-listo-para-su-publicación." class="level4">
<h4 class="anchored" data-anchor-id="tarea-d-añadir-más-detalles-a-su-gráfico-facetado-para-que-esté-listo-para-su-publicación."><strong>Tarea D: Añadir más detalles a su gráfico facetado para que esté listo para su publicación.</strong></h4>
<p>Puede especificar:</p>
<ul>
<li>El tema o diseño predeterminado del gráfico general (por ejemplo, color de fondo, aspecto de las líneas de la cuadrícula)</li>
<li>El título y las etiquetas</li>
<li>Los colores de las barras (con <code>scale_fill_manual()</code>)</li>
<li>El formato y espaciado de las fechas a lo largo del eje x (con <code>scale_x_date</code>)</li>
<li>¡Muchas otras cosas!</li>
</ul>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿El cólera y la fiebre tifoidea parecen endémicas?
<div id="radio_INZBKSZULU" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_INZBKSZULU" value="answer"> <span>No - los datos sugieren brotes pequeños y ocasionales</span></label><label><input type="radio" autocomplete="off" name="radio_INZBKSZULU" value=""> <span>Sí los dos son endémicos</span></label>
</div>
¿Hubo un periodo particular del año en que el paludismo alcanzó su pico en 2024?
<div id="radio_IHKNQVJYSR" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_IHKNQVJYSR" value=""> <span>Sí - alrededor de noviembre/diciembre</span></label><label><input type="radio" autocomplete="off" name="radio_IHKNQVJYSR" value="answer"> <span>Sí - alrededor de julio/agosto (verano)</span></label><label><input type="radio" autocomplete="off" name="radio_IHKNQVJYSR" value=""> <span>No, se mantuvo constantemente alto</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-63-contents" aria-controls="callout-63" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡inténtelo usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-63" class="callout-63-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Aquí está el código completo. Puede ver que este ejemplo contiene modificaciones adicionales. Por un lado, dentro de <code>facet_wrap()</code> se ha especificado que el panel tenga dos columnas. Por el otro, dentro de <code>scale_x_date()</code> se ha especificado que se muestre solo el día y el mes en el eje x.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="sc">|&gt;</span> </span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>((<span class="fu">aes</span>(<span class="at">x =</span> fecha_notificada, <span class="at">fill =</span> distrito_residencial)), <span class="at">binwidth=</span><span class="dv">7</span>) <span class="sc">+</span></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(.<span class="sc">~</span>enfermedad_notificada, <span class="at">ncol=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Distrito residencial"</span>,</span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Fecha notificada por el centro de salud"</span>,</span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Recuento"</span>,</span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Número de casos confirmados de cólera, dengue, paludismo, fiebre tifoidea, y fiebre amarilla por semana en Feveria, 2024"</span>) <span class="sc">+</span></span>
<span id="cb110-10"><a href="#cb110-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"navy"</span>, <span class="st">"lightblue"</span>, <span class="st">"seagreen"</span>)) <span class="sc">+</span></span>
<span id="cb110-11"><a href="#cb110-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 month"</span>, </span>
<span id="cb110-12"><a href="#cb110-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">date_labels =</span> <span class="st">"%d %b"</span>) <span class="sc">+</span></span>
<span id="cb110-13"><a href="#cb110-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>,</span>
<span id="cb110-14"><a href="#cb110-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multidisease_surveillance.es_files/figure-html/unnamed-chunk-99-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>También podemos observar en la curva epidémica que el cólera y la fiebre tifoidea parecen presentarse como brotes aislados, en lugar de mostrar endemicidad. El paludismo y el dengue, sin embargo, estuvieron presentes en Feveria durante todo el año, con un pico de paludismo más evidente en los meses de verano.</p>
</div>
</div>
</div>
</section>
<section id="tarea-e-elaborar-una-tabla-que-resuma-las-fechas" class="level4">
<h4 class="anchored" data-anchor-id="tarea-e-elaborar-una-tabla-que-resuma-las-fechas"><strong>Tarea E: Elaborar una tabla que resuma las fechas</strong></h4>
<p>Esta vez, utilice <code>group_by()</code> y <code>summarize()</code> para producir una tabla por distrito que muestre las fechas más tempranas y más tardías de las notificaciones.</p>
<p>Puede ajustar la tabla con <code>filter()</code> para crearla para un distrito a la vez.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Preguntas
</div>
</div>
<div class="callout-body-container callout-body">
<div class="webex-check">
¿Cuándo se notificó el primer caso de dengue en <strong>Feveria</strong> en 2024?
<div id="radio_DSICXGYSNZ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_DSICXGYSNZ" value=""> <span>18 de enero 2024</span></label><label><input type="radio" autocomplete="off" name="radio_DSICXGYSNZ" value="answer"> <span>17 de enero 2024</span></label><label><input type="radio" autocomplete="off" name="radio_DSICXGYSNZ" value=""> <span>12 de febrero 2024</span></label>
</div>
¿Cuándo se notificó el último caso de dengue en <strong>Feveria Central</strong> en 2024?
<div id="radio_IEWQMWBPQH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_IEWQMWBPQH" value="answer"> <span>22 de agosto 2024</span></label><label><input type="radio" autocomplete="off" name="radio_IEWQMWBPQH" value=""> <span>18 de noviembre 2024</span></label><label><input type="radio" autocomplete="off" name="radio_IEWQMWBPQH" value=""> <span>25 de diciembre 2024</span></label>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-65-contents" aria-controls="callout-65" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Haga clic para ver la solución (¡inténtelo usted primero!)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-65" class="callout-65-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Agrupe los datos por enfermedad y luego extraiga la primera y la última fecha para ver la cronología general de cada enfermedad en Feveria.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="sc">|&gt;</span> </span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(enfermedad_notificada) <span class="sc">|&gt;</span> </span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">primer_reporte =</span> <span class="fu">min</span>(fecha_notificada), </span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">ultimo_reporte =</span> <span class="fu">max</span>(fecha_notificada)) <span class="sc">|&gt;</span></span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  enfermedad_notificada primer_reporte ultimo_reporte
  &lt;chr&gt;                 &lt;date&gt;         &lt;date&gt;        
1 colera                2024-06-03     2024-09-23    
2 dengue                2024-01-17     2024-11-18    
3 fiebre amarilla       2024-03-08     2024-08-23    
4 fiebre tifoidea       2024-05-02     2024-11-07    
5 paludismo             2024-01-08     2024-12-25    </code></pre>
</div>
</div>
<p>Añada <code>filter()</code> al código para obtener las fechas de “Feveria Central”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="sc">|&gt;</span> </span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(distrito_residencial <span class="sc">==</span> <span class="st">"Feveria Central"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(enfermedad_notificada) <span class="sc">|&gt;</span> </span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">primer_reporte =</span> <span class="fu">min</span>(fecha_notificada), </span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">recent_reported =</span> <span class="fu">max</span>(fecha_notificada)) <span class="sc">|&gt;</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  enfermedad_notificada primer_reporte recent_reported
  &lt;chr&gt;                 &lt;date&gt;         &lt;date&gt;         
1 colera                2024-06-03     2024-09-23     
2 dengue                2024-01-29     2024-08-22     
3 fiebre tifoidea       2024-05-02     2024-11-07     
4 paludismo             2024-01-29     2024-12-17     </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="conclusión" class="level2">
<h2 class="anchored" data-anchor-id="conclusión">Conclusión</h2>
<p>¡Vaya! De acuerdo con los objetivos de este estudio de caso, usted ha hecho lo siguiente:</p>
<ol type="1">
<li><p>Ha utilizado funciones clave de R para limpiar, procesar y unir bases de datos, además de crear nuevas columnas utilizando condiciones lógicas.</p></li>
<li><p>Para tomar decisiones sobre el procesamiento de datos, ha realizado inspecciones y comprobaciones de los datos.</p></li>
<li><p>Realizó un análisis descriptivo exhaustivo para comprender las notificaciones y los datos de laboratorio, antes y después de unirlos. En relación a las cuatro preguntas originales de su supervisor, puede decir:</p>
<ul>
<li><strong>¿Cuántos casos sospechosos de las diferentes enfermedades de notificación obligatoria se reportaron en 2024, y cuál fue la más frecuente?</strong> Según los registros del sistema de vigilancia de enfermedades de notificación obligatoria, el paludismo fue la enfermedad más común en Feveria en 2024: 533 casos sospechosos de paludismo, 273 casos sospechosos de dengue, 100 de fiebre amarilla, 46 de cólera y 35 de fiebre tifoidea.</li>
<li><strong>¿Qué porcentaje de ellos acabo confirmándose?</strong> Casi el 80% de los casos de notificación obligatoria reportados en 2024 tenían un resultado de pruebas de laboratorio en el momento en que se creó la base de datos, con algunas variaciones según la enfermedad. En total, el 56% de los casos notificados acabaron confirmándose, pero este porcentaje osciló entre sólo el 23% en el caso de la fiebre tifoidea (7 casos confirmados de 31 sospechosos) y el 95% en el caso del cólera (38 casos confirmados de 40 sospechosos). Además, la tasa de positividad fue mayor en los casos sospechosos de dengue que en los de paludismo (87% frente a 41%).</li>
<li><strong>¿Cuántos casos confirmados de las diferentes enfermedades de notificación obligatoria se reportaron en 2024, y cuál fue la más frecuente?</strong> Los casos confirmados siguieron una tendencia ligeramente diferente a la de los casos sospechosos: la infección notificada con más frecuencia fue el dengue, con 186 casos, seguido por el paludismo (174), el cólera (38), la fiebre amarilla (33) y la fiebre tifoidea (7).</li>
<li><strong>¿Cómo se distribuyeron geográfica y temporalmente los casos confirmados en Feveria?</strong> Feveria experimentó transmisión de dengue y paludismo durante todo el año, con un pico en verano, y se concentró en el distrito de Lago Minara. También se registraron brotes pequeños y poco frecuentes de enfermedades diarreicas, como el cólera y la fiebre tifoidea, sobre todo en la zona urbana de Feveria Central, donde podrían existir problemas de agua y saneamiento.</li>
</ul></li>
<li><p>Por último, ha reflexionado sobre cómo la calidad y exhaustividad de los datos están determinados por procesos inherentes a la transferencia de los mismos entre los sistemas de vigilancia y los laboratorios.</p></li>
</ol>
<p>Tiene un gran potencial por delante. Puede utilizar datos de vigilancia para explorar patrones por edad o sexo, calcular tasas con datos poblacionales e incluso analizar retrasos en la notificación al comparar las diferentes fechas en su base de datos.</p>
<p>Ha construido una base sólida y tiene las herramientas óptimas para llevar su análisis al siguiente nivel. Siga adelante: ¡le esperan descubrimientos emocionantes!</p>
<p>Para profundizar, consulte los demás estudios de casos o explore el <a href="https://www.epirhandbook.com/es/index.es.html">Manual de R para Epis</a>.</p>
</section>
<section id="código-de-limpieza-y-análisis-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="código-de-limpieza-y-análisis-de-datos">Código de limpieza y análisis de datos</h2>
<p>A continuación encontrará un script con todos los pasos para la limpieza de datos y el análisis descriptivo. Observe cómo los análisis se incluyen al final, en vez de intercalarse entre los pasos de limpieza. Esta es una forma más ordenada de organizar el script.</p>
<p>Por motivos de brevedad, el código que aparece a continuación no incluye todas las inspecciones y comprobaciones realizadas durante el proceso, pero si desea puede crear una sección con dichas comprobaciones.</p>
<p>La parte superior de su script también debería contener información para ayudar al lector a entender cuál es el propósito del script, así como comentarios a lo largo del mismo. Más adelante se agradecerá haber añadido estos comentarios.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-66-contents" aria-controls="callout-66" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Código para limpiar y analizar los datos de notificación y los datos de laboratorio de Feveria, 2024
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-66" class="callout-66-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Código para limpiar y analizar los datos de notificación y de laboratorio de Feveria, 2024</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Fecha:</span></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Elaborado por:</span></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalar paquetes -------------------------------------------------</span></span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Asegurarse que el paquete "pacman" está instalado</span></span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) {</span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"pacman"</span>) }</span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalar (si es necesario) desde CRAN y cargar los paquetes necesarios</span></span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb115-12"><a href="#cb115-12" aria-hidden="true" tabindex="-1"></a>  rio,        <span class="co"># para importar datos  </span></span>
<span id="cb115-13"><a href="#cb115-13" aria-hidden="true" tabindex="-1"></a>  skimr,      <span class="co"># para revisar los datos</span></span>
<span id="cb115-14"><a href="#cb115-14" aria-hidden="true" tabindex="-1"></a>  janitor,    <span class="co"># para limpieza de datos y crear tablas </span></span>
<span id="cb115-15"><a href="#cb115-15" aria-hidden="true" tabindex="-1"></a>  lubridate,  <span class="co"># para limpieza de fechas</span></span>
<span id="cb115-16"><a href="#cb115-16" aria-hidden="true" tabindex="-1"></a>  epikit,     <span class="co"># para crear grupos de edad </span></span>
<span id="cb115-17"><a href="#cb115-17" aria-hidden="true" tabindex="-1"></a>  gtsummary,  <span class="co"># para generar resúmenes estadísticos, pruebas y regresiones</span></span>
<span id="cb115-18"><a href="#cb115-18" aria-hidden="true" tabindex="-1"></a>  apyramid,   <span class="co"># para graficar pirámides de edad  </span></span>
<span id="cb115-19"><a href="#cb115-19" aria-hidden="true" tabindex="-1"></a>  flextable,  <span class="co"># para crear tablas listas para presentar </span></span>
<span id="cb115-20"><a href="#cb115-20" aria-hidden="true" tabindex="-1"></a>  naniar,     <span class="co"># para evaluar los datos faltantes</span></span>
<span id="cb115-21"><a href="#cb115-21" aria-hidden="true" tabindex="-1"></a>  remotes,    <span class="co"># para instalar paquetes necesarios para descargar datos </span></span>
<span id="cb115-22"><a href="#cb115-22" aria-hidden="true" tabindex="-1"></a>  tidyverse   <span class="co"># para gestión y visualización de datos </span></span>
<span id="cb115-23"><a href="#cb115-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb115-24"><a href="#cb115-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-25"><a href="#cb115-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Importar datos --------------------------------------------</span></span>
<span id="cb115-26"><a href="#cb115-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-27"><a href="#cb115-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Datos de notificación </span></span>
<span id="cb115-28"><a href="#cb115-28" aria-hidden="true" tabindex="-1"></a>datos_notif_crudos <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"datos/notificaciones_multienfermedad.xlsx"</span>)</span>
<span id="cb115-29"><a href="#cb115-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-30"><a href="#cb115-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Datos de laboratorio</span></span>
<span id="cb115-31"><a href="#cb115-31" aria-hidden="true" tabindex="-1"></a>datos_lab_crudos <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"datos/pruebas_multienfermedad.csv"</span>)</span>
<span id="cb115-32"><a href="#cb115-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-33"><a href="#cb115-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Limpiar datos de notificación --------------------------------</span></span>
<span id="cb115-34"><a href="#cb115-34" aria-hidden="true" tabindex="-1"></a>datos_notif <span class="ot">&lt;-</span> datos_notif_crudos <span class="sc">|&gt;</span> </span>
<span id="cb115-35"><a href="#cb115-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> <span class="fu">names</span>()</span>
<span id="cb115-36"><a href="#cb115-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb115-37"><a href="#cb115-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">fecha_notificada =</span> fecha_notificada_por_el_centro_de_salud_la_comunidad,</span>
<span id="cb115-38"><a href="#cb115-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_notificacion =</span> id_de_notificacion) <span class="sc">|&gt;</span></span>
<span id="cb115-39"><a href="#cb115-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id_notificacion, distrito_residencial, enfermedad_notificada, fecha_notificada) <span class="sc">|&gt;</span> </span>
<span id="cb115-40"><a href="#cb115-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">distrito_residencial =</span> <span class="fu">case_match</span>(</span>
<span id="cb115-41"><a href="#cb115-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_to_title</span>(distrito_residencial),</span>
<span id="cb115-42"><a href="#cb115-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"F Central"</span>, <span class="st">"Feveria C"</span>, <span class="st">"Feveria Central"</span>) <span class="sc">~</span> <span class="st">"Feveria Central"</span>,</span>
<span id="cb115-43"><a href="#cb115-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"Kasara"</span>, <span class="st">"Ksr"</span>) <span class="sc">~</span> <span class="st">"Kasara"</span>,</span>
<span id="cb115-44"><a href="#cb115-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"L Minara"</span>, <span class="st">"Lago Minara"</span>, <span class="st">"Lakeside"</span>) <span class="sc">~</span> <span class="st">"Lago Minara"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb115-45"><a href="#cb115-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fecha_notificada =</span> <span class="fu">ymd</span>(fecha_notificada)) </span>
<span id="cb115-46"><a href="#cb115-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-47"><a href="#cb115-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-48"><a href="#cb115-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Limpiar datos de laboratorio ---------------------------------</span></span>
<span id="cb115-49"><a href="#cb115-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Limpiar los valores</span></span>
<span id="cb115-50"><a href="#cb115-50" aria-hidden="true" tabindex="-1"></a>datos_lab <span class="ot">&lt;-</span> datos_lab_crudos <span class="sc">|&gt;</span> </span>
<span id="cb115-51"><a href="#cb115-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">valor =</span> <span class="fu">case_match</span>(valor, </span>
<span id="cb115-52"><a href="#cb115-52" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">c</span>(<span class="st">"P"</span>, <span class="st">"PO1"</span>, <span class="st">"PO139"</span>) <span class="sc">~</span> <span class="st">"Positivo"</span>,</span>
<span id="cb115-53"><a href="#cb115-53" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"N"</span> <span class="sc">~</span> <span class="st">"Negativo"</span>,</span>
<span id="cb115-54"><a href="#cb115-54" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"Indeterminado"</span>))</span>
<span id="cb115-55"><a href="#cb115-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-56"><a href="#cb115-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear datos de laboratorio a nivel de prueba </span></span>
<span id="cb115-57"><a href="#cb115-57" aria-hidden="true" tabindex="-1"></a>datos_lab_pruebas <span class="ot">&lt;-</span> datos_lab <span class="sc">|&gt;</span> </span>
<span id="cb115-58"><a href="#cb115-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(objetivo <span class="sc">!=</span> <span class="st">"Dengue IgG"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-59"><a href="#cb115-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id_muestra) <span class="sc">|&gt;</span> </span>
<span id="cb115-60"><a href="#cb115-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(valor)) <span class="sc">|&gt;</span> </span>
<span id="cb115-61"><a href="#cb115-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-62"><a href="#cb115-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb115-63"><a href="#cb115-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-64"><a href="#cb115-64" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear datos de laboratorio a nivel de caso</span></span>
<span id="cb115-65"><a href="#cb115-65" aria-hidden="true" tabindex="-1"></a>datos_lab_casos <span class="ot">&lt;-</span> datos_lab_pruebas <span class="sc">|&gt;</span> </span>
<span id="cb115-66"><a href="#cb115-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id_notificacion) <span class="sc">|&gt;</span> </span>
<span id="cb115-67"><a href="#cb115-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(valor)) <span class="sc">|&gt;</span> </span>
<span id="cb115-68"><a href="#cb115-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-69"><a href="#cb115-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb115-70"><a href="#cb115-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-71"><a href="#cb115-71" aria-hidden="true" tabindex="-1"></a><span class="co"># Unir datos de notificación y de laboratorio  ----------------------------</span></span>
<span id="cb115-72"><a href="#cb115-72" aria-hidden="true" tabindex="-1"></a>datos_unidos <span class="ot">&lt;-</span> <span class="fu">left_join</span>(datos_notif, datos_lab_casos, <span class="at">by =</span> <span class="st">"id_notificacion"</span>)</span>
<span id="cb115-73"><a href="#cb115-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-74"><a href="#cb115-74" aria-hidden="true" tabindex="-1"></a><span class="co"># Limpiar base de datos unificada -----------------------------------------</span></span>
<span id="cb115-75"><a href="#cb115-75" aria-hidden="true" tabindex="-1"></a>datos_unidos <span class="ot">&lt;-</span> datos_unidos <span class="sc">|&gt;</span> </span>
<span id="cb115-76"><a href="#cb115-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">categoria_casos =</span> <span class="fu">case_when</span>(</span>
<span id="cb115-77"><a href="#cb115-77" aria-hidden="true" tabindex="-1"></a>    valor<span class="sc">==</span><span class="st">"Positivo"</span> <span class="sc">~</span> <span class="st">"Confirmado"</span>,</span>
<span id="cb115-78"><a href="#cb115-78" aria-hidden="true" tabindex="-1"></a>    valor<span class="sc">==</span><span class="st">"Negativo"</span> <span class="sc">~</span> <span class="st">"Descartado"</span>,</span>
<span id="cb115-79"><a href="#cb115-79" aria-hidden="true" tabindex="-1"></a>    valor<span class="sc">==</span><span class="st">"Indeterminado"</span> <span class="sc">|</span> <span class="fu">is.na</span>(valor) <span class="sc">~</span> <span class="st">"Sospechoso"</span>))</span>
<span id="cb115-80"><a href="#cb115-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-81"><a href="#cb115-81" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="ot">&lt;-</span> datos_unidos <span class="sc">|&gt;</span> </span>
<span id="cb115-82"><a href="#cb115-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(categoria_casos<span class="sc">==</span><span class="st">"Confirmado"</span>)</span>
<span id="cb115-83"><a href="#cb115-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-84"><a href="#cb115-84" aria-hidden="true" tabindex="-1"></a><span class="co"># ANÁLISIS ---------------------------------------------------------</span></span>
<span id="cb115-85"><a href="#cb115-85" aria-hidden="true" tabindex="-1"></a><span class="co"># Número de casos sospechosos en Feveria </span></span>
<span id="cb115-86"><a href="#cb115-86" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_notif, enfermedad_notificada)</span>
<span id="cb115-87"><a href="#cb115-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-88"><a href="#cb115-88" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribución de casos sospechosos por distrito </span></span>
<span id="cb115-89"><a href="#cb115-89" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_notif, enfermedad_notificada, distrito_residencial) <span class="sc">|&gt;</span></span>
<span id="cb115-90"><a href="#cb115-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span></span>
<span id="cb115-91"><a href="#cb115-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span></span>
<span id="cb115-92"><a href="#cb115-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span>
<span id="cb115-93"><a href="#cb115-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-94"><a href="#cb115-94" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribución de los resultados por prueba especifíca de cada enfermedad </span></span>
<span id="cb115-95"><a href="#cb115-95" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_lab_pruebas, prueba, valor) <span class="sc">|&gt;</span> </span>
<span id="cb115-96"><a href="#cb115-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"col"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-97"><a href="#cb115-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-98"><a href="#cb115-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-99"><a href="#cb115-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span>
<span id="cb115-100"><a href="#cb115-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-101"><a href="#cb115-101" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribución de la categoria de caso, en la base de datos unificada </span></span>
<span id="cb115-102"><a href="#cb115-102" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_unidos, categoria_casos) </span>
<span id="cb115-103"><a href="#cb115-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-104"><a href="#cb115-104" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribución de la categoria de caso por enfermedad, en la base de datos unificada</span></span>
<span id="cb115-105"><a href="#cb115-105" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(datos_unidos, enfermedad_notificada, categoria_casos) <span class="sc">|&gt;</span> </span>
<span id="cb115-106"><a href="#cb115-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-107"><a href="#cb115-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-108"><a href="#cb115-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-109"><a href="#cb115-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span>
<span id="cb115-110"><a href="#cb115-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-111"><a href="#cb115-111" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribución de la categoria de caso por enfermedad, en la base de datos unificada: </span></span>
<span id="cb115-112"><a href="#cb115-112" aria-hidden="true" tabindex="-1"></a><span class="co"># solo casos con un resultado válido</span></span>
<span id="cb115-113"><a href="#cb115-113" aria-hidden="true" tabindex="-1"></a>datos_unidos <span class="sc">|&gt;</span> </span>
<span id="cb115-114"><a href="#cb115-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(categoria_casos <span class="sc">!=</span> <span class="st">"Sospechoso"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-115"><a href="#cb115-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(enfermedad_notificada, categoria_casos) <span class="sc">|&gt;</span> </span>
<span id="cb115-116"><a href="#cb115-116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-117"><a href="#cb115-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-118"><a href="#cb115-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-119"><a href="#cb115-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>()</span>
<span id="cb115-120"><a href="#cb115-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-121"><a href="#cb115-121" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribución de casos confirmados por distrito </span></span>
<span id="cb115-122"><a href="#cb115-122" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="sc">|&gt;</span> </span>
<span id="cb115-123"><a href="#cb115-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(enfermedad_notificada, distrito_residencial) <span class="sc">|&gt;</span> </span>
<span id="cb115-124"><a href="#cb115-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="st">"both"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb115-125"><a href="#cb115-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-126"><a href="#cb115-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span> </span>
<span id="cb115-127"><a href="#cb115-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>() </span>
<span id="cb115-128"><a href="#cb115-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-129"><a href="#cb115-129" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizar casos confirmados a lo largo del tiempo </span></span>
<span id="cb115-130"><a href="#cb115-130" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="sc">|&gt;</span> </span>
<span id="cb115-131"><a href="#cb115-131" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb115-132"><a href="#cb115-132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb115-133"><a href="#cb115-133" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> fecha_notificada, <span class="at">fill =</span> distrito_residencial), </span>
<span id="cb115-134"><a href="#cb115-134" aria-hidden="true" tabindex="-1"></a>    <span class="at">binwidth=</span><span class="dv">7</span></span>
<span id="cb115-135"><a href="#cb115-135" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb115-136"><a href="#cb115-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(.<span class="sc">~</span>enfermedad_notificada, <span class="at">ncol=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb115-137"><a href="#cb115-137" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb115-138"><a href="#cb115-138" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Distrito residencial"</span>,</span>
<span id="cb115-139"><a href="#cb115-139" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Fecha notificada por el centro de salud"</span>,</span>
<span id="cb115-140"><a href="#cb115-140" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Recuento"</span>,</span>
<span id="cb115-141"><a href="#cb115-141" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Número de casos confirmados de cólera, dengue, paludismo, fiebre tifoidea, y fiebre amarilla por semana en Feveria, 2024"</span>) <span class="sc">+</span></span>
<span id="cb115-142"><a href="#cb115-142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"navy"</span>, <span class="st">"lightblue"</span>, <span class="st">"seagreen"</span>)) <span class="sc">+</span></span>
<span id="cb115-143"><a href="#cb115-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 month"</span>, </span>
<span id="cb115-144"><a href="#cb115-144" aria-hidden="true" tabindex="-1"></a>               <span class="at">date_labels =</span> <span class="st">"%d %b"</span>) <span class="sc">+</span></span>
<span id="cb115-145"><a href="#cb115-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>,</span>
<span id="cb115-146"><a href="#cb115-146" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>)) </span>
<span id="cb115-147"><a href="#cb115-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-148"><a href="#cb115-148" aria-hidden="true" tabindex="-1"></a><span class="co"># Primera y última fecha de notificación por enfermedad </span></span>
<span id="cb115-149"><a href="#cb115-149" aria-hidden="true" tabindex="-1"></a>datos_unidos_confirmados <span class="sc">|&gt;</span> </span>
<span id="cb115-150"><a href="#cb115-150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(enfermedad_notificada) <span class="sc">|&gt;</span> </span>
<span id="cb115-151"><a href="#cb115-151" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">primer_reporte =</span> <span class="fu">min</span>(fecha_notificada), </span>
<span id="cb115-152"><a href="#cb115-152" aria-hidden="true" tabindex="-1"></a>            <span class="at">ultimo_reporte =</span> <span class="fu">max</span>(fecha_notificada)) <span class="sc">|&gt;</span></span>
<span id="cb115-153"><a href="#cb115-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="información-sobre-casos-de-estudio" class="level2">
<h2 class="anchored" data-anchor-id="información-sobre-casos-de-estudio">Información sobre casos de estudio</h2>
<div class="callout callout-style-simple callout-note no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><strong>Autores originales</strong> Paula Blomquist y Alanah Jansen, con el apoyo técnico de la Subdivisión de Vigilancia Mundial, Laboratorios y Sistemas de Datos de los CDC, en colaboración con TEPHINET.</p>
<p><strong>Fuente de datos</strong> Datos ficticios proporcionados por Applied Epi.</p>
</div>
</div>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 54%">
</colgroup>
<thead>
<tr class="header">
<th>Fecha</th>
<th style="text-align: left;">Cambios realizados</th>
<th style="text-align: right;">Versión</th>
<th>Autor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Julio 2025</td>
<td style="text-align: left;">Primer borrador</td>
<td style="text-align: right;">1</td>
<td>Paula Blomquist y Alanah Jansen, Applied Epi, con el apoyo técnico de la Subdivisión de Vigilancia Mundial, Laboratorios y Sistemas de Datos de los CDC, en colaboración con TEPHINET.</td>
</tr>
<tr class="even">
<td>Agosto 2025</td>
<td style="text-align: left;">Versión en español</td>
<td style="text-align: right;">1</td>
<td>Luis Quezada, Martin Lotto y Shazia Ruybal</td>
</tr>
</tbody>
</table>
</section>
<section id="condiciones-de-uso" class="level2">
<h2 class="anchored" data-anchor-id="condiciones-de-uso">Condiciones de uso</h2>
<p><strong>Descargo de responsabilidad</strong> La información presentada en este ejercicio y los archivos de datos asociados se han elaborado para ayudar al alumnado a alcanzar los objetivos de aprendizaje previstos. El contenido es responsabilidad de los autores y no refleja necesariamente la opinión oficial de los CDC, del Departamento de Salud y Servicios Humanos de EE. UU. o de TEPHINET.</p>
<p><strong>Licencia</strong>: Este estudio de caso está bajo una <a href="https://github.com/appliedepi/case_studies/tree/master/licenses/multi_disease_lab_LICENSE.md">licencia CC BY-NC-SA 4.0</a>. Para obtener más información sobre cómo compartir y adaptar este estudio de caso, consulte la página <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">escritura asociada</a>.</p>
<p><strong>Financiación</strong> Este estudio de caso fue financiado al 100% por el Acuerdo de Cooperación número NU2HGH000044 financiado por los Centros para el Control y la Prevención de Enfermedades (CDC) de EE.UU.</p>


</section>
</section>

</main> <!-- /main -->
<script>



/* update total correct if #webex-total_correct exists */

update_total_correct = function() {

  console.log("webex: update total_correct");



  var t = document.getElementsByClassName("webex-total_correct");

  for (var i = 0; i < t.length; i++) {

    p = t[i].parentElement;

    var correct = p.getElementsByClassName("webex-correct").length;

    var solvemes = p.getElementsByClassName("webex-solveme").length;

    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;

    var selects = p.getElementsByClassName("webex-select").length;



    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";

  }

}



/* webex-solution button toggling function */

b_func = function() {

  console.log("webex: toggle hide");



  var cl = this.parentElement.classList;

  if (cl.contains('open')) {

    cl.remove("open");

  } else {

    cl.add("open");

  }

}



/* check answers */

check_func = function() {

  console.log("webex: check answers");



  var cl = this.parentElement.classList;

  if (cl.contains('unchecked')) {

    cl.remove("unchecked");

    this.innerHTML = "Hide Answers";

  } else {

    cl.add("unchecked");

    this.innerHTML = "Show Answers";

  }

}



/* function for checking solveme answers */

solveme_func = function(e) {

  console.log("webex: check solveme");



  var real_answers = JSON.parse(this.dataset.answer);

  var my_answer = this.value;

  var cl = this.classList;

  if (cl.contains("ignorecase")) {

    my_answer = my_answer.toLowerCase();

  }

  if (cl.contains("nospaces")) {

    my_answer = my_answer.replace(/ /g, "")

  }



  if (my_answer == "") {

    cl.remove("webex-correct");

    cl.remove("webex-incorrect");

  } else if (real_answers.includes(my_answer)) {

    cl.add("webex-correct");

    cl.remove("webex-incorrect");

  } else {

    cl.add("webex-incorrect");

    cl.remove("webex-correct");

  }



  // match numeric answers within a specified tolerance

  if(this.dataset.tol > 0){

    var tol = JSON.parse(this.dataset.tol);

    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)

    if (matches.reduce((a, b) => a + b, 0) > 0) {

      cl.add("webex-correct");

    } else {

      cl.remove("webex-correct");

    }

  }



  // added regex bit

  if (cl.contains("regex")){

    answer_regex = RegExp(real_answers.join("|"))

    if (answer_regex.test(my_answer)) {

      cl.add("webex-correct");

    }

  }



  update_total_correct();

}



/* function for checking select answers */

select_func = function(e) {

  console.log("webex: check select");



  var cl = this.classList



  /* add style */

  cl.remove("webex-incorrect");

  cl.remove("webex-correct");

  if (this.value == "answer") {

    cl.add("webex-correct");

  } else if (this.value != "blank") {

    cl.add("webex-incorrect");

  }



  update_total_correct();

}



/* function for checking radiogroups answers */

radiogroups_func = function(e) {

  console.log("webex: check radiogroups");



  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');

  var cl = checked_button.parentElement.classList;

  var labels = checked_button.parentElement.parentElement.children;



  /* get rid of styles */

  for (i = 0; i < labels.length; i++) {

    labels[i].classList.remove("webex-incorrect");

    labels[i].classList.remove("webex-correct");

  }



  /* add style */

  if (checked_button.value == "answer") {

    cl.add("webex-correct");

  } else {

    cl.add("webex-incorrect");

  }



  update_total_correct();

}



window.onload = function() {

  console.log("webex onload");

  /* set up solution buttons */

  var buttons = document.getElementsByTagName("button");



  for (var i = 0; i < buttons.length; i++) {

    if (buttons[i].parentElement.classList.contains('webex-solution')) {

      buttons[i].onclick = b_func;

    }

  }



  var check_sections = document.getElementsByClassName("webex-check");

  console.log("check:", check_sections.length);

  for (var i = 0; i < check_sections.length; i++) {

    check_sections[i].classList.add("unchecked");



    let btn = document.createElement("button");

    btn.innerHTML = "Show Answers";

    btn.classList.add("webex-check-button");

    btn.onclick = check_func;

    check_sections[i].appendChild(btn);



    let spn = document.createElement("span");

    spn.classList.add("webex-total_correct");

    check_sections[i].appendChild(spn);

  }



  /* set up webex-solveme inputs */

  var solveme = document.getElementsByClassName("webex-solveme");



  for (var i = 0; i < solveme.length; i++) {

    /* make sure input boxes don't auto-anything */

    solveme[i].setAttribute("autocomplete","off");

    solveme[i].setAttribute("autocorrect", "off");

    solveme[i].setAttribute("autocapitalize", "off");

    solveme[i].setAttribute("spellcheck", "false");

    solveme[i].value = "";



    /* adjust answer for ignorecase or nospaces */

    var cl = solveme[i].classList;

    var real_answer = solveme[i].dataset.answer;

    if (cl.contains("ignorecase")) {

      real_answer = real_answer.toLowerCase();

    }

    if (cl.contains("nospaces")) {

      real_answer = real_answer.replace(/ /g, "");

    }

    solveme[i].dataset.answer = real_answer;



    /* attach checking function */

    solveme[i].onkeyup = solveme_func;

    solveme[i].onchange = solveme_func;



    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")

  }



  /* set up radiogroups */

  var radiogroups = document.getElementsByClassName("webex-radiogroup");

  for (var i = 0; i < radiogroups.length; i++) {

    radiogroups[i].onchange = radiogroups_func;

  }



  /* set up selects */

  var selects = document.getElementsByClassName("webex-select");

  for (var i = 0; i < selects.length; i++) {

    selects[i].onchange = select_func;

    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")

  }



  update_total_correct();

}



</script>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">

<div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>